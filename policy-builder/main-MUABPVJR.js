var Ix=Object.create;var rp=Object.defineProperty,Tx=Object.defineProperties,xx=Object.getOwnPropertyDescriptor,Sx=Object.getOwnPropertyDescriptors,Mx=Object.getOwnPropertyNames,ec=Object.getOwnPropertySymbols,Ax=Object.getPrototypeOf,ip=Object.prototype.hasOwnProperty,Vv=Object.prototype.propertyIsEnumerable;var jv=(e,t,n)=>t in e?rp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T=(e,t)=>{for(var n in t||={})ip.call(t,n)&&jv(e,n,t[n]);if(ec)for(var n of ec(t))Vv.call(t,n)&&jv(e,n,t[n]);return e},B=(e,t)=>Tx(e,Sx(t));var tc=(e,t)=>{var n={};for(var r in e)ip.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ec)for(var r of ec(e))t.indexOf(r)<0&&Vv.call(e,r)&&(n[r]=e[r]);return n};var M=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ox=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Mx(t))!ip.call(e,i)&&i!==n&&rp(e,i,{get:()=>t[i],enumerable:!(r=xx(t,i))||r.enumerable});return e};var Nx=(e,t,n)=>(n=e!=null?Ix(Ax(e)):{},Ox(t||!e||!e.__esModule?rp(n,"default",{value:e,enumerable:!0}):n,e));var b=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});var ty=M(ci=>{"use strict";var XD=ci&&ci.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},yo=ci&&ci.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Kd,Tr;Object.defineProperty(ci,"__esModule",{value:!0});ci.EdcConnectorClientContext=void 0;var ey=class{constructor(t,n){Kd.set(this,void 0),Tr.set(this,void 0),XD(this,Kd,t,"f"),XD(this,Tr,n,"f")}get default(){return this.getOrError(yo(this,Tr,"f").default,"default address")}get protocol(){return this.getOrError(yo(this,Tr,"f").protocol,"protocol address")}get management(){return this.getOrError(yo(this,Tr,"f").management,"management address")}get control(){return this.getOrError(yo(this,Tr,"f").control,"control address")}get public(){return this.getOrError(yo(this,Tr,"f").public,"public address")}get federatedCatalog(){return this.getOrError(yo(this,Tr,"f").federatedCatalogUrl,"federatedCatalog address")}get apiToken(){return yo(this,Kd,"f")}getOrError(t,n){if(t)return t;throw new Error(`'${n}' has not been set on the client`)}};ci.EdcConnectorClientContext=ey;Kd=new WeakMap,Tr=new WeakMap});var KD=M((hW,LF)=>{LF.exports={name:"@think-it-labs/edc-connector-client",version:"0.8.0",description:"EDC Connector HTTP client",private:!1,homepage:"https://github.com/Think-iT-Labs/edc-connector-client",repository:{type:"git",url:"https://github.com/Think-iT-Labs/edc-connector-client"},main:"dist/src/index.js",typings:"dist/src/index.d.ts",scripts:{transpile:"tsc",pretest:"node pretest/edc-openapi.js",test:"jest --forceExit"},engines:{node:">=18"},keywords:["eclipse-edc","edc","dataspace","dataspace-connector"],license:"MIT",dependencies:{"@think-it-labs/typed-error":"^0.3.0",jsonld:"^8.2.1","type-fest":"^4.20.0"},devDependencies:{"@commitlint/config-conventional":"^19.0.3","@types/jest":"^29.5.12","@types/jsonld":"^1.5.8","@types/node":"^22.0.0",commitlint:"^19.0.3",husky:"^9.0.7",jest:"^29.7.0","lint-staged":"^15.0.2",nock:"^14.0.0-beta.6",prettier:"^3.0.1",testcontainers:"^10.9.0","ts-jest":"^29.1.2","ts-node":"^10.9.1",typescript:"^5.1.6"}}});var eE=M(YD=>{"use strict";Object.defineProperty(YD,"__esModule",{value:!0})});var ny=M(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.JSON_LD_DEFAULT_CONTEXT=vo.EDC_CONTEXT=void 0;vo.EDC_CONTEXT="https://w3id.org/edc/v0.0.1/ns/";vo.JSON_LD_DEFAULT_CONTEXT={"@vocab":vo.EDC_CONTEXT}});var Yd=M((yW,nE)=>{"use strict";nE.exports=class tE{constructor(t,n=new Map,r=0){this.prefix=t,this._existing=n,this.counter=r}clone(){let{prefix:t,_existing:n,counter:r}=this;return new tE(t,new Map(n),r)}getId(t){let n=t&&this._existing.get(t);if(n)return n;let r=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,r),r}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}}});var iE=M(rE=>{"use strict";(function(e,t){"use strict";if(e.setImmediate)return;var n=1,r={},i=!1,o=e.document,s;function a(_){typeof _!="function"&&(_=new Function(""+_));for(var D=new Array(arguments.length-1),S=0;S<D.length;S++)D[S]=arguments[S+1];var x={callback:_,args:D};return r[n]=x,s(n),n++}function l(_){delete r[_]}function c(_){var D=_.callback,S=_.args;switch(S.length){case 0:D();break;case 1:D(S[0]);break;case 2:D(S[0],S[1]);break;case 3:D(S[0],S[1],S[2]);break;default:D.apply(t,S);break}}function d(_){if(i)setTimeout(d,0,_);else{var D=r[_];if(D){i=!0;try{c(D)}finally{l(_),i=!1}}}}function f(){s=function(_){process.nextTick(function(){d(_)})}}function h(){if(e.postMessage&&!e.importScripts){var _=!0,D=e.onmessage;return e.onmessage=function(){_=!1},e.postMessage("","*"),e.onmessage=D,_}}function u(){var _="setImmediate$"+Math.random()+"$",D=function(S){S.source===e&&typeof S.data=="string"&&S.data.indexOf(_)===0&&d(+S.data.slice(_.length))};e.addEventListener?e.addEventListener("message",D,!1):e.attachEvent("onmessage",D),s=function(S){e.postMessage(_+S,"*")}}function p(){var _=new MessageChannel;_.port1.onmessage=function(D){var S=D.data;d(S)},s=function(D){_.port2.postMessage(D)}}function g(){var _=o.documentElement;s=function(D){var S=o.createElement("script");S.onreadystatechange=function(){d(D),S.onreadystatechange=null,_.removeChild(S),S=null},_.appendChild(S)}}function m(){s=function(_){setTimeout(d,0,_)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,{}.toString.call(e.process)==="[object process]"?f():h()?u():e.MessageChannel?p():o&&"onreadystatechange"in o.createElement("script")?g():m(),y.setImmediate=a,y.clearImmediate=l})(typeof self>"u"?typeof global>"u"?rE:global:self)});var xl=M((_W,oE)=>{"use strict";iE();var ry=self.crypto||self.msCrypto;oE.exports=class{constructor(t){if(!(ry&&ry.subtle))throw new Error("crypto.subtle not found.");if(t==="sha256")this.algorithm={name:"SHA-256"};else if(t==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${t}".`);this._content=""}update(t){this._content+=t}digest(){return b(this,null,function*(){let t=new TextEncoder().encode(this._content),n=new Uint8Array(yield ry.subtle.digest(this.algorithm,t)),r="";for(let i=0;i<n.length;++i)r+=n[i].toString(16).padStart(2,"0");return r})}}});var iy=M((DW,sE)=>{"use strict";sE.exports=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let n=0;n<t.length;++n)this.dir.set(t[n],!0)}hasNext(){return!this.done}next(){let{current:t,dir:n}=this,r=t.slice(),i=null,o=0,s=t.length;for(let a=0;a<s;++a){let l=t[a],c=n.get(l);(i===null||l>i)&&(c&&a>0&&l>t[a-1]||!c&&a<s-1&&l>t[a+1])&&(i=l,o=a)}if(i===null)this.done=!0;else{let a=n.get(i)?o-1:o+1;t[o]=t[a],t[a]=i;for(let l of t)l>i&&n.set(l,!n.get(l))}return r}}});var nf=M((EW,lE)=>{"use strict";var jF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",oy=jF+"langString",sy="http://www.w3.org/2001/XMLSchema#string",Tn="NamedNode",Co="BlankNode",ef="Literal",aE="DefaultGraph",js={};(()=>{let e="(?:<([^:]+:[^>]*)>)",n="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD"+"_",r=n+"0-9-\xB7\u0300-\u036F\u203F-\u2040",o="(_:(?:["+n+"0-9])(?:(?:["+r+".])*(?:["+r+"]))?)",s='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',a="(?:\\^\\^"+e+")",c="(?:"+s+"(?:"+a+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",d="[ \\t]+",f="[ \\t]*",h="(?:"+e+"|"+o+")"+d,u=e+d,p="(?:"+e+"|"+o+"|"+c+")"+f,g="(?:\\.|(?:(?:"+e+"|"+o+")"+f+"\\.))";js.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,js.empty=new RegExp("^"+f+"$"),js.quad=new RegExp("^"+f+h+u+p+g+f+"$")})();lE.exports=class tf{static parse(t){let n=[],r={},i=t.split(js.eoln),o=0;for(let s of i){if(o++,js.empty.test(s))continue;let a=s.match(js.quad);if(a===null)throw new Error("N-Quads parse error on line "+o+".");let l={subject:null,predicate:null,object:null,graph:null};if(a[1]!==void 0?l.subject={termType:Tn,value:a[1]}:l.subject={termType:Co,value:a[2]},l.predicate={termType:Tn,value:a[3]},a[4]!==void 0?l.object={termType:Tn,value:a[4]}:a[5]!==void 0?l.object={termType:Co,value:a[5]}:(l.object={termType:ef,value:void 0,datatype:{termType:Tn}},a[7]!==void 0?l.object.datatype.value=a[7]:a[8]!==void 0?(l.object.datatype.value=oy,l.object.language=a[8]):l.object.datatype.value=sy,l.object.value=HF(a[6])),a[9]!==void 0?l.graph={termType:Tn,value:a[9]}:a[10]!==void 0?l.graph={termType:Co,value:a[10]}:l.graph={termType:aE,value:""},!(l.graph.value in r))r[l.graph.value]=[l],n.push(l);else{let c=!0,d=r[l.graph.value];for(let f of d)if(VF(f,l)){c=!1;break}c&&(d.push(l),n.push(l))}}return n}static serialize(t){Array.isArray(t)||(t=tf.legacyDatasetToQuads(t));let n=[];for(let r of t)n.push(tf.serializeQuad(r));return n.sort().join("")}static serializeQuadComponents(t,n,r,i){let o="";return t.termType===Tn?o+=`<${t.value}>`:o+=`${t.value}`,o+=` <${n.value}> `,r.termType===Tn?o+=`<${r.value}>`:r.termType===Co?o+=r.value:(o+=`"${BF(r.value)}"`,r.datatype.value===oy?r.language&&(o+=`@${r.language}`):r.datatype.value!==sy&&(o+=`^^<${r.datatype.value}>`)),i.termType===Tn?o+=` <${i.value}>`:i.termType===Co&&(o+=` ${i.value}`),o+=` .
`,o}static serializeQuad(t){return tf.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(t){let n=[],r={"blank node":Co,IRI:Tn,literal:ef};for(let i in t)t[i].forEach(s=>{let a={};for(let l in s){let c=s[l],d={termType:r[c.type],value:c.value};d.termType===ef&&(d.datatype={termType:Tn},"datatype"in c&&(d.datatype.value=c.datatype),"language"in c?("datatype"in c||(d.datatype.value=oy),d.language=c.language):"datatype"in c||(d.datatype.value=sy)),a[l]=d}i==="@default"?a.graph={termType:aE,value:""}:a.graph={termType:i.startsWith("_:")?Co:Tn,value:i},n.push(a)});return n}};function VF(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==ef?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}var UF=/["\\\n\r]/g;function BF(e){return e.replace(UF,function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}var $F=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function HF(e){return e.replace($F,function(t,n,r,i){if(n)switch(n){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(i)throw new Error("Unsupported U escape")})}});var ay=M((TW,dE)=>{"use strict";var cE=Yd(),qF=xl(),GF=iy(),uE=nf();dE.exports=class{constructor({createMessageDigest:t=()=>new qF("sha256"),canonicalIdMap:n=new Map,maxDeepIterations:r=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new cE("_:c14n",n),this.createMessageDigest=t,this.maxDeepIterations=r,this.quads=null,this.deepIterations=null}main(t){return b(this,null,function*(){this.deepIterations=new Map,this.quads=t;for(let l of t)this._addBlankNodeQuadInfo({quad:l,component:l.subject}),this._addBlankNodeQuadInfo({quad:l,component:l.object}),this._addBlankNodeQuadInfo({quad:l,component:l.graph});let n=new Map,r=[...this.blankNodeInfo.keys()],i=0;for(let l of r)++i%100===0&&(yield this._yield()),yield this._hashAndTrackBlankNode({id:l,hashToBlankNodes:n});let o=[...n.keys()].sort(),s=[];for(let l of o){let c=n.get(l);if(c.length>1){s.push(c);continue}let d=c[0];this.canonicalIssuer.getId(d)}for(let l of s){let c=[];for(let d of l){if(this.canonicalIssuer.hasId(d))continue;let f=new cE("_:b");f.getId(d);let h=yield this.hashNDegreeQuads(d,f);c.push(h)}c.sort(zF);for(let d of c){let f=d.issuer.getOldIds();for(let h of f)this.canonicalIssuer.getId(h)}}let a=[];for(let l of this.quads){let c=uE.serializeQuadComponents(this._componentWithCanonicalId(l.subject),l.predicate,this._componentWithCanonicalId(l.object),this._componentWithCanonicalId(l.graph));a.push(c)}return a.sort(),a.join("")})}hashFirstDegreeQuads(t){return b(this,null,function*(){let n=[],r=this.blankNodeInfo.get(t),i=r.quads;for(let s of i){let a={subject:null,predicate:s.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(t,s.subject,"subject"),a.object=this.modifyFirstDegreeComponent(t,s.object,"object"),a.graph=this.modifyFirstDegreeComponent(t,s.graph,"graph"),n.push(uE.serializeQuad(a))}n.sort();let o=this.createMessageDigest();for(let s of n)o.update(s);return r.hash=yield o.digest(),r.hash})}hashRelatedBlankNode(t,n,r,i){return b(this,null,function*(){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):r.hasId(t)?o=r.getId(t):o=this.blankNodeInfo.get(t).hash;let s=this.createMessageDigest();return s.update(i),i!=="g"&&s.update(this.getRelatedPredicate(n)),s.update(o),s.digest()})}hashNDegreeQuads(t,n){return b(this,null,function*(){let r=this.deepIterations.get(t)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,r+1);let i=this.createMessageDigest(),o=yield this.createHashToRelated(t,n),s=[...o.keys()].sort();for(let a of s){i.update(a);let l="",c,d=new GF(o.get(a)),f=0;for(;d.hasNext();){let h=d.next();++f%3===0&&(yield this._yield());let u=n.clone(),p="",g=[],m=!1;for(let y of h)if(this.canonicalIssuer.hasId(y)?p+=this.canonicalIssuer.getId(y):(u.hasId(y)||g.push(y),p+=u.getId(y)),l.length!==0&&p>l){m=!0;break}if(!m){for(let y of g){let _=yield this.hashNDegreeQuads(y,u);if(p+=u.getId(y),p+=`<${_.hash}>`,u=_.issuer,l.length!==0&&p>l){m=!0;break}}m||(l.length===0||p<l)&&(l=p,c=u)}}i.update(l),n=c}return{hash:yield i.digest(),issuer:n}})}modifyFirstDegreeComponent(t,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,n){return b(this,null,function*(){let r=new Map,i=this.blankNodeInfo.get(t).quads,o=0;for(let s of i)++o%100===0&&(yield this._yield()),yield Promise.all([this._addRelatedBlankNodeHash({quad:s,component:s.subject,position:"s",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:s,component:s.object,position:"o",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:s,component:s.graph,position:"g",id:t,issuer:n,hashToRelated:r})]);return r})}_hashAndTrackBlankNode(r){return b(this,arguments,function*({id:t,hashToBlankNodes:n}){let i=yield this.hashFirstDegreeQuads(t),o=n.get(i);o?o.push(t):n.set(i,[t])})}_addBlankNodeQuadInfo({quad:t,component:n}){if(n.termType!=="BlankNode")return;let r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash(a){return b(this,arguments,function*({quad:t,component:n,position:r,id:i,issuer:o,hashToRelated:s}){if(!(n.termType==="BlankNode"&&n.value!==i))return;let l=n.value,c=yield this.hashRelatedBlankNode(l,t,o,r),d=s.get(c);d?d.push(l):s.set(c,[l])})}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}_yield(){return b(this,null,function*(){return new Promise(t=>setImmediate(t))})}};function zF(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}});var pE=M((MW,fE)=>{"use strict";var WF=xl(),JF=ay();fE.exports=class extends JF{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new WF("sha1")}modifyFirstDegreeComponent(t,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,n){return b(this,null,function*(){let r=new Map,i=this.blankNodeInfo.get(t).quads,o=0;for(let s of i){let a,l;if(s.subject.termType==="BlankNode"&&s.subject.value!==t)l=s.subject.value,a="p";else if(s.object.termType==="BlankNode"&&s.object.value!==t)l=s.object.value,a="r";else continue;++o%100===0&&(yield this._yield());let c=yield this.hashRelatedBlankNode(l,s,n,a),d=r.get(c);d?d.push(l):r.set(c,[l])}return r})}}});var ly=M((NW,mE)=>{"use strict";var hE=Yd(),ZF=xl(),QF=iy(),gE=nf();mE.exports=class{constructor({createMessageDigest:t=()=>new ZF("sha256"),canonicalIdMap:n=new Map,maxDeepIterations:r=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new hE("_:c14n",n),this.createMessageDigest=t,this.maxDeepIterations=r,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(let a of t)this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph});let n=new Map,r=[...this.blankNodeInfo.keys()];for(let a of r)this._hashAndTrackBlankNode({id:a,hashToBlankNodes:n});let i=[...n.keys()].sort(),o=[];for(let a of i){let l=n.get(a);if(l.length>1){o.push(l);continue}let c=l[0];this.canonicalIssuer.getId(c)}for(let a of o){let l=[];for(let c of a){if(this.canonicalIssuer.hasId(c))continue;let d=new hE("_:b");d.getId(c);let f=this.hashNDegreeQuads(c,d);l.push(f)}l.sort(XF);for(let c of l){let d=c.issuer.getOldIds();for(let f of d)this.canonicalIssuer.getId(f)}}let s=[];for(let a of this.quads){let l=gE.serializeQuadComponents(this._componentWithCanonicalId({component:a.subject}),a.predicate,this._componentWithCanonicalId({component:a.object}),this._componentWithCanonicalId({component:a.graph}));s.push(l)}return s.sort(),s.join("")}hashFirstDegreeQuads(t){let n=[],r=this.blankNodeInfo.get(t),i=r.quads;for(let s of i){let a={subject:null,predicate:s.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(t,s.subject,"subject"),a.object=this.modifyFirstDegreeComponent(t,s.object,"object"),a.graph=this.modifyFirstDegreeComponent(t,s.graph,"graph"),n.push(gE.serializeQuad(a))}n.sort();let o=this.createMessageDigest();for(let s of n)o.update(s);return r.hash=o.digest(),r.hash}hashRelatedBlankNode(t,n,r,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):r.hasId(t)?o=r.getId(t):o=this.blankNodeInfo.get(t).hash;let s=this.createMessageDigest();return s.update(i),i!=="g"&&s.update(this.getRelatedPredicate(n)),s.update(o),s.digest()}hashNDegreeQuads(t,n){let r=this.deepIterations.get(t)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,r+1);let i=this.createMessageDigest(),o=this.createHashToRelated(t,n),s=[...o.keys()].sort();for(let a of s){i.update(a);let l="",c,d=new QF(o.get(a));for(;d.hasNext();){let f=d.next(),h=n.clone(),u="",p=[],g=!1;for(let m of f)if(this.canonicalIssuer.hasId(m)?u+=this.canonicalIssuer.getId(m):(h.hasId(m)||p.push(m),u+=h.getId(m)),l.length!==0&&u>l){g=!0;break}if(!g){for(let m of p){let y=this.hashNDegreeQuads(m,h);if(u+=h.getId(m),u+=`<${y.hash}>`,h=y.issuer,l.length!==0&&u>l){g=!0;break}}g||(l.length===0||u<l)&&(l=u,c=h)}}i.update(l),n=c}return{hash:i.digest(),issuer:n}}modifyFirstDegreeComponent(t,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,n){let r=new Map,i=this.blankNodeInfo.get(t).quads;for(let o of i)this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:t,issuer:n,hashToRelated:r});return r}_hashAndTrackBlankNode({id:t,hashToBlankNodes:n}){let r=this.hashFirstDegreeQuads(t),i=n.get(r);i?i.push(t):n.set(r,[t])}_addBlankNodeQuadInfo({quad:t,component:n}){if(n.termType!=="BlankNode")return;let r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:n,position:r,id:i,issuer:o,hashToRelated:s}){if(!(n.termType==="BlankNode"&&n.value!==i))return;let a=n.value,l=this.hashRelatedBlankNode(a,t,o,r),c=s.get(l);c?c.push(a):s.set(l,[a])}_componentWithCanonicalId({component:t}){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function XF(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}});var vE=M((PW,yE)=>{"use strict";var KF=xl(),YF=ly();yE.exports=class extends YF{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new KF("sha1")}modifyFirstDegreeComponent(t,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,n){let r=new Map,i=this.blankNodeInfo.get(t).quads;for(let o of i){let s,a;if(o.subject.termType==="BlankNode"&&o.subject.value!==t)a=o.subject.value,s="p";else if(o.object.termType==="BlankNode"&&o.object.value!==t)a=o.object.value,s="r";else continue;let l=this.hashRelatedBlankNode(a,o,n,s),c=r.get(l);c?c.push(a):r.set(l,[a])}return r}}});var CE=M(()=>{"use strict"});var bE=M(bo=>{"use strict";var eL=ay(),tL=pE(),nL=ly(),rL=vE(),_o;try{_o=CE()}catch{}function _E(e){return Array.isArray(e)?e:bo.NQuads.legacyDatasetToQuads(e)}bo.NQuads=nf();bo.IdentifierIssuer=Yd();bo._rdfCanonizeNative=function(e){return e&&(_o=e),_o};bo.canonize=function(e,t){return b(this,null,function*(){let n=_E(e,t);if(t.useNative){if(!_o)throw new Error("rdf-canonize-native not available");if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((r,i)=>_o.canonize(n,t,(o,s)=>o?i(o):r(s)))}if(t.algorithm==="URDNA2015")return new eL(t).main(n);if(t.algorithm==="URGNA2012"){if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new tL(t).main(n)}throw"algorithm"in t?new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")})};bo._canonizeSync=function(e,t){let n=_E(e,t);if(t.useNative){if(!_o)throw new Error("rdf-canonize-native not available");if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return _o.canonizeSync(n,t)}if(t.algorithm==="URDNA2015")return new nL(t).main(n);if(t.algorithm==="URGNA2012"){if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new rL(t).main(n)}throw"algorithm"in t?new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}});var rf=M((VW,wE)=>{"use strict";wE.exports=bE()});var Ot=M((UW,DE)=>{"use strict";var tn={};DE.exports=tn;tn.isArray=Array.isArray;tn.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]";tn.isDouble=e=>tn.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21);tn.isEmptyObject=e=>tn.isObject(e)&&Object.keys(e).length===0;tn.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]";tn.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e);tn.isObject=e=>Object.prototype.toString.call(e)==="[object Object]";tn.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]";tn.isUndefined=e=>typeof e>"u"});var Xn=M((BW,EE)=>{"use strict";var wo=Ot(),xr={};EE.exports=xr;xr.isSubject=e=>wo.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)?Object.keys(e).length>1||!("@id"in e):!1;xr.isSubjectReference=e=>wo.isObject(e)&&Object.keys(e).length===1&&"@id"in e;xr.isValue=e=>wo.isObject(e)&&"@value"in e;xr.isList=e=>wo.isObject(e)&&"@list"in e;xr.isGraph=e=>wo.isObject(e)&&"@graph"in e&&Object.keys(e).filter(t=>t!=="@id"&&t!=="@index").length===1;xr.isSimpleGraph=e=>xr.isGraph(e)&&!("@id"in e);xr.isBlankNode=e=>{if(wo.isObject(e)){if("@id"in e){let t=e["@id"];return!wo.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return!1}});var Vt=M((HW,IE)=>{"use strict";IE.exports=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",n="jsonld.Error",r={}){super(t),this.name=n,this.message=t,this.details=r}}});var Ut=M((qW,SE)=>{"use strict";var Sl=Xn(),st=Ot(),xE=rf().IdentifierIssuer,iL=Vt(),oL=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,sL=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,aL=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,lL=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,cL=/^@[a-zA-Z]+$/,TE={headers:{accept:"application/ld+json, application/json"}},pe={};SE.exports=pe;pe.IdentifierIssuer=xE;pe.REGEX_BCP47=oL;pe.REGEX_KEYWORD=cL;pe.clone=function(e){if(e&&typeof e=="object"){let t;if(st.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=pe.clone(e[n])}else if(e instanceof Map){t=new Map;for(let[n,r]of e)t.set(n,pe.clone(r))}else if(e instanceof Set){t=new Set;for(let n of e)t.add(pe.clone(n))}else if(st.isObject(e)){t={};for(let n in e)t[n]=pe.clone(e[n])}else t=e.toString();return t}return e};pe.asArray=function(e){return Array.isArray(e)?e:[e]};pe.buildHeaders=(e={})=>{if(Object.keys(e).some(n=>n.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+TE.headers.accept+'" is supported.');return Object.assign({Accept:TE.headers.accept},e)};pe.parseLinkHeader=e=>{let t={},n=e.match(sL);for(let r=0;r<n.length;++r){let i=n[r].match(aL);if(!i)continue;let o={target:i[1]},s=i[2];for(;i=lL.exec(s);)o[i[1]]=i[2]===void 0?i[3]:i[2];let a=o.rel||"";Array.isArray(t[a])?t[a].push(o):t.hasOwnProperty(a)?t[a]=[t[a],o]:t[a]=o}return t};pe.validateTypeValue=(e,t)=>{if(!st.isString(e)&&!(st.isArray(e)&&e.every(n=>st.isString(n)))){if(t&&st.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&pe.asArray(e["@default"]).every(n=>st.isString(n)))return}throw new iL('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}};pe.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){let n=e[t];return!st.isArray(n)||n.length>0}return!1};pe.hasValue=(e,t,n)=>{if(pe.hasProperty(e,t)){let r=e[t],i=Sl.isList(r);if(st.isArray(r)||i){i&&(r=r["@list"]);for(let o=0;o<r.length;++o)if(pe.compareValues(n,r[o]))return!0}else if(!st.isArray(n))return pe.compareValues(n,r)}return!1};pe.addValue=(e,t,n,r)=>{if(r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(st.isArray(n)){n.length===0&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let i=0;i<n.length;++i)pe.addValue(e,t,n[i],r)}else if(e.hasOwnProperty(t)){let i=!r.allowDuplicate&&pe.hasValue(e,t,n);!st.isArray(e[t])&&(!i||r.propertyIsArray)&&(e[t]=[e[t]]),i||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n};pe.getValues=(e,t)=>[].concat(e[t]||[]);pe.removeProperty=(e,t)=>{delete e[t]};pe.removeValue=(e,t,n,r)=>{r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1);let i=pe.getValues(e,t).filter(o=>!pe.compareValues(o,n));i.length===0?pe.removeProperty(e,t):i.length===1&&!r.propertyIsArray?e[t]=i[0]:e[t]=i};pe.relabelBlankNodes=(e,t)=>{t=t||{};let n=t.issuer||new xE("_:b");return of(n,e)};pe.compareValues=(e,t)=>e===t||Sl.isValue(e)&&Sl.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:st.isObject(e)&&"@id"in e&&st.isObject(t)&&"@id"in t?e["@id"]===t["@id"]:!1;pe.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;function of(e,t){if(st.isArray(t))for(let n=0;n<t.length;++n)t[n]=of(e,t[n]);else if(Sl.isList(t))t["@list"]=of(e,t["@list"]);else if(st.isObject(t)){Sl.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));let n=Object.keys(t).sort();for(let r=0;r<n.length;++r){let i=n[r];i!=="@id"&&(t[i]=of(e,t[i]))}}return t}});var sf=M((GW,ME)=>{"use strict";var xn="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Ml="http://www.w3.org/2001/XMLSchema#";ME.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:xn,RDF_LIST:xn+"List",RDF_FIRST:xn+"first",RDF_REST:xn+"rest",RDF_NIL:xn+"nil",RDF_TYPE:xn+"type",RDF_PLAIN_LITERAL:xn+"PlainLiteral",RDF_XML_LITERAL:xn+"XMLLiteral",RDF_JSON_LITERAL:xn+"JSON",RDF_OBJECT:xn+"object",RDF_LANGSTRING:xn+"langString",XSD:Ml,XSD_BOOLEAN:Ml+"boolean",XSD_DOUBLE:Ml+"double",XSD_INTEGER:Ml+"integer",XSD_STRING:Ml+"string"}});var cy=M((WW,AE)=>{"use strict";AE.exports=class{constructor(){this._requests={}}wrapLoader(t){let n=this;return n._loader=t,function(){return n.add.apply(n,arguments)}}add(t){return b(this,null,function*(){let n=this._requests[t];if(n)return Promise.resolve(n);n=this._requests[t]=this._loader(t);try{return yield n}finally{delete this._requests[t]}})}}});var Sr=M((ZW,OE)=>{"use strict";var af=Ot(),at={};OE.exports=at;at.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};at.parse=(e,t)=>{let n={},r=at.parsers[t||"full"],i=r.regex.exec(e),o=r.keys.length;for(;o--;)n[r.keys[o]]=i[o]===void 0?null:i[o];return(n.scheme==="https"&&n.port==="443"||n.scheme==="http"&&n.port==="80")&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=at.removeDotSegments(n.path),n};at.prependBase=(e,t)=>{if(e===null||at.isAbsolute(t))return t;(!e||af.isString(e))&&(e=at.parse(e||""));let n=at.parse(t),r={protocol:e.protocol||""};if(n.authority!==null)r.authority=n.authority,r.path=n.path,r.query=n.query;else if(r.authority=e.authority,n.path==="")r.path=e.path,n.query!==null?r.query=n.query:r.query=e.query;else{if(n.path.indexOf("/")===0)r.path=n.path;else{let o=e.path;o=o.substr(0,o.lastIndexOf("/")+1),(o.length>0||e.authority)&&o.substr(-1)!=="/"&&(o+="/"),o+=n.path,r.path=o}r.query=n.query}n.path!==""&&(r.path=at.removeDotSegments(r.path));let i=r.protocol;return r.authority!==null&&(i+="//"+r.authority),i+=r.path,r.query!==null&&(i+="?"+r.query),n.fragment!==null&&(i+="#"+n.fragment),i===""&&(i="./"),i};at.removeBase=(e,t)=>{if(e===null)return t;(!e||af.isString(e))&&(e=at.parse(e||""));let n="";if(e.href!==""?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),t.indexOf(n)!==0)return t;let r=at.parse(t.substr(n.length)),i=e.normalizedPath.split("/"),o=r.normalizedPath.split("/"),s=r.fragment||r.query?0:1;for(;i.length>0&&o.length>s&&i[0]===o[0];)i.shift(),o.shift();let a="";if(i.length>0){i.pop();for(let l=0;l<i.length;++l)a+="../"}return a+=o.join("/"),r.query!==null&&(a+="?"+r.query),r.fragment!==null&&(a+="#"+r.fragment),a===""&&(a="./"),a};at.removeDotSegments=e=>{if(e.length===0)return"";let t=e.split("/"),n=[];for(;t.length>0;){let r=t.shift(),i=t.length===0;if(r==="."){i&&n.push("");continue}if(r===".."){n.pop(),i&&n.push("");continue}n.push(r)}return e[0]==="/"&&n.length>0&&n[0]!==""&&n.unshift(""),n.length===1&&n[0]===""?"/":n.join("/")};var uL=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;at.isAbsolute=e=>af.isString(e)&&uL.test(e);at.isRelative=e=>af.isString(e)});var RE=M((QW,NE)=>{"use strict";var{parseLinkHeader:dL,buildHeaders:fL}=Ut(),{LINK_HEADER_CONTEXT:pL}=sf(),Al=Vt(),hL=cy(),{prependBase:gL}=Sr(),mL=/(^|(\r\n))link:/i;NE.exports=({secure:e,headers:t={},xhr:n}={headers:{}})=>{return t=fL(t),new hL().wrapLoader(i);function i(o){return b(this,null,function*(){if(o.indexOf("http:")!==0&&o.indexOf("https:")!==0)throw new Al('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:o});if(e&&o.indexOf("https")!==0)throw new Al(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:o});let s;try{s=yield yL(n,o,t)}catch(f){throw new Al("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:o,cause:f})}if(s.status>=400)throw new Al("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:o,httpStatusCode:s.status});let a={contextUrl:null,documentUrl:o,document:s.response},l=null,c=s.getResponseHeader("Content-Type"),d;if(mL.test(s.getAllResponseHeaders())&&(d=s.getResponseHeader("Link")),d&&c!=="application/ld+json"){let f=dL(d),h=f[pL];if(Array.isArray(h))throw new Al("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:o});h&&(a.contextUrl=h.target),l=f.alternate,l&&l.type=="application/ld+json"&&!(c||"").match(/^application\/(\w*\+)?json$/)&&(a=yield i(gL(o,l.target)))}return a})}};function yL(e,t,n){e=e||XMLHttpRequest;let r=new e;return new Promise((i,o)=>{r.onload=()=>i(r),r.onerror=s=>o(s),r.open("GET",t,!0);for(let s in n)r.setRequestHeader(s,n[s]);r.send()})}});var kE=M((KW,PE)=>{"use strict";var vL=RE(),uy={};PE.exports=uy;uy.setupDocumentLoaders=function(e){typeof XMLHttpRequest<"u"&&(e.documentLoaders.xhr=vL,e.useDocumentLoader("xhr"))};uy.setupGlobals=function(e){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}});var LE=M((YW,FE)=>{"use strict";FE.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var VE=M((e6,jE)=>{"use strict";jE.exports=de;de.Node=Do;de.create=de;function de(e){var t=this;if(t instanceof de||(t=new de),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}de.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};de.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};de.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};de.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)_L(this,arguments[e]);return this.length};de.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)bL(this,arguments[e]);return this.length};de.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};de.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};de.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};de.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};de.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};de.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};de.prototype.map=function(e,t){t=t||this;for(var n=new de,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};de.prototype.mapReverse=function(e,t){t=t||this;for(var n=new de,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};de.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};de.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};de.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};de.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};de.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new de;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};de.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new de;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};de.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var o=[],r=0;i&&r<t;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=CL(this,i,n[r]);return o};de.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function CL(e,t,n){var r=t===e.head?new Do(n,null,t,e):new Do(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function _L(e,t){e.tail=new Do(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function bL(e,t){e.head=new Do(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Do(e,t,n,r){if(!(this instanceof Do))return new Do(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{LE()(de)}catch{}});var gy=M((t6,HE)=>{"use strict";var wL=VE(),Eo=Symbol("max"),Ar=Symbol("length"),Vs=Symbol("lengthCalculator"),Nl=Symbol("allowStale"),Io=Symbol("maxAge"),Mr=Symbol("dispose"),UE=Symbol("noDisposeOnSet"),Ze=Symbol("lruList"),Sn=Symbol("cache"),$E=Symbol("updateAgeOnGet"),dy=()=>1,py=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let n=this[Eo]=t.max||1/0,r=t.length||dy;if(this[Vs]=typeof r!="function"?dy:r,this[Nl]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Io]=t.maxAge||0,this[Mr]=t.dispose,this[UE]=t.noDisposeOnSet||!1,this[$E]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Eo]=t||1/0,Ol(this)}get max(){return this[Eo]}set allowStale(t){this[Nl]=!!t}get allowStale(){return this[Nl]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Io]=t,Ol(this)}get maxAge(){return this[Io]}set lengthCalculator(t){typeof t!="function"&&(t=dy),t!==this[Vs]&&(this[Vs]=t,this[Ar]=0,this[Ze].forEach(n=>{n.length=this[Vs](n.value,n.key),this[Ar]+=n.length})),Ol(this)}get lengthCalculator(){return this[Vs]}get length(){return this[Ar]}get itemCount(){return this[Ze].length}rforEach(t,n){n=n||this;for(let r=this[Ze].tail;r!==null;){let i=r.prev;BE(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[Ze].head;r!==null;){let i=r.next;BE(this,t,r,n),r=i}}keys(){return this[Ze].toArray().map(t=>t.key)}values(){return this[Ze].toArray().map(t=>t.value)}reset(){this[Mr]&&this[Ze]&&this[Ze].length&&this[Ze].forEach(t=>this[Mr](t.key,t.value)),this[Sn]=new Map,this[Ze]=new wL,this[Ar]=0}dump(){return this[Ze].map(t=>lf(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Ze]}set(t,n,r){if(r=r||this[Io],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let i=r?Date.now():0,o=this[Vs](n,t);if(this[Sn].has(t)){if(o>this[Eo])return Us(this,this[Sn].get(t)),!1;let l=this[Sn].get(t).value;return this[Mr]&&(this[UE]||this[Mr](t,l.value)),l.now=i,l.maxAge=r,l.value=n,this[Ar]+=o-l.length,l.length=o,this.get(t),Ol(this),!0}let s=new hy(t,n,o,i,r);return s.length>this[Eo]?(this[Mr]&&this[Mr](t,n),!1):(this[Ar]+=s.length,this[Ze].unshift(s),this[Sn].set(t,this[Ze].head),Ol(this),!0)}has(t){if(!this[Sn].has(t))return!1;let n=this[Sn].get(t).value;return!lf(this,n)}get(t){return fy(this,t,!0)}peek(t){return fy(this,t,!1)}pop(){let t=this[Ze].tail;return t?(Us(this,t),t.value):null}del(t){Us(this,this[Sn].get(t))}load(t){this.reset();let n=Date.now();for(let r=t.length-1;r>=0;r--){let i=t[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Sn].forEach((t,n)=>fy(this,n,!1))}},fy=(e,t,n)=>{let r=e[Sn].get(t);if(r){let i=r.value;if(lf(e,i)){if(Us(e,r),!e[Nl])return}else n&&(e[$E]&&(r.value.now=Date.now()),e[Ze].unshiftNode(r));return i.value}},lf=(e,t)=>{if(!t||!t.maxAge&&!e[Io])return!1;let n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Io]&&n>e[Io]},Ol=e=>{if(e[Ar]>e[Eo])for(let t=e[Ze].tail;e[Ar]>e[Eo]&&t!==null;){let n=t.prev;Us(e,t),t=n}},Us=(e,t)=>{if(t){let n=t.value;e[Mr]&&e[Mr](n.key,n.value),e[Ar]-=n.length,e[Sn].delete(n.key),e[Ze].removeNode(t)}},hy=class{constructor(t,n,r,i,o){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}},BE=(e,t,n,r)=>{let i=n.value;lf(e,i)&&(Us(e,n),e[Nl]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};HE.exports=py});var GE=M((r6,qE)=>{"use strict";var DL=gy(),EL=10;qE.exports=class{constructor({document:t}){this.document=t,this.cache=new DL({max:EL})}getProcessed(t){return this.cache.get(t)}setProcessed(t,n){this.cache.set(t,n)}}});var ZE=M((o6,JE)=>{"use strict";var{isArray:my,isObject:Pl,isString:cf}=Ot(),{asArray:IL}=Ut(),{prependBase:yy}=Sr(),Rl=Vt(),zE=GE(),WE=10;JE.exports=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}resolve(s){return b(this,arguments,function*({activeCtx:t,context:n,documentLoader:r,base:i,cycles:o=new Set}){n&&Pl(n)&&n["@context"]&&(n=n["@context"]),n=IL(n);let a=[];for(let l of n){if(cf(l)){let f=this._get(l);f||(f=yield this._resolveRemoteContext({activeCtx:t,url:l,documentLoader:r,base:i,cycles:o})),my(f)?a.push(...f):a.push(f);continue}if(l===null){a.push(new zE({document:null}));continue}Pl(l)||TL(n);let c=JSON.stringify(l),d=this._get(c);d||(d=new zE({document:l}),this._cacheResolvedContext({key:c,resolved:d,tag:"static"})),a.push(d)}return a})}_get(t){let n=this.perOpCache.get(t);if(!n){let r=this.sharedCache.get(t);r&&(n=r.get("static"),n&&this.perOpCache.set(t,n))}return n}_cacheResolvedContext({key:t,resolved:n,tag:r}){if(this.perOpCache.set(t,n),r!==void 0){let i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(r,n)}return n}_resolveRemoteContext(s){return b(this,arguments,function*({activeCtx:t,url:n,documentLoader:r,base:i,cycles:o}){n=yy(i,n);let{context:a,remoteDoc:l}=yield this._fetchContext({activeCtx:t,url:n,documentLoader:r,cycles:o});i=l.documentUrl||n,vy({context:a,base:i});let c=yield this.resolve({activeCtx:t,context:a,documentLoader:r,base:i,cycles:o});return this._cacheResolvedContext({key:n,resolved:c,tag:l.tag}),c})}_fetchContext(o){return b(this,arguments,function*({activeCtx:t,url:n,documentLoader:r,cycles:i}){if(i.size>WE)throw new Rl("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:WE});if(i.has(n))throw new Rl("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:n});i.add(n);let s,a;try{a=yield r(n),s=a.document||null,cf(s)&&(s=JSON.parse(s))}catch(l){throw new Rl(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${n}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:n,cause:l})}if(!Pl(s))throw new Rl(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${n}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:n});return"@context"in s?s={"@context":s["@context"]}:s={"@context":{}},a.contextUrl&&(my(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(a.contextUrl)),{context:s,remoteDoc:a}})}};function TL(e){throw new Rl("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function vy({context:e,base:t}){if(!e)return;let n=e["@context"];if(cf(n)){e["@context"]=yy(t,n);return}if(my(n)){for(let r=0;r<n.length;++r){let i=n[r];if(cf(i)){n[r]=yy(t,i);continue}Pl(i)&&vy({context:{"@context":i},base:t})}return}if(Pl(n))for(let r in n)vy({context:n[r],base:t})}});var XE=M((a6,QE)=>{"use strict";QE.exports=rf().NQuads});var Bs=M((l6,eI)=>{"use strict";var Cy=Vt(),{isArray:xL}=Ot(),{asArray:KE}=Ut(),Bt={};eI.exports=Bt;Bt.defaultEventHandler=null;Bt.setupEventHandler=({options:e={}})=>{let t=[].concat(e.safe?Bt.safeEventHandler:[],e.eventHandler?KE(e.eventHandler):[],Bt.defaultEventHandler?Bt.defaultEventHandler:[]);return t.length===0?null:t};Bt.handleEvent=({event:e,options:t})=>{YE({event:e,handlers:t.eventHandler})};function YE({event:e,handlers:t}){let n=!0;for(let r=0;n&&r<t.length;++r){n=!1;let i=t[r];if(xL(i))n=YE({event:e,handlers:i});else if(typeof i=="function")i({event:e,next:()=>{n=!0}});else if(typeof i=="object")e.code in i?i[e.code]({event:e,next:()=>{n=!0}}):n=!0;else throw new Cy("Invalid event handler.","jsonld.InvalidEventHandler",{event:e})}return n}var SL=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);Bt.safeEventHandler=function({event:t,next:n}){if(t.level==="warning"&&SL.has(t.code))throw new Cy("Safe mode validation error.","jsonld.ValidationError",{event:t});n()};Bt.logEventHandler=function({event:t,next:n}){console.log(`EVENT: ${t.message}`,{event:t}),n()};Bt.logWarningEventHandler=function({event:t,next:n}){t.level==="warning"&&console.warn(`WARNING: ${t.message}`,{event:t}),n()};Bt.unhandledEventHandler=function({event:t}){throw new Cy("No handler for event.","jsonld.UnhandledEvent",{event:t})};Bt.setDefaultEventHandler=function({eventHandler:e}={}){Bt.defaultEventHandler=e?KE(e):null}});var di=M((iI,oI)=>{"use strict";var tI=Ut(),H=Vt(),{isArray:nI,isObject:ui,isString:Nt,isUndefined:ML}=Ot(),{isAbsolute:To,isRelative:AL,prependBase:kl}=Sr(),{handleEvent:Hs}=Bs(),{REGEX_BCP47:OL,REGEX_KEYWORD:df,asArray:rI,compareShortestLeast:NL}=Ut(),uf=new Map,RL=1e4,xe={};oI.exports=xe;xe.process=s=>b(null,[s],function*({activeCtx:e,localCtx:t,options:n,propagate:r=!0,overrideProtected:i=!1,cycles:o=new Set}){if(ui(t)&&"@context"in t&&nI(t["@context"])&&(t=t["@context"]),rI(t).length===0)return e;let l=[],c=[({event:u,next:p})=>{l.push(u),p()}];n.eventHandler&&c.push(n.eventHandler);let d=n;n=B(T({},n),{eventHandler:c});let f=yield n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});ui(f[0].document)&&typeof f[0].document["@propagate"]=="boolean"&&(r=f[0].document["@propagate"]);let h=e;!r&&!h.previousContext&&(h=h.clone(),h.previousContext=e);for(let u of f){let{document:p}=u;if(e=h,p===null){if(!i&&Object.keys(e.protected).length!==0)throw new H("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});h=e=xe.getInitialContext(n).clone();continue}let g=u.getProcessed(e);if(g){if(d.eventHandler)for(let y of g.events)Hs({event:y,options:d});h=e=g.context;continue}if(ui(p)&&"@context"in p&&(p=p["@context"]),!ui(p))throw new H("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:p});h=h.clone();let m=new Map;if("@version"in p){if(p["@version"]!==1.1)throw new H("Unsupported JSON-LD version: "+p["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:p});if(e.processingMode&&e.processingMode==="json-ld-1.0")throw new H("@version: "+p["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:p});h.processingMode="json-ld-1.1",h["@version"]=p["@version"],m.set("@version",!0)}if(h.processingMode=h.processingMode||e.processingMode,"@base"in p){let y=p["@base"];if(!(y===null||To(y)))if(AL(y))y=kl(h["@base"],y);else throw new H('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:p});h["@base"]=y,m.set("@base",!0)}if("@vocab"in p){let y=p["@vocab"];if(y===null)delete h["@vocab"];else if(Nt(y)){if(!To(y)&&xe.processingMode(h,1))throw new H('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:p});{let _=$s(h,y,{vocab:!0,base:!0},void 0,void 0,n);To(_)||n.eventHandler&&Hs({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:_}},options:n}),h["@vocab"]=_}}else throw new H('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:p});m.set("@vocab",!0)}if("@language"in p){let y=p["@language"];if(y===null)delete h["@language"];else if(Nt(y))y.match(OL)||n.eventHandler&&Hs({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:y}},options:n}),h["@language"]=y.toLowerCase();else throw new H('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:p});m.set("@language",!0)}if("@direction"in p){let y=p["@direction"];if(e.processingMode==="json-ld-1.0")throw new H("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:p});if(y===null)delete h["@direction"];else{if(y!=="ltr"&&y!=="rtl")throw new H('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:p});h["@direction"]=y}m.set("@direction",!0)}if("@propagate"in p){let y=p["@propagate"];if(e.processingMode==="json-ld-1.0")throw new H("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:p});if(typeof y!="boolean")throw new H("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});m.set("@propagate",!0)}if("@import"in p){let y=p["@import"];if(e.processingMode==="json-ld-1.0")throw new H("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:p});if(!Nt(y))throw new H("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});let _=yield n.contextResolver.resolve({activeCtx:e,context:y,documentLoader:n.documentLoader,base:n.base});if(_.length!==1)throw new H("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});let D=_[0].getProcessed(e);if(D)p=D;else{let S=_[0].document;if("@import"in S)throw new H("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(let x in S)p.hasOwnProperty(x)||(p[x]=S[x]);_[0].setProcessed(e,p)}m.set("@import",!0)}m.set("@protected",p["@protected"]||!1);for(let y in p)if(xe.createTermDefinition({activeCtx:h,localCtx:p,term:y,defined:m,options:n,overrideProtected:i}),ui(p[y])&&"@context"in p[y]){let _=p[y]["@context"],D=!0;if(Nt(_)){let S=kl(n.base,_);o.has(S)?D=!1:o.add(S)}if(D)try{yield xe.process({activeCtx:h.clone(),localCtx:p[y]["@context"],overrideProtected:!0,options:n,cycles:o})}catch{throw new H("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:p[y]["@context"],term:y})}}u.setProcessed(e,{context:h,events:l})}return h});xe.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:i,overrideProtected:o=!1})=>{if(r.has(n)){if(r.get(n))return;throw new H("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}r.set(n,!1);let s;if(t.hasOwnProperty(n)&&(s=t[n]),n==="@type"&&ui(s)&&(s["@container"]||"@set")==="@set"&&xe.processingMode(e,1.1)){let u=["@container","@id","@protected"],p=Object.keys(s);if(p.length===0||p.some(g=>!u.includes(g)))throw new H("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(xe.isKeyword(n))throw new H("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(df)){i.eventHandler&&Hs({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:n}},options:i});return}else if(n==="")throw new H("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}let a=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let l=!1;if((Nt(s)||s===null)&&(l=!0,s={"@id":s}),!ui(s))throw new H("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});let c={};e.mappings.set(n,c),c.reverse=!1;let d=["@container","@id","@language","@reverse","@type"];xe.processingMode(e,1.1)&&d.push("@context","@direction","@index","@nest","@prefix","@protected");for(let u in s)if(!d.includes(u))throw new H("Invalid JSON-LD syntax; a term definition must not contain "+u,"jsonld.SyntaxError",{code:"invalid term definition",context:t});let f=n.indexOf(":");if(c._termHasColon=f>0,"@reverse"in s){if("@id"in s)throw new H("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in s)throw new H("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});let u=s["@reverse"];if(!Nt(u))throw new H("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(u.match(df)){i.eventHandler&&Hs({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:u}},options:i}),a?e.mappings.set(n,a):e.mappings.delete(n);return}let p=$s(e,u,{vocab:!0,base:!1},t,r,i);if(!To(p))throw new H("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});c["@id"]=p,c.reverse=!0}else if("@id"in s){let u=s["@id"];if(u&&!Nt(u))throw new H("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(u===null)c["@id"]=null;else if(!xe.isKeyword(u)&&u.match(df)){i.eventHandler&&Hs({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:u}},options:i}),a?e.mappings.set(n,a):e.mappings.delete(n);return}else if(u!==n){if(u=$s(e,u,{vocab:!0,base:!1},t,r,i),!To(u)&&!xe.isKeyword(u))throw new H("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)){let p=new Map(r).set(n,!0);if($s(e,n,{vocab:!0,base:!1},t,p,i)!==u)throw new H("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}c["@id"]=u,c._prefix=l&&!c._termHasColon&&u.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in c))if(c._termHasColon){let u=n.substr(0,f);if(t.hasOwnProperty(u)&&xe.createTermDefinition({activeCtx:e,localCtx:t,term:u,defined:r,options:i}),e.mappings.has(u)){let p=n.substr(f+1);c["@id"]=e.mappings.get(u)["@id"]+p}else c["@id"]=n}else if(n==="@type")c["@id"]=n;else{if(!("@vocab"in e))throw new H("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});c["@id"]=e["@vocab"]+n}if((s["@protected"]===!0||r.get("@protected")===!0&&s["@protected"]!==!1)&&(e.protected[n]=!0,c.protected=!0),r.set(n,!0),"@type"in s){let u=s["@type"];if(!Nt(u))throw new H("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(u==="@json"||u==="@none"){if(xe.processingMode(e,1))throw new H(`Invalid JSON-LD syntax; an @context @type value must not be "${u}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if(u!=="@id"&&u!=="@vocab"){if(u=$s(e,u,{vocab:!0,base:!1},t,r,i),!To(u))throw new H("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(u.indexOf("_:")===0)throw new H("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}c["@type"]=u}if("@container"in s){let u=Nt(s["@container"])?[s["@container"]]:s["@container"]||[],p=["@list","@set","@index","@language"],g=!0,m=u.includes("@set");if(xe.processingMode(e,1.1)){if(p.push("@graph","@id","@type"),u.includes("@list")){if(u.length!==1)throw new H("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(u.includes("@graph")){if(u.some(y=>y!=="@graph"&&y!=="@id"&&y!=="@index"&&y!=="@set"))throw new H("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else g&=u.length<=(m?2:1);if(u.includes("@type")&&(c["@type"]=c["@type"]||"@id",!["@id","@vocab"].includes(c["@type"])))throw new H("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else g&=!nI(s["@container"]),g&=u.length<=1;if(g&=u.every(y=>p.includes(y)),g&=!(m&&u.includes("@list")),!g)throw new H("Invalid JSON-LD syntax; @context @container value must be one of the following: "+p.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(c.reverse&&!u.every(y=>["@index","@set"].includes(y)))throw new H("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});c["@container"]=u}if("@index"in s){if(!("@container"in s)||!c["@container"].includes("@index"))throw new H(`Invalid JSON-LD syntax; @index without @index in @container: "${s["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!Nt(s["@index"])||s["@index"].indexOf("@")===0)throw new H(`Invalid JSON-LD syntax; @index must expand to an IRI: "${s["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});c["@index"]=s["@index"]}if("@context"in s&&(c["@context"]=s["@context"]),"@language"in s&&!("@type"in s)){let u=s["@language"];if(u!==null&&!Nt(u))throw new H("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});u!==null&&(u=u.toLowerCase()),c["@language"]=u}if("@prefix"in s){if(n.match(/:|\//))throw new H("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(xe.isKeyword(c["@id"]))throw new H("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(typeof s["@prefix"]=="boolean")c._prefix=s["@prefix"]===!0;else throw new H("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in s){let u=s["@direction"];if(u!==null&&u!=="ltr"&&u!=="rtl")throw new H('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});c["@direction"]=u}if("@nest"in s){let u=s["@nest"];if(!Nt(u)||u!=="@nest"&&u.indexOf("@")===0)throw new H("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});c["@nest"]=u}let h=c["@id"];if(h==="@context"||h==="@preserve")throw new H("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(a&&a.protected&&!o&&(e.protected[n]=!0,c.protected=!0,!_y(a,c)))throw new H("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n})};xe.expandIri=(e,t,n,r)=>$s(e,t,n,void 0,void 0,r);function $s(e,t,n,r,i,o){if(t===null||!Nt(t)||xe.isKeyword(t))return t;if(t.match(df))return null;if(r&&r.hasOwnProperty(t)&&i.get(t)!==!0&&xe.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:i,options:o}),n=n||{},n.vocab){let a=e.mappings.get(t);if(a===null)return null;if(ui(a)&&"@id"in a)return a["@id"]}let s=t.indexOf(":");if(s>0){let a=t.substr(0,s),l=t.substr(s+1);if(a==="_"||l.indexOf("//")===0)return t;r&&r.hasOwnProperty(a)&&xe.createTermDefinition({activeCtx:e,localCtx:r,term:a,defined:i,options:o});let c=e.mappings.get(a);if(c&&c._prefix)return c["@id"]+l;if(To(t))return t}if(n.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(n.base){let a,l;"@base"in e?e["@base"]?(l=kl(o.base,e["@base"]),a=kl(l,t)):(l=e["@base"],a=t):(l=o.base,a=kl(o.base,t)),t=a}return t}xe.getInitialContext=e=>{let t=JSON.stringify({processingMode:e.processingMode}),n=uf.get(t);if(n)return n;let r={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:i,clone:a,revertToPreviousContext:l,protected:{}};return uf.size===RL&&uf.clear(),uf.set(t,r),r;function i(){let c=this;if(c.inverse)return c.inverse;let d=c.inverse={},f=c.fastCurieMap={},h={},u=(c["@language"]||"@none").toLowerCase(),p=c["@direction"],g=c.mappings,m=[...g.keys()].sort(NL);for(let y of m){let _=g.get(y);if(_===null)continue;let D=_["@container"]||"@none";if(D=[].concat(D).sort().join(""),_["@id"]===null)continue;let S=rI(_["@id"]);for(let x of S){let N=d[x],F=xe.isKeyword(x);if(N)!F&&!_._termHasColon&&h[x].push(y);else if(d[x]=N={},!F&&!_._termHasColon){h[x]=[y];let Ce={iri:x,terms:h[x]};x[0]in f?f[x[0]].push(Ce):f[x[0]]=[Ce]}if(N[D]||(N[D]={"@language":{},"@type":{},"@any":{}}),N=N[D],s(y,N["@any"],"@none"),_.reverse)s(y,N["@type"],"@reverse");else if(_["@type"]==="@none")s(y,N["@any"],"@none"),s(y,N["@language"],"@none"),s(y,N["@type"],"@none");else if("@type"in _)s(y,N["@type"],_["@type"]);else if("@language"in _&&"@direction"in _){let Ce=_["@language"],Ee=_["@direction"];Ce&&Ee?s(y,N["@language"],`${Ce}_${Ee}`.toLowerCase()):Ce?s(y,N["@language"],Ce.toLowerCase()):Ee?s(y,N["@language"],`_${Ee}`):s(y,N["@language"],"@null")}else"@language"in _?s(y,N["@language"],(_["@language"]||"@null").toLowerCase()):"@direction"in _?_["@direction"]?s(y,N["@language"],`_${_["@direction"]}`):s(y,N["@language"],"@none"):p?(s(y,N["@language"],`_${p}`),s(y,N["@language"],"@none"),s(y,N["@type"],"@none")):(s(y,N["@language"],u),s(y,N["@language"],"@none"),s(y,N["@type"],"@none"))}}for(let y in f)o(f,y,1);return d}function o(c,d,f){let h=c[d],u=c[d]={},p,g;for(let m of h)p=m.iri,f>=p.length?g="":g=p[f],g in u?u[g].push(m):u[g]=[m];for(let m in u)m!==""&&o(u,m,f+1)}function s(c,d,f){d.hasOwnProperty(f)||(d[f]=c)}function a(){let c={};return c.mappings=tI.clone(this.mappings),c.clone=this.clone,c.inverse=null,c.getInverse=this.getInverse,c.protected=tI.clone(this.protected),this.previousContext&&(c.previousContext=this.previousContext.clone()),c.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(c["@base"]=this["@base"]),"@language"in this&&(c["@language"]=this["@language"]),"@vocab"in this&&(c["@vocab"]=this["@vocab"]),c}function l(){return this.previousContext?this.previousContext.clone():this}};xe.getContextValue=(e,t,n)=>{if(t===null)return n==="@context"?void 0:null;if(e.mappings.has(t)){let r=e.mappings.get(t);if(ML(n))return r;if(r.hasOwnProperty(n))return r[n]}if(n==="@language"&&n in e||n==="@direction"&&n in e)return e[n];if(n!=="@context")return null};xe.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():e.processingMode==="json-ld-1.0";xe.isKeyword=e=>{if(!Nt(e)||e[0]!=="@")return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function _y(e,t){if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return e===t;let n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(!_y(e[o],t[o]))return!1;return!0}let r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(let o in e){let s=e[o],a=t[o];if(o==="@container"&&Array.isArray(s)&&Array.isArray(a)&&(s=s.slice().sort(),a=a.slice().sort()),!_y(s,a))return!1}return!0}});var fI=M((uI,dI)=>{"use strict";var Me=Vt(),{isArray:on,isObject:nn,isEmptyObject:Dy,isString:lt,isUndefined:hf}=Ot(),{isList:by,isValue:Ey,isGraph:PL,isSubject:kL}=Xn(),{expandIri:je,getContextValue:Ht,isKeyword:Iy,process:Fl,processingMode:ff}=di(),{isAbsolute:pf}=Sr(),{REGEX_BCP47:sI,REGEX_KEYWORD:FL,addValue:$t,asArray:Mn,getValues:LL,validateTypeValue:jL}=Ut(),{handleEvent:rn}=Bs(),fi={};dI.exports=fi;fi.expand=a=>b(null,[a],function*({activeCtx:e,activeProperty:t=null,element:n,options:r={},insideList:i=!1,insideIndex:o=!1,typeScopedContext:s=null}){if(n==null)return null;if(t==="@default"&&(r=Object.assign({},r,{isFrame:!1})),!on(n)&&!nn(n))return!i&&(t===null||je(e,t,{vocab:!0},r)==="@graph")?(r.eventHandler&&rn({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:n}},options:r}),null):cI({activeCtx:e,activeProperty:t,value:n,options:r});if(on(n)){let g=[],m=Ht(e,t,"@container")||[];i=i||m.includes("@list");for(let y=0;y<n.length;++y){let _=yield fi.expand({activeCtx:e,activeProperty:t,element:n[y],options:r,insideIndex:o,typeScopedContext:s});i&&on(_)&&(_={"@list":_}),_!==null&&(on(_)?g=g.concat(_):g.push(_))}return g}let l=je(e,t,{vocab:!0},r),c=Ht(e,t,"@context");s=s||(e.previousContext?e:null);let d=Object.keys(n).sort(),f=!o;if(f&&s&&d.length<=2&&!d.includes("@context"))for(let g of d){let m=je(s,g,{vocab:!0},r);if(m==="@value"){f=!1,e=s;break}if(m==="@id"&&d.length===1){f=!1;break}}f&&(e=e.revertToPreviousContext()),hf(c)||(e=yield Fl({activeCtx:e,localCtx:c,propagate:!0,overrideProtected:!0,options:r})),"@context"in n&&(e=yield Fl({activeCtx:e,localCtx:n["@context"],options:r})),s=e;let h=null;for(let g of d)if(je(e,g,{vocab:!0},r)==="@type"){h=h||g;let y=n[g],_=Array.isArray(y)?y.length>1?y.slice().sort():y:[y];for(let D of _){let S=Ht(s,D,"@context");hf(S)||(e=yield Fl({activeCtx:e,localCtx:S,options:r,propagate:!1}))}}let u={};yield lI({activeCtx:e,activeProperty:t,expandedActiveProperty:l,element:n,expandedParent:u,options:r,insideList:i,typeKey:h,typeScopedContext:s}),d=Object.keys(u);let p=d.length;if("@value"in u){if("@type"in u&&("@language"in u||"@direction"in u))throw new Me('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:u});let g=p-1;if("@type"in u&&(g-=1),"@index"in u&&(g-=1),"@language"in u&&(g-=1),"@direction"in u&&(g-=1),g!==0)throw new Me('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:u});let m=u["@value"]===null?[]:Mn(u["@value"]),y=LL(u,"@type");if(!(ff(e,1.1)&&y.includes("@json")&&y.length===1))if(m.length===0)r.eventHandler&&rn({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:u}},options:r}),u=null;else{if(!m.every(_=>lt(_)||Dy(_))&&"@language"in u)throw new Me("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:u});if(!y.every(_=>pf(_)&&!(lt(_)&&_.indexOf("_:")===0)||Dy(_)))throw new Me('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:u})}}else if("@type"in u&&!on(u["@type"]))u["@type"]=[u["@type"]];else if("@set"in u||"@list"in u){if(p>1&&!(p===2&&"@index"in u))throw new Me('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:u});"@set"in u&&(u=u["@set"],d=Object.keys(u),p=d.length)}else p===1&&"@language"in u&&(r.eventHandler&&rn({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:u}},options:r}),u=null);return nn(u)&&!r.keepFreeFloatingNodes&&!i&&(t===null||l==="@graph"||(Ht(e,t,"@container")||[]).includes("@graph"))&&(u=aI({value:u,count:p,options:r})),u});function aI({value:e,count:t,options:n}){if(t===0||"@value"in e||"@list"in e||t===1&&"@id"in e){if(n.eventHandler){let r,i;t===0?(r="empty object",i="Dropping empty object."):"@value"in e?(r="object with only @value",i="Dropping object with only @value."):"@list"in e?(r="object with only @list",i="Dropping object with only @list."):t===1&&"@id"in e&&(r="object with only @id",i="Dropping object with only @id."),rn({event:{type:["JsonLdEvent"],code:r,level:"warning",message:i,details:{value:e}},options:n})}return null}return e}function lI(c){return b(this,arguments,function*({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:r,expandedParent:i,options:o={},insideList:s,typeKey:a,typeScopedContext:l}){let d=Object.keys(r).sort(),f=[],h,u=r[a]&&je(e,on(r[a])?r[a][0]:r[a],{vocab:!0},B(T({},o),{typeExpansion:!0}))==="@json";for(let p of d){let g=r[p],m;if(p==="@context")continue;let y=je(e,p,{vocab:!0},o);if(y===null||!(pf(y)||Iy(y))){o.eventHandler&&rn({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:p,expandedProperty:y}},options:o});continue}if(Iy(y)){if(n==="@reverse")throw new Me("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:g});if(y in i&&y!=="@included"&&y!=="@type")throw new Me("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:y})}if(y==="@id"){if(!lt(g)){if(!o.isFrame)throw new Me('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:g});if(nn(g)){if(!Dy(g))throw new Me('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else if(on(g)){if(!g.every(x=>lt(x)))throw new Me('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else throw new Me('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}$t(i,"@id",Mn(g).map(x=>{if(lt(x)){let N=je(e,x,{base:!0},o);return o.eventHandler&&(N===null?rn(x===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:x}},options:o}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:x}},options:o}):pf(N)||rn({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:x,expandedId:N}},options:o})),N}return x}),{propertyIsArray:o.isFrame});continue}if(y==="@type"){nn(g)&&(g=Object.fromEntries(Object.entries(g).map(([x,N])=>[je(l,x,{vocab:!0}),Mn(N).map(F=>je(l,F,{base:!0,vocab:!0},B(T({},o),{typeExpansion:!0})))]))),jL(g,o.isFrame),$t(i,"@type",Mn(g).map(x=>{if(lt(x)){let N=je(l,x,{base:!0,vocab:!0},B(T({},o),{typeExpansion:!0}));return N!=="@json"&&!pf(N)&&o.eventHandler&&rn({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:x}},options:o}),N}return x}),{propertyIsArray:!!o.isFrame});continue}if(y==="@included"&&ff(e,1.1)){let x=Mn(yield fi.expand({activeCtx:e,activeProperty:t,element:g,options:o}));if(!x.every(N=>kL(N)))throw new Me("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:g});$t(i,"@included",x,{propertyIsArray:!0});continue}if(y==="@graph"&&!(nn(g)||on(g)))throw new Me('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:g});if(y==="@value"){h=g,u&&ff(e,1.1)?i["@value"]=g:$t(i,"@value",g,{propertyIsArray:o.isFrame});continue}if(y==="@language"){if(g===null)continue;if(!lt(g)&&!o.isFrame)throw new Me('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:g});g=Mn(g).map(x=>lt(x)?x.toLowerCase():x);for(let x of g)lt(x)&&!x.match(sI)&&o.eventHandler&&rn({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:x}},options:o});$t(i,"@language",g,{propertyIsArray:o.isFrame});continue}if(y==="@direction"){if(!lt(g)&&!o.isFrame)throw new Me('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:g});g=Mn(g);for(let x of g)if(lt(x)&&x!=="ltr"&&x!=="rtl")throw new Me('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:g});$t(i,"@direction",g,{propertyIsArray:o.isFrame});continue}if(y==="@index"){if(!lt(g))throw new Me('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:g});$t(i,"@index",g);continue}if(y==="@reverse"){if(!nn(g))throw new Me('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:g});if(m=yield fi.expand({activeCtx:e,activeProperty:"@reverse",element:g,options:o}),"@reverse"in m)for(let N in m["@reverse"])$t(i,N,m["@reverse"][N],{propertyIsArray:!0});let x=i["@reverse"]||null;for(let N in m){if(N==="@reverse")continue;x===null&&(x=i["@reverse"]={}),$t(x,N,[],{propertyIsArray:!0});let F=m[N];for(let Ce=0;Ce<F.length;++Ce){let Ee=F[Ce];if(Ey(Ee)||by(Ee))throw new Me('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:m});$t(x,N,Ee,{propertyIsArray:!0})}}continue}if(y==="@nest"){f.push(p);continue}let _=e,D=Ht(e,p,"@context");hf(D)||(_=yield Fl({activeCtx:e,localCtx:D,propagate:!0,overrideProtected:!0,options:o}));let S=Ht(e,p,"@container")||[];if(S.includes("@language")&&nn(g)){let x=Ht(_,p,"@direction");m=VL(_,g,x,o)}else if(S.includes("@index")&&nn(g)){let x=S.includes("@graph"),N=Ht(_,p,"@index")||"@index",F=N!=="@index"&&je(e,N,{vocab:!0},o);m=yield wy({activeCtx:_,options:o,activeProperty:p,value:g,asGraph:x,indexKey:N,propertyIndex:F})}else if(S.includes("@id")&&nn(g)){let x=S.includes("@graph");m=yield wy({activeCtx:_,options:o,activeProperty:p,value:g,asGraph:x,indexKey:"@id"})}else if(S.includes("@type")&&nn(g))m=yield wy({activeCtx:_.revertToPreviousContext(),options:o,activeProperty:p,value:g,asGraph:!1,indexKey:"@type"});else{let x=y==="@list";if(x||y==="@set"){let N=t;x&&n==="@graph"&&(N=null),m=yield fi.expand({activeCtx:_,activeProperty:N,element:g,options:o,insideList:x})}else Ht(e,p,"@type")==="@json"?m={"@type":"@json","@value":g}:m=yield fi.expand({activeCtx:_,activeProperty:p,element:g,options:o,insideList:!1})}if(!(m===null&&y!=="@value")){if(y!=="@list"&&!by(m)&&S.includes("@list")&&(m={"@list":Mn(m)}),S.includes("@graph")&&!S.some(x=>x==="@id"||x==="@index")){if(m=Mn(m),o.isFrame||(m=m.filter(x=>{let N=Object.keys(x).length;return aI({value:x,count:N,options:o})!==null})),m.length===0)continue;m=m.map(x=>({"@graph":Mn(x)}))}if(_.mappings.has(p)&&_.mappings.get(p).reverse){let x=i["@reverse"]=i["@reverse"]||{};m=Mn(m);for(let N=0;N<m.length;++N){let F=m[N];if(Ey(F)||by(F))throw new Me('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:m});$t(x,y,F,{propertyIsArray:!0})}continue}$t(i,y,m,{propertyIsArray:!0})}}if("@value"in i&&!(i["@type"]==="@json"&&ff(e,1.1))){if((nn(h)||on(h))&&!o.isFrame)throw new Me('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:h})}for(let p of f){let g=on(r[p])?r[p]:[r[p]];for(let m of g){if(!nn(m)||Object.keys(m).some(y=>je(e,y,{vocab:!0},o)==="@value"))throw new Me("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:m});yield lI({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:m,expandedParent:i,options:o,insideList:s,typeScopedContext:l,typeKey:a})}}})}function cI({activeCtx:e,activeProperty:t,value:n,options:r}){if(n==null)return null;let i=je(e,t,{vocab:!0},r);if(i==="@id")return je(e,n,{base:!0},r);if(i==="@type")return je(e,n,{vocab:!0,base:!0},B(T({},r),{typeExpansion:!0}));let o=Ht(e,t,"@type");if((o==="@id"||i==="@graph")&&lt(n)){let a=je(e,n,{base:!0},r);return a===null&&n.match(FL)&&r.eventHandler&&rn({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:r}),{"@id":a}}if(o==="@vocab"&&lt(n))return{"@id":je(e,n,{vocab:!0,base:!0},r)};if(Iy(i))return n;let s={};if(o&&!["@id","@vocab","@none"].includes(o))s["@type"]=o;else if(lt(n)){let a=Ht(e,t,"@language");a!==null&&(s["@language"]=a);let l=Ht(e,t,"@direction");l!==null&&(s["@direction"]=l)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),s["@value"]=n,s}function VL(e,t,n,r){let i=[],o=Object.keys(t).sort();for(let s of o){let a=je(e,s,{vocab:!0},r),l=t[s];on(l)||(l=[l]);for(let c of l){if(c===null)continue;if(!lt(c))throw new Me("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});let d={"@value":c};a!=="@none"&&(s.match(sI)||r.eventHandler&&rn({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:r}),d["@language"]=s.toLowerCase()),n&&(d["@direction"]=n),i.push(d)}}return i}function wy(a){return b(this,arguments,function*({activeCtx:e,options:t,activeProperty:n,value:r,asGraph:i,indexKey:o,propertyIndex:s}){let l=[],c=Object.keys(r).sort(),d=o==="@type";for(let f of c){if(d){let p=Ht(e,f,"@context");hf(p)||(e=yield Fl({activeCtx:e,localCtx:p,propagate:!1,options:t}))}let h=r[f];on(h)||(h=[h]),h=yield fi.expand({activeCtx:e,activeProperty:n,element:h,options:t,insideList:!1,insideIndex:!0});let u;s?f==="@none"?u="@none":u=cI({activeCtx:e,activeProperty:o,value:f,options:t}):u=je(e,f,{vocab:!0},t),o==="@id"?f=je(e,f,{base:!0},t):d&&(f=u);for(let p of h){if(i&&!PL(p)&&(p={"@graph":[p]}),o==="@type")u==="@none"||(p["@type"]?p["@type"]=[f].concat(p["@type"]):p["@type"]=[f]);else{if(Ey(p)&&!["@language","@type","@index"].includes(o))throw new Me(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${o}".`,"jsonld.SyntaxError",{code:"invalid value object",value:p});s?u!=="@none"&&$t(p,s,u,{propertyIsArray:!0,prependValue:!0}):u!=="@none"&&!(o in p)&&(p[o]=f)}l.push(p)}}return l})}});var Ll=M((d6,hI)=>{"use strict";var{isKeyword:pI}=di(),Kn=Xn(),Ty=Ot(),Yn=Ut(),UL=Vt(),yt={};hI.exports=yt;yt.createMergedNodeMap=(e,t)=>{t=t||{};let n=t.issuer||new Yn.IdentifierIssuer("_:b"),r={"@default":{}};return yt.createNodeMap(e,r,"@default",n),yt.mergeNodeMaps(r)};yt.createNodeMap=(e,t,n,r,i,o)=>{if(Ty.isArray(e)){for(let c of e)yt.createNodeMap(c,t,n,r,void 0,o);return}if(!Ty.isObject(e)){o&&o.push(e);return}if(Kn.isValue(e)){if("@type"in e){let c=e["@type"];c.indexOf("_:")===0&&(e["@type"]=c=r.getId(c))}o&&o.push(e);return}else if(o&&Kn.isList(e)){let c=[];yt.createNodeMap(e["@list"],t,n,r,i,c),o.push({"@list":c});return}if("@type"in e){let c=e["@type"];for(let d of c)d.indexOf("_:")===0&&r.getId(d)}Ty.isUndefined(i)&&(i=Kn.isBlankNode(e)?r.getId(e["@id"]):e["@id"]),o&&o.push({"@id":i});let s=t[n],a=s[i]=s[i]||{};a["@id"]=i;let l=Object.keys(e).sort();for(let c of l){if(c==="@id")continue;if(c==="@reverse"){let f={"@id":i},h=e["@reverse"];for(let u in h){let p=h[u];for(let g of p){let m=g["@id"];Kn.isBlankNode(g)&&(m=r.getId(m)),yt.createNodeMap(g,t,n,r,m),Yn.addValue(s[m],u,f,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(c==="@graph"){i in t||(t[i]={}),yt.createNodeMap(e[c],t,i,r);continue}if(c==="@included"){yt.createNodeMap(e[c],t,n,r);continue}if(c!=="@type"&&pI(c)){if(c==="@index"&&c in a&&(e[c]!==a[c]||e[c]["@id"]!==a[c]["@id"]))throw new UL("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:a});a[c]=e[c];continue}let d=e[c];if(c.indexOf("_:")===0&&(c=r.getId(c)),d.length===0){Yn.addValue(a,c,[],{propertyIsArray:!0});continue}for(let f of d)if(c==="@type"&&(f=f.indexOf("_:")===0?r.getId(f):f),Kn.isSubject(f)||Kn.isSubjectReference(f)){if("@id"in f&&!f["@id"])continue;let h=Kn.isBlankNode(f)?r.getId(f["@id"]):f["@id"];Yn.addValue(a,c,{"@id":h},{propertyIsArray:!0,allowDuplicate:!1}),yt.createNodeMap(f,t,n,r,h)}else if(Kn.isValue(f))Yn.addValue(a,c,f,{propertyIsArray:!0,allowDuplicate:!1});else if(Kn.isList(f)){let h=[];yt.createNodeMap(f["@list"],t,n,r,i,h),f={"@list":h},Yn.addValue(a,c,f,{propertyIsArray:!0,allowDuplicate:!1})}else yt.createNodeMap(f,t,n,r,i),Yn.addValue(a,c,f,{propertyIsArray:!0,allowDuplicate:!1})}};yt.mergeNodeMapGraphs=e=>{let t={};for(let n of Object.keys(e).sort())for(let r of Object.keys(e[n]).sort()){let i=e[n][r];r in t||(t[r]={"@id":r});let o=t[r];for(let s of Object.keys(i).sort())if(pI(s)&&s!=="@type")o[s]=Yn.clone(i[s]);else for(let a of i[s])Yn.addValue(o,s,Yn.clone(a),{propertyIsArray:!0,allowDuplicate:!1})}return t};yt.mergeNodeMaps=e=>{let t=e["@default"],n=Object.keys(e).sort();for(let r of n){if(r==="@default")continue;let i=e[r],o=t[r];o?"@graph"in o||(o["@graph"]=[]):t[r]=o={"@id":r,"@graph":[]};let s=o["@graph"];for(let a of Object.keys(i).sort()){let l=i[a];Kn.isSubjectReference(l)||s.push(l)}}return t}});var yI=M((f6,mI)=>{"use strict";var{isSubjectReference:BL}=Xn(),{createMergedNodeMap:$L}=Ll(),gI={};mI.exports=gI;gI.flatten=e=>{let t=$L(e),n=[],r=Object.keys(t).sort();for(let i=0;i<r.length;++i){let o=t[r[i]];BL(o)||n.push(o)}return n}});var xI=M((II,TI)=>{"use strict";var Ny=Vt(),xy=Xn(),jl=Ot(),{REGEX_BCP47:vI,addValue:CI}=Ut(),{handleEvent:_I}=Bs(),{RDF_LIST:HL,RDF_FIRST:Sy,RDF_REST:My,RDF_NIL:Ay,RDF_TYPE:qL,RDF_JSON_LITERAL:GL,XSD_BOOLEAN:bI,XSD_DOUBLE:wI,XSD_INTEGER:DI,XSD_STRING:Oy}=sf(),EI={};TI.exports=EI;EI.fromRDF=(e,t)=>b(null,null,function*(){let{useRdfType:n=!1,useNativeTypes:r=!1,rdfDirection:i=null}=t,o={},s={"@default":o},a={};if(i){if(i==="compound-literal")throw new Ny("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if(i!=="i18n-datatype")throw new Ny("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i})}for(let d of e){let f=d.graph.termType==="DefaultGraph"?"@default":d.graph.value;f in s||(s[f]={}),f!=="@default"&&!(f in o)&&(o[f]={"@id":f});let h=s[f],u=d.subject.value,p=d.predicate.value,g=d.object;u in h||(h[u]={"@id":u});let m=h[u],y=g.termType.endsWith("Node");if(y&&!(g.value in h)&&(h[g.value]={"@id":g.value}),p===qL&&!n&&y){CI(m,"@type",g.value,{propertyIsArray:!0});continue}let _=zL(g,r,i,t);if(CI(m,p,_,{propertyIsArray:!0}),y)if(g.value===Ay){let D=h[g.value];"usages"in D||(D.usages=[]),D.usages.push({node:m,property:p,value:_})}else g.value in a?a[g.value]=!1:a[g.value]={node:m,property:p,value:_}}for(let d in s){let f=s[d];if(!(Ay in f))continue;let h=f[Ay];if(h.usages){for(let u of h.usages){let p=u.node,g=u.property,m=u.value,y=[],_=[],D=Object.keys(p).length;for(;g===My&&jl.isObject(a[p["@id"]])&&jl.isArray(p[Sy])&&p[Sy].length===1&&jl.isArray(p[My])&&p[My].length===1&&(D===3||D===4&&jl.isArray(p["@type"])&&p["@type"].length===1&&p["@type"][0]===HL)&&(y.push(p[Sy][0]),_.push(p["@id"]),u=a[p["@id"]],p=u.node,g=u.property,m=u.value,D=Object.keys(p).length,!!xy.isBlankNode(p)););delete m["@id"],m["@list"]=y.reverse();for(let S of _)delete f[S]}delete h.usages}}let l=[],c=Object.keys(o).sort();for(let d of c){let f=o[d];if(d in s){let h=f["@graph"]=[],u=s[d],p=Object.keys(u).sort();for(let g of p){let m=u[g];xy.isSubjectReference(m)||h.push(m)}}xy.isSubjectReference(f)||l.push(f)}return l});function zL(e,t,n,r){if(e.termType.endsWith("Node"))return{"@id":e.value};let i={"@value":e.value};if(e.language)e.language.match(vI)||r.eventHandler&&_I({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:r}),i["@language"]=e.language;else{let o=e.datatype.value;if(o||(o=Oy),o===GL){o="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(s){throw new Ny("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:s})}}if(t){if(o===bI)i["@value"]==="true"?i["@value"]=!0:i["@value"]==="false"&&(i["@value"]=!1);else if(jl.isNumeric(i["@value"]))if(o===DI){let s=parseInt(i["@value"],10);s.toFixed(0)===i["@value"]&&(i["@value"]=s)}else o===wI&&(i["@value"]=parseFloat(i["@value"]));[bI,DI,wI,Oy].includes(o)||(i["@type"]=o)}else if(n==="i18n-datatype"&&o.startsWith("https://www.w3.org/ns/i18n#")){let[,s,a]=o.split(/[#_]/);s.length>0&&(i["@language"]=s,s.match(vI)||r.eventHandler&&_I({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:r})),i["@direction"]=a}else o!==Oy&&(i["@type"]=o)}return i}});var MI=M((h6,SI)=>{"use strict";SI.exports=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((n,r,i)=>{let o=i===0?"":",",s=r===void 0||typeof r=="symbol"?null:r;return n+o+e(s)},"")+"]":"{"+Object.keys(t).sort().reduce((n,r,i)=>{if(t[r]===void 0||typeof t[r]=="symbol")return n;let o=n.length===0?"":",";return n+o+e(r)+":"+e(t[r])},"")+"}"}});var kI=M((g6,PI)=>{"use strict";var{createNodeMap:WL}=Ll(),{isKeyword:JL}=di(),AI=Xn(),ZL=MI(),OI=Vt(),Vl=Ot(),QL=Ut(),{handleEvent:xo}=Bs(),{RDF_FIRST:XL,RDF_REST:KL,RDF_NIL:YL,RDF_TYPE:ej,RDF_JSON_LITERAL:tj,RDF_LANGSTRING:nj,XSD_BOOLEAN:rj,XSD_DOUBLE:NI,XSD_INTEGER:ij,XSD_STRING:oj}=sf(),{isAbsolute:gf}=Sr(),RI={};PI.exports=RI;RI.toRDF=(e,t)=>{let n=new QL.IdentifierIssuer("_:b"),r={"@default":{}};WL(e,r,"@default",n);let i=[],o=Object.keys(r).sort();for(let s of o){let a;if(s==="@default")a={termType:"DefaultGraph",value:""};else if(gf(s))s.startsWith("_:")?a={termType:"BlankNode"}:a={termType:"NamedNode"},a.value=s;else{t.eventHandler&&xo({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:s}},options:t});continue}sj(i,r[s],a,n,t)}return i};function sj(e,t,n,r,i){let o=Object.keys(t).sort();for(let s of o){let a=t[s],l=Object.keys(a).sort();for(let c of l){let d=a[c];if(c==="@type")c=ej;else if(JL(c))continue;for(let f of d){let h={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!gf(s)){i.eventHandler&&xo({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:s}},options:i});continue}let u={termType:c.startsWith("_:")?"BlankNode":"NamedNode",value:c};if(!gf(c)){i.eventHandler&&xo({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:c}},options:i});continue}if(u.termType==="BlankNode"&&!i.produceGeneralizedRdf){i.eventHandler&&xo({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:r.getOldIds().find(g=>r.getId(g)===c)}},options:i});continue}let p=Ry(f,r,e,n,i.rdfDirection,i);p&&e.push({subject:h,predicate:u,object:p,graph:n})}}}}function aj(e,t,n,r,i,o){let s={termType:"NamedNode",value:XL},a={termType:"NamedNode",value:KL},l={termType:"NamedNode",value:YL},c=e.pop(),d=c?{termType:"BlankNode",value:t.getId()}:l,f=d;for(let h of e){let u=Ry(h,t,n,r,i,o),p={termType:"BlankNode",value:t.getId()};n.push({subject:f,predicate:s,object:u,graph:r}),n.push({subject:f,predicate:a,object:p,graph:r}),f=p}if(c){let h=Ry(c,t,n,r,i,o);n.push({subject:f,predicate:s,object:h,graph:r}),n.push({subject:f,predicate:a,object:l,graph:r})}return d}function Ry(e,t,n,r,i,o){let s={};if(AI.isValue(e)){s.termType="Literal",s.value=void 0,s.datatype={termType:"NamedNode"};let a=e["@value"],l=e["@type"]||null;if(l==="@json")s.value=ZL(a),s.datatype.value=tj;else if(Vl.isBoolean(a))s.value=a.toString(),s.datatype.value=l||rj;else if(Vl.isDouble(a)||l===NI)Vl.isDouble(a)||(a=parseFloat(a)),s.value=a.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),s.datatype.value=l||NI;else if(Vl.isNumber(a))s.value=a.toFixed(0),s.datatype.value=l||ij;else if("@direction"in e&&i==="i18n-datatype"){let c=(e["@language"]||"").toLowerCase(),d=e["@direction"],f=`https://www.w3.org/ns/i18n#${c}_${d}`;s.datatype.value=f,s.value=a}else{if("@direction"in e&&i==="compound-literal")throw new OI("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if("@direction"in e&&i)throw new OI("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});"@language"in e?("@direction"in e&&!i&&o.eventHandler&&xo({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:s.value}},options:o}),s.value=a,s.datatype.value=l||nj,s.language=e["@language"]):("@direction"in e&&!i&&o.eventHandler&&xo({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:s.value}},options:o}),s.value=a,s.datatype.value=l||oj)}}else if(AI.isList(e)){let a=aj(e["@list"],t,n,r,i,o);s.termType=a.termType,s.value=a.value}else{let a=Vl.isObject(e)?e["@id"]:e;s.termType=a.startsWith("_:")?"BlankNode":"NamedNode",s.value=a}return s.termType==="NamedNode"&&!gf(s.value)?(o.eventHandler&&xo({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:s.value}},options:o}),null):s}});var $I=M((m6,BI)=>{"use strict";var{isKeyword:Py}=di(),sn=Xn(),ve=Ot(),Qe=Ut(),FI=Sr(),Ul=Vt(),{createNodeMap:lj,mergeNodeMapGraphs:cj}=Ll(),an={};BI.exports=an;an.frameMergedOrDefault=(e,t,n)=>{let r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new Qe.IdentifierIssuer("_:b");lj(e,r.graphMap,"@default",i),n.merged&&(r.graphMap["@merged"]=cj(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];let o=[];an.frame(r,Object.keys(r.subjects).sort(),t,o),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(s=>r.bnodeMap[s].length===1));return n.link={},yf(o,n)};an.frame=(e,t,n,r,i=null)=>{VI(n),n=n[0];let o=e.options,s={embed:mf(n,o,"embed"),explicit:mf(n,o,"explicit"),requireAll:mf(n,o,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});let a=e.link[e.graph],l=dj(e,t,n,s),c=Object.keys(l).sort();for(let d of c){let f=l[d];if(i===null?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},s.embed==="@link"&&d in a){So(r,i,a[d]);continue}let h={"@id":d};if(d.indexOf("_:")===0&&Qe.addValue(e.bnodeMap,d,h,{propertyIsArray:!0}),a[d]=h,(s.embed==="@first"||s.embed==="@last")&&e.is11)throw new Ul("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(d))){if(e.embedded&&(s.embed==="@never"||uj(f,e.graph,e.subjectStack))){So(r,i,h);continue}if(e.embedded&&(s.embed=="@first"||s.embed=="@once")&&e.uniqueEmbeds[e.graph].hasOwnProperty(d)){So(r,i,h);continue}if(s.embed==="@last"&&d in e.uniqueEmbeds[e.graph]&&fj(e,d),e.uniqueEmbeds[e.graph][d]={parent:r,property:i},e.subjectStack.push({subject:f,graph:e.graph}),d in e.graphMap){let u=!1,p=null;"@graph"in n?(p=n["@graph"][0],u=!(d==="@merged"||d==="@default"),ve.isObject(p)||(p={})):(u=e.graph!=="@merged",p={}),u&&an.frame(B(T({},e),{graph:d,embedded:!1}),Object.keys(e.graphMap[d]).sort(),[p],h,"@graph")}"@included"in n&&an.frame(B(T({},e),{embedded:!1}),t,n["@included"],h,"@included");for(let u of Object.keys(f).sort()){if(Py(u)){if(h[u]=Qe.clone(f[u]),u==="@type")for(let p of f["@type"])p.indexOf("_:")===0&&Qe.addValue(e.bnodeMap,p,h,{propertyIsArray:!0});continue}if(!(s.explicit&&!(u in n)))for(let p of f[u]){let g=u in n?n[u]:LI(s);if(sn.isList(p)){let m=n[u]&&n[u][0]&&n[u][0]["@list"]?n[u][0]["@list"]:LI(s),y={"@list":[]};So(h,u,y);let _=p["@list"];for(let D of _)sn.isSubjectReference(D)?an.frame(B(T({},e),{embedded:!0}),[D["@id"]],m,y,"@list"):So(y,"@list",Qe.clone(D))}else sn.isSubjectReference(p)?an.frame(B(T({},e),{embedded:!0}),[p["@id"]],g,h,u):ky(g[0],p)&&So(h,u,Qe.clone(p))}}for(let u of Object.keys(n).sort()){if(u==="@type"){if(!ve.isObject(n[u][0])||!("@default"in n[u][0]))continue}else if(Py(u))continue;let p=n[u][0]||{};if(!mf(p,o,"omitDefault")&&!(u in h)){let m="@null";"@default"in p&&(m=Qe.clone(p["@default"])),ve.isArray(m)||(m=[m]),h[u]=[{"@preserve":m}]}}for(let u of Object.keys(n["@reverse"]||{}).sort()){let p=n["@reverse"][u];for(let g of Object.keys(e.subjects))Qe.getValues(e.subjects[g],u).some(y=>y["@id"]===d)&&(h["@reverse"]=h["@reverse"]||{},Qe.addValue(h["@reverse"],u,[],{propertyIsArray:!0}),an.frame(B(T({},e),{embedded:!0}),[g],p,h["@reverse"][u],i))}So(r,i,h),e.subjectStack.pop()}}};an.cleanupNull=(e,t)=>{if(ve.isArray(e))return e.map(r=>an.cleanupNull(r,t)).filter(r=>r);if(e==="@null")return null;if(ve.isObject(e)){if("@id"in e){let n=e["@id"];if(t.link.hasOwnProperty(n)){let r=t.link[n].indexOf(e);if(r!==-1)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(let n in e)e[n]=an.cleanupNull(e[n],t)}return e};function LI(e){let t={};for(let n in e)e[n]!==void 0&&(t["@"+n]=[e[n]]);return[t]}function uj(e,t,n){for(let r=n.length-1;r>=0;--r){let i=n[r];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function mf(e,t,n){let r="@"+n,i=r in e?e[r][0]:t[n];if(n==="embed"){if(i===!0)i="@once";else if(i===!1)i="@never";else if(i!=="@always"&&i!=="@never"&&i!=="@link"&&i!=="@first"&&i!=="@last"&&i!=="@once")throw new Ul("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return i}function VI(e){if(!ve.isArray(e)||e.length!==1||!ve.isObject(e[0]))throw new Ul("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(let t of Qe.asArray(e[0]["@id"]))if(!(ve.isObject(t)||FI.isAbsolute(t))||ve.isString(t)&&t.indexOf("_:")===0)throw new Ul("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(let t of Qe.asArray(e[0]["@type"]))if(!(ve.isObject(t)||FI.isAbsolute(t)||t==="@json")||ve.isString(t)&&t.indexOf("_:")===0)throw new Ul("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function dj(e,t,n,r){let i={};for(let o of t){let s=e.graphMap[e.graph][o];UI(e,s,n,r)&&(i[o]=s)}return i}function UI(e,t,n,r){let i=!0,o=!1;for(let s in n){let a=!1,l=Qe.getValues(t,s),c=Qe.getValues(n,s).length===0;if(s==="@id"){if(ve.isEmptyObject(n["@id"][0]||{})?a=!0:n["@id"].length>=0&&(a=n["@id"].includes(l[0])),!r.requireAll)return a}else if(s==="@type"){if(i=!1,c){if(l.length>0)return!1;a=!0}else if(n["@type"].length===1&&ve.isEmptyObject(n["@type"][0]))a=l.length>0;else for(let d of n["@type"])ve.isObject(d)&&"@default"in d?a=!0:a=a||l.some(f=>f===d);if(!r.requireAll)return a}else{if(Py(s))continue;{let d=Qe.getValues(n,s)[0],f=!1;if(d&&(VI([d]),f="@default"in d),i=!1,l.length===0&&f)continue;if(l.length>0&&c)return!1;if(d===void 0){if(l.length>0)return!1;a=!0}else if(sn.isList(d)){let h=d["@list"][0];if(sn.isList(l[0])){let u=l[0]["@list"];sn.isValue(h)?a=u.some(p=>ky(h,p)):(sn.isSubject(h)||sn.isSubjectReference(h))&&(a=u.some(p=>jI(e,h,p,r)))}}else sn.isValue(d)?a=l.some(h=>ky(d,h)):sn.isSubjectReference(d)?a=l.some(h=>jI(e,d,h,r)):ve.isObject(d)?a=l.length>0:a=!1}}if(!a&&r.requireAll)return!1;o=o||a}return i||o}function fj(e,t){let n=e.uniqueEmbeds[e.graph],r=n[t],i=r.parent,o=r.property,s={"@id":t};if(ve.isArray(i)){for(let l=0;l<i.length;++l)if(Qe.compareValues(i[l],s)){i[l]=s;break}}else{let l=ve.isArray(i[o]);Qe.removeValue(i,o,s,{propertyIsArray:l}),Qe.addValue(i,o,s,{propertyIsArray:l})}let a=l=>{let c=Object.keys(n);for(let d of c)d in n&&ve.isObject(n[d].parent)&&n[d].parent["@id"]===l&&(delete n[d],a(d))};a(t)}function yf(e,t){if(ve.isArray(e))return e.map(n=>yf(n,t));if(ve.isObject(e)){if("@preserve"in e)return e["@preserve"][0];if(sn.isValue(e))return e;if(sn.isList(e))return e["@list"]=yf(e["@list"],t),e;if("@id"in e){let n=e["@id"];if(t.link.hasOwnProperty(n)){let r=t.link[n].indexOf(e);if(r!==-1)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(let n in e){if(n==="@id"&&t.bnodesToClear.includes(e[n])){delete e["@id"];continue}e[n]=yf(e[n],t)}}return e}function So(e,t,n){ve.isObject(e)?Qe.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function jI(e,t,n,r){if(!("@id"in n))return!1;let i=e.subjects[n["@id"]];return i&&UI(e,i,t,r)}function ky(e,t){let n=t["@value"],r=t["@type"],i=t["@language"],o=e["@value"]?ve.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?ve.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],a=e["@language"]?ve.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return o.length===0&&s.length===0&&a.length===0?!0:!(!(o.includes(n)||ve.isEmptyObject(o[0]))||!(!r&&s.length===0||s.includes(r)||r&&ve.isEmptyObject(s[0]))||!(!i&&a.length===0||a.includes(i)||i&&ve.isEmptyObject(a[0])))}});var KI=M((QI,XI)=>{"use strict";var Uy=Vt(),{isArray:pi,isObject:hi,isString:zI,isUndefined:Fy}=Ot(),{isList:Vy,isValue:Or,isGraph:WI,isSimpleGraph:HI,isSubjectReference:Ly}=Xn(),{expandIri:JI,getContextValue:vt,isKeyword:ZI,process:jy,processingMode:pj}=di(),{removeBase:qI,prependBase:hj}=Sr(),{REGEX_KEYWORD:gj,addValue:qt,asArray:vf,compareShortestLeast:mj}=Ut(),ne={};XI.exports=ne;ne.compact=i=>b(null,[i],function*({activeCtx:e,activeProperty:t=null,element:n,options:r={}}){if(pi(n)){let s=[];for(let a=0;a<n.length;++a){let l=yield ne.compact({activeCtx:e,activeProperty:t,element:n[a],options:r});l!==null&&s.push(l)}return r.compactArrays&&s.length===1&&(vt(e,t,"@container")||[]).length===0&&(s=s[0]),s}let o=vt(e,t,"@context");if(Fy(o)||(e=yield jy({activeCtx:e,localCtx:o,propagate:!0,overrideProtected:!0,options:r})),hi(n)){if(r.link&&"@id"in n&&r.link.hasOwnProperty(n["@id"])){let u=r.link[n["@id"]];for(let p=0;p<u.length;++p)if(u[p].expanded===n)return u[p].compacted}if(Or(n)||Ly(n)){let u=ne.compactValue({activeCtx:e,activeProperty:t,value:n,options:r});return r.link&&Ly(n)&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:u})),u}if(Vy(n)&&(vt(e,t,"@container")||[]).includes("@list"))return ne.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:r});let s=t==="@reverse",a={},l=e;!Or(n)&&!Ly(n)&&(e=e.revertToPreviousContext());let c=vt(l,t,"@context");Fy(c)||(e=yield jy({activeCtx:e,localCtx:c,propagate:!0,overrideProtected:!0,options:r})),r.link&&"@id"in n&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:a}));let d=n["@type"]||[];d.length>1&&(d=Array.from(d).sort());let f=e;for(let u of d){let p=ne.compactIri({activeCtx:f,iri:u,relativeTo:{vocab:!0}}),g=vt(l,p,"@context");Fy(g)||(e=yield jy({activeCtx:e,localCtx:g,options:r,propagate:!1}))}let h=Object.keys(n).sort();for(let u of h){let p=n[u];if(u==="@id"){let g=vf(p).map(y=>ne.compactIri({activeCtx:e,iri:y,relativeTo:{vocab:!1},base:r.base}));g.length===1&&(g=g[0]);let m=ne.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});a[m]=g;continue}if(u==="@type"){let g=vf(p).map(S=>ne.compactIri({activeCtx:l,iri:S,relativeTo:{vocab:!0}}));g.length===1&&(g=g[0]);let m=ne.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),D=(vt(e,m,"@container")||[]).includes("@set")&&pj(e,1.1)||pi(g)&&p.length===0;qt(a,m,g,{propertyIsArray:D});continue}if(u==="@reverse"){let g=yield ne.compact({activeCtx:e,activeProperty:"@reverse",element:p,options:r});for(let m in g)if(e.mappings.has(m)&&e.mappings.get(m).reverse){let y=g[m],D=(vt(e,m,"@container")||[]).includes("@set")||!r.compactArrays;qt(a,m,y,{propertyIsArray:D}),delete g[m]}if(Object.keys(g).length>0){let m=ne.compactIri({activeCtx:e,iri:u,relativeTo:{vocab:!0}});qt(a,m,g)}continue}if(u==="@preserve"){let g=yield ne.compact({activeCtx:e,activeProperty:t,element:p,options:r});pi(g)&&g.length===0||qt(a,u,g);continue}if(u==="@index"){if((vt(e,t,"@container")||[]).includes("@index"))continue;let m=ne.compactIri({activeCtx:e,iri:u,relativeTo:{vocab:!0}});qt(a,m,p);continue}if(u!=="@graph"&&u!=="@list"&&u!=="@included"&&ZI(u)){let g=ne.compactIri({activeCtx:e,iri:u,relativeTo:{vocab:!0}});qt(a,g,p);continue}if(!pi(p))throw new Uy("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(p.length===0){let g=ne.compactIri({activeCtx:e,iri:u,value:p,relativeTo:{vocab:!0},reverse:s}),m=e.mappings.has(g)?e.mappings.get(g)["@nest"]:null,y=a;m&&(GI(e,m,r),hi(a[m])||(a[m]={}),y=a[m]),qt(y,g,p,{propertyIsArray:!0})}for(let g of p){let m=ne.compactIri({activeCtx:e,iri:u,value:g,relativeTo:{vocab:!0},reverse:s}),y=e.mappings.has(m)?e.mappings.get(m)["@nest"]:null,_=a;y&&(GI(e,y,r),hi(a[y])||(a[y]={}),_=a[y]);let D=vt(e,m,"@container")||[],S=WI(g),x=Vy(g),N;x?N=g["@list"]:S&&(N=g["@graph"]);let F=yield ne.compact({activeCtx:e,activeProperty:m,element:x||S?N:g,options:r});if(x)if(pi(F)||(F=[F]),!D.includes("@list"))F={[ne.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:F},"@index"in g&&(F[ne.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]);else{qt(_,m,F,{valueIsArray:!0,allowDuplicate:!0});continue}if(S)if(D.includes("@graph")&&(D.includes("@id")||D.includes("@index")&&HI(g))){let Ce;_.hasOwnProperty(m)?Ce=_[m]:_[m]=Ce={};let Ee=(D.includes("@id")?g["@id"]:g["@index"])||ne.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});qt(Ce,Ee,F,{propertyIsArray:!r.compactArrays||D.includes("@set")})}else D.includes("@graph")&&HI(g)?(pi(F)&&F.length>1&&(F={"@included":F}),qt(_,m,F,{propertyIsArray:!r.compactArrays||D.includes("@set")})):(pi(F)&&F.length===1&&r.compactArrays&&(F=F[0]),F={[ne.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:F},"@id"in g&&(F[ne.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=g["@id"]),"@index"in g&&(F[ne.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]),qt(_,m,F,{propertyIsArray:!r.compactArrays||D.includes("@set")}));else if(D.includes("@language")||D.includes("@index")||D.includes("@id")||D.includes("@type")){let Ce;_.hasOwnProperty(m)?Ce=_[m]:_[m]=Ce={};let Ee;if(D.includes("@language"))Or(F)&&(F=F["@value"]),Ee=g["@language"];else if(D.includes("@index")){let Dt=vt(e,m,"@index")||"@index",Fo=ne.compactIri({activeCtx:e,iri:Dt,relativeTo:{vocab:!0}});if(Dt==="@index")Ee=g["@index"],delete F[Fo];else{let Yl;if([Ee,...Yl]=vf(F[Dt]||[]),!zI(Ee))Ee=null;else switch(Yl.length){case 0:delete F[Dt];break;case 1:F[Dt]=Yl[0];break;default:F[Dt]=Yl;break}}}else if(D.includes("@id")){let Dt=ne.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});Ee=F[Dt],delete F[Dt]}else if(D.includes("@type")){let Dt=ne.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),Fo;switch([Ee,...Fo]=vf(F[Dt]||[]),Fo.length){case 0:delete F[Dt];break;case 1:F[Dt]=Fo[0];break;default:F[Dt]=Fo;break}Object.keys(F).length===1&&"@id"in g&&(F=yield ne.compact({activeCtx:e,activeProperty:m,element:{"@id":g["@id"]},options:r}))}Ee||(Ee=ne.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),qt(Ce,Ee,F,{propertyIsArray:D.includes("@set")})}else{let Ce=!r.compactArrays||D.includes("@set")||D.includes("@list")||pi(F)&&F.length===0||u==="@list"||u==="@graph";qt(_,m,F,{propertyIsArray:Ce})}}}return a}return n});ne.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:r={vocab:!1},reverse:i=!1,base:o=null})=>{if(t===null)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);let s=e.getInverse();if(ZI(t)&&t in s&&"@none"in s[t]&&"@type"in s[t]["@none"]&&"@none"in s[t]["@none"]["@type"])return s[t]["@none"]["@type"]["@none"];if(r.vocab&&t in s){let f=e["@language"]||"@none",h=[];hi(n)&&"@index"in n&&!("@graph"in n)&&h.push("@index","@index@set"),hi(n)&&"@preserve"in n&&(n=n["@preserve"][0]),WI(n)?("@index"in n&&h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&h.push("@graph@id","@graph@id@set"),h.push("@graph","@graph@set","@set"),"@index"in n||h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||h.push("@graph@id","@graph@id@set")):hi(n)&&!Or(n)&&h.push("@id","@id@set","@type","@set@type");let u="@language",p="@null";if(i)u="@type",p="@reverse",h.push("@set");else if(Vy(n)){"@index"in n||h.push("@list");let m=n["@list"];if(m.length===0)u="@any",p="@none";else{let y=m.length===0?f:null,_=null;for(let D=0;D<m.length;++D){let S=m[D],x="@none",N="@none";if(Or(S))if("@direction"in S){let F=(S["@language"]||"").toLowerCase(),Ce=S["@direction"];x=`${F}_${Ce}`}else"@language"in S?x=S["@language"].toLowerCase():"@type"in S?N=S["@type"]:x="@null";else N="@id";if(y===null?y=x:x!==y&&Or(S)&&(y="@none"),_===null?_=N:N!==_&&(_="@none"),y==="@none"&&_==="@none")break}y=y||"@none",_=_||"@none",_!=="@none"?(u="@type",p=_):p=y}}else{if(Or(n))if("@language"in n&&!("@index"in n)){h.push("@language","@language@set"),p=n["@language"];let m=n["@direction"];m&&(p=`${p}_${m}`)}else"@direction"in n&&!("@index"in n)?p=`_${n["@direction"]}`:"@type"in n&&(u="@type",p=n["@type"]);else u="@type",p="@id";h.push("@set")}h.push("@none"),hi(n)&&!("@index"in n)&&h.push("@index","@index@set"),Or(n)&&Object.keys(n).length===1&&h.push("@language","@language@set");let g=yj(e,t,n,h,u,p);if(g!==null)return g}if(r.vocab&&"@vocab"in e){let f=e["@vocab"];if(t.indexOf(f)===0&&t!==f){let h=t.substr(f.length);if(!e.mappings.has(h))return h}}let a=null,l=[],c=e.fastCurieMap,d=t.length-1;for(let f=0;f<d&&t[f]in c;++f)c=c[t[f]],""in c&&l.push(c[""][0]);for(let f=l.length-1;f>=0;--f){let h=l[f],u=h.terms;for(let p of u){let g=p+":"+t.substr(h.iri.length);e.mappings.get(p)._prefix&&(!e.mappings.has(g)||n===null&&e.mappings.get(g)["@id"]===t)&&(a===null||mj(g,a)<0)&&(a=g)}}if(a!==null)return a;for(let[f,h]of e.mappings)if(h&&h._prefix&&t.startsWith(f+":"))throw new Uy(`Absolute IRI "${t}" confused with prefix "${f}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!r.vocab)if("@base"in e)if(e["@base"]){let f=qI(hj(o,e["@base"]),t);return gj.test(f)?`./${f}`:f}else return t;else return qI(o,t);return t};ne.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(Or(n)){let a=vt(e,t,"@type"),l=vt(e,t,"@language"),c=vt(e,t,"@direction"),d=vt(e,t,"@container")||[],f="@index"in n&&!d.includes("@index");if(!f&&a!=="@none"&&(n["@type"]===a||"@language"in n&&n["@language"]===l&&"@direction"in n&&n["@direction"]===c||"@language"in n&&n["@language"]===l||"@direction"in n&&n["@direction"]===c))return n["@value"];let h=Object.keys(n).length,u=h===1||h===2&&"@index"in n&&!f,p="@language"in e,g=zI(n["@value"]),m=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(u&&a!=="@none"&&(!p||!g||m))return n["@value"];let y={};return f&&(y[ne.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?y[ne.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=ne.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(y[ne.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(y[ne.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),y[ne.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],y}let i=JI(e,t,{vocab:!0},r),o=vt(e,t,"@type"),s=ne.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:o==="@vocab"},base:r.base});return o==="@id"||o==="@vocab"||i==="@graph"?s:{[ne.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}};function yj(e,t,n,r,i,o){o===null&&(o="@null");let s=[];if((o==="@id"||o==="@reverse")&&hi(n)&&"@id"in n){o==="@reverse"&&s.push("@reverse");let l=ne.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(l)&&e.mappings.get(l)&&e.mappings.get(l)["@id"]===n["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(o);let l=s.find(c=>c.includes("_"));l&&s.push(l.replace(/^[^_]+_/,"_"))}s.push("@none");let a=e.inverse[t];for(let l of r){if(!(l in a))continue;let c=a[l][i];for(let d of s)if(d in c)return c[d]}return null}function GI(e,t,n){if(JI(e,t,{vocab:!0},n)!=="@nest")throw new Uy("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}});var eT=M((C6,YI)=>{"use strict";YI.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(n,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(n,r)},t.expand=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(n)},t.flatten=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(n)},t}});var sT=M((_6,oT)=>{"use strict";var tT=rf(),nT=kE(),gi=Ut(),Nr=ZE(),By=gi.IdentifierIssuer,er=Vt(),vj=gy(),Cf=XE(),{expand:Cj}=fI(),{flatten:_j}=yI(),{fromRDF:bj}=xI(),{toRDF:wj}=kI(),{frameMergedOrDefault:Dj,cleanupNull:Ej}=$I(),{isArray:qs,isObject:Mo,isString:tr}=Ot(),{isSubjectReference:Ij}=Xn(),{expandIri:Tj,getInitialContext:_f,process:rT,processingMode:$y}=di(),{compact:xj,compactIri:Sj}=KI(),{createNodeMap:Mj,createMergedNodeMap:Aj,mergeNodeMaps:Oj}=Ll(),{logEventHandler:Nj,logWarningEventHandler:Rj,safeEventHandler:Pj,setDefaultEventHandler:kj,setupEventHandler:Fj,strictEventHandler:Lj,unhandledEventHandler:jj}=Bs(),iT=function(e){let t={},r=new vj({max:100});e.compact=function(l,c,d){return b(this,arguments,function*(o,s,a){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(s===null)throw new er("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(o===null)return null;a=i(a,{base:tr(o)?o:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new By("_:b"),contextResolver:new Nr({sharedCache:r})}),a.link&&(a.skipExpansion=!0),a.compactToRelative||delete a.base;let f;a.skipExpansion?f=o:f=yield e.expand(o,a);let h=yield e.processContext(_f(a),s,a),u=yield xj({activeCtx:h,element:f,options:a});a.compactArrays&&!a.graph&&qs(u)?u.length===1?u=u[0]:u.length===0&&(u={}):a.graph&&Mo(u)&&(u=[u]),Mo(s)&&"@context"in s&&(s=s["@context"]),s=gi.clone(s),qs(s)||(s=[s]);let p=s;s=[];for(let m=0;m<p.length;++m)(!Mo(p[m])||Object.keys(p[m]).length>0)&&s.push(p[m]);let g=s.length>0;if(s.length===1&&(s=s[0]),qs(u)){let m=Sj({activeCtx:h,iri:"@graph",relativeTo:{vocab:!0}}),y=u;u={},g&&(u["@context"]=s),u[m]=y}else if(Mo(u)&&g){let m=u;u={"@context":s};for(let y in m)u[y]=m[y]}return u})},e.expand=function(a,l){return b(this,arguments,function*(o,s){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");s=i(s,{keepFreeFloatingNodes:!1,contextResolver:new Nr({sharedCache:r})});let c={},d=[];if("expandContext"in s){let p=gi.clone(s.expandContext);Mo(p)&&"@context"in p?c.expandContext=p:c.expandContext={"@context":p},d.push(c.expandContext)}let f;if(!tr(o))c.input=gi.clone(o);else{let p=yield e.get(o,s);f=p.documentUrl,c.input=p.document,p.contextUrl&&(c.remoteContext={"@context":p.contextUrl},d.push(c.remoteContext))}"base"in s||(s.base=f||"");let h=_f(s);for(let p of d)h=yield rT({activeCtx:h,localCtx:p,options:s});let u=yield Cj({activeCtx:h,element:c.input,options:s});return Mo(u)&&"@graph"in u&&Object.keys(u).length===1?u=u["@graph"]:u===null&&(u=[]),qs(u)||(u=[u]),u})},e.flatten=function(l,c,d){return b(this,arguments,function*(o,s,a){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof s=="function"?s=null:s=s||null,a=i(a,{base:tr(o)?o:"",contextResolver:new Nr({sharedCache:r})});let f=yield e.expand(o,a),h=_j(f);return s===null?h:(a.graph=!0,a.skipExpansion=!0,yield e.compact(h,s,a))})},e.frame=function(l,c,d){return b(this,arguments,function*(o,s,a){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(a=i(a,{base:tr(o)?o:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new Nr({sharedCache:r})}),tr(s)){let D=yield e.get(s,a);if(s=D.document,D.contextUrl){let S=s["@context"];S?qs(S)?S.push(D.contextUrl):S=[S,D.contextUrl]:S=D.contextUrl,s["@context"]=S}}let f=s?s["@context"]||{}:{},h=yield e.processContext(_f(a),f,a);a.hasOwnProperty("omitGraph")||(a.omitGraph=$y(h,1.1)),a.hasOwnProperty("pruneBlankNodeIdentifiers")||(a.pruneBlankNodeIdentifiers=$y(h,1.1));let u=yield e.expand(o,a),p=T({},a);p.isFrame=!0,p.keepFreeFloatingNodes=!0;let g=yield e.expand(s,p),m=Object.keys(s).map(D=>Tj(h,D,{vocab:!0}));p.merged=!m.includes("@graph"),p.is11=$y(h,1.1);let y=Dj(u,g,p);p.graph=!a.omitGraph,p.skipExpansion=!0,p.link={},p.framing=!0;let _=yield e.compact(y,f,p);return p.link={},_=Ej(_,p),_})},e.link=function(o,s,a){return b(this,null,function*(){let l={};return s&&(l["@context"]=s),l["@embed"]="@link",e.frame(o,l,a)})},e.normalize=e.canonize=function(a,l){return b(this,arguments,function*(o,s){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(s=i(s,{base:tr(o)?o:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new Nr({sharedCache:r})}),"inputFormat"in s){if(s.inputFormat!=="application/n-quads"&&s.inputFormat!=="application/nquads")throw new er("Unknown canonicalization input format.","jsonld.CanonizeError");let f=Cf.parse(o);return tT.canonize(f,s)}let c=T({},s);delete c.format,c.produceGeneralizedRdf=!1;let d=yield e.toRDF(o,c);return tT.canonize(d,s)})},e.fromRDF=function(a,l){return b(this,arguments,function*(o,s){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");s=i(s,{format:tr(o)?"application/n-quads":void 0});let{format:c}=s,{rdfParser:d}=s;if(c){if(d=d||t[c],!d)throw new er("Unknown input format.","jsonld.UnknownFormat",{format:c})}else d=()=>o;let f=yield d(o);return bj(f,s)})},e.toRDF=function(a,l){return b(this,arguments,function*(o,s){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");s=i(s,{base:tr(o)?o:"",skipExpansion:!1,contextResolver:new Nr({sharedCache:r})});let c;s.skipExpansion?c=o:c=yield e.expand(o,s);let d=wj(c,s);if(s.format){if(s.format==="application/n-quads"||s.format==="application/nquads")return Cf.serialize(d);throw new er("Unknown output format.","jsonld.UnknownFormat",{format:s.format})}return d})},e.createNodeMap=function(a,l){return b(this,arguments,function*(o,s){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");s=i(s,{base:tr(o)?o:"",contextResolver:new Nr({sharedCache:r})});let c=yield e.expand(o,s);return Aj(c,s)})},e.merge=function(l,c,d){return b(this,arguments,function*(o,s,a){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!qs(o))throw new TypeError('Could not merge, "docs" must be an array.');typeof s=="function"?s=null:s=s||null,a=i(a,{contextResolver:new Nr({sharedCache:r})});let f=yield Promise.all(o.map(D=>{let S=T({},a);return e.expand(D,S)})),h=!0;"mergeNodes"in a&&(h=a.mergeNodes);let u=a.issuer||new By("_:b"),p={"@default":{}};for(let D=0;D<f.length;++D){let S=gi.relabelBlankNodes(f[D],{issuer:new By("_:b"+D+"-")}),x=h||D===0?p:{"@default":{}};if(Mj(S,x,"@default",u),x!==p)for(let N in x){let F=x[N];if(!(N in p)){p[N]=F;continue}let Ce=p[N];for(let Ee in F)Ee in Ce||(Ce[Ee]=F[Ee])}}let g=Oj(p),m=[],y=Object.keys(g).sort();for(let D=0;D<y.length;++D){let S=g[y[D]];Ij(S)||m.push(S)}return s===null?m:(a.graph=!0,a.skipExpansion=!0,yield e.compact(m,s,a))})},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:o=>e._documentLoader=o}),e.documentLoader=o=>b(null,null,function*(){throw new er("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:o})}),e.get=function(o,s){return b(this,null,function*(){let a;typeof s.documentLoader=="function"?a=s.documentLoader:a=e.documentLoader;let l=yield a(o);try{if(!l.document)throw new er("No remote document found at the given URL.","jsonld.NullRemoteDocument");tr(l.document)&&(l.document=JSON.parse(l.document))}catch(c){throw new er("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:c,remoteDoc:l})}return l})},e.processContext=function(o,s,a){return b(this,null,function*(){return a=i(a,{base:"",contextResolver:new Nr({sharedCache:r})}),s===null?_f(a):(s=gi.clone(s),Mo(s)&&"@context"in s||(s={"@context":s}),rT({activeCtx:o,localCtx:s,options:a}))})},e.getContextValue=di().getContextValue,e.documentLoaders={},e.useDocumentLoader=function(o){if(!(o in e.documentLoaders))throw new er('Unknown document loader type: "'+o+'"',"jsonld.UnknownDocumentLoader",{type:o});e.documentLoader=e.documentLoaders[o].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(o,s){t[o]=s},e.unregisterRDFParser=function(o){delete t[o]},e.registerRDFParser("application/n-quads",Cf.parse),e.registerRDFParser("application/nquads",Cf.parse),e.url=Sr(),e.logEventHandler=Nj,e.logWarningEventHandler=Rj,e.safeEventHandler=Pj,e.setDefaultEventHandler=kj,e.strictEventHandler=Lj,e.unhandledEventHandler=jj,e.util=gi,Object.assign(e,gi),e.promises=e,e.RequestQueue=cy(),e.JsonLdProcessor=eT()(e),nT.setupGlobals(e),nT.setupDocumentLoaders(e);function i(o,l){var c=l,{documentLoader:s=e.documentLoader}=c,a=tc(c,["documentLoader"]);if(o&&"compactionMap"in o)throw new er('"compactionMap" not supported.',"jsonld.OptionsError");if(o&&"expansionMap"in o)throw new er('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:s},a,o,{eventHandler:Fj({options:o})})}return e},Hy=function(){return iT(function(){return Hy()})};iT(Hy);oT.exports=Hy});var Ct=M(Gt=>{"use strict";var Vj=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.JsonLdValue=Gt.JsonLdId=Gt.JsonLdObject=void 0;Gt.compact=Uj;Gt.expand=Bj;Gt.expandArray=$j;var aT=ny(),Gy=Vj(sT());function Uj(e){return b(this,null,function*(){return yield Gy.default.compact(e,Hj)})}function Bj(e,t){return b(this,null,function*(){let n=yield Gy.default.expand(e);return Object.assign(t(),n[0])})}function $j(e,t){return b(this,null,function*(){return(yield Gy.default.expand(e)).map(r=>Object.assign(t(),r))})}var bf=class e{mandatoryValue(t,n){return this.optionalValue(t,n)}optionalValue(t,n){var r,i,o,s=this.getNamespaceUrl(t);return(o=(i=(r=this[`${s}${n}`])===null||r===void 0?void 0:r.map(a=>Object.assign(new Bl,a)))===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.value}nestedOf(t,n,r){var i,o,s,a=this.getNamespaceUrl(n);return(s=(o=(i=this[`${a}${r}`])===null||i===void 0?void 0:i.map(l=>Object.assign(t(),l)))===null||o===void 0?void 0:o.at(0))!==null&&s!==void 0?s:void 0}nested(t,n){var r;return(r=this.nestedOf(()=>new e,t,n))!==null&&r!==void 0?r:new e}arrayOf(t,n,r){var i=this.getNamespaceUrl(n);return this[`${i}${r}`].map(o=>Object.assign(t(),o))}array(t,n){return this.arrayOf(()=>new e,t,n)}types(){return this["@type"]}setValue(t,n,r){let i=this.getNamespaceUrl(t),o=new Bl;o.value=r,this[`${i}${n}`]=[o]}getNamespaceUrl(t){switch(t){case"edc":return aT.EDC_CONTEXT;case"odrl":return"http://www.w3.org/ns/odrl/2/";case"dcat":return"http://www.w3.org/ns/dcat#";default:throw new Error(`JSON-LD context ${t} not supported`)}}};Gt.JsonLdObject=bf;var Hj={"@vocab":aT.EDC_CONTEXT},qy=class extends bf{get id(){return this["@id"]}set id(t){this["@id"]=t}};Gt.JsonLdId=qy;var Bl=class{get value(){return this["@value"]}set value(t){this["@value"]=t}};Gt.JsonLdValue=Bl});var lT=M(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.Asset=void 0;var qj=Ct(),zy=class extends qj.JsonLdId{get properties(){return this.nested("edc","properties")}get privateProperties(){return this.nested("edc","privateProperties")}get dataAddress(){return this.nested("edc","dataAddress")}};wf.Asset=zy});var cT=M(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.Offer=mi.Dataset=mi.Catalog=void 0;var Jy=Ct(),Wy=class extends Jy.JsonLdId{get participantId(){return this.mandatoryValue("edc","participantId")}get datasets(){return this.arrayOf(()=>new Df,"dcat","dataset")}};mi.Catalog=Wy;var Df=class extends Jy.JsonLdId{get offers(){return this.arrayOf(()=>new Ef,"odrl","hasPolicy")}};mi.Dataset=Df;var Ef=class extends Jy.JsonLdId{};mi.Offer=Ef});var dT=M(uT=>{"use strict";Object.defineProperty(uT,"__esModule",{value:!0})});var pT=M(fT=>{"use strict";Object.defineProperty(fT,"__esModule",{value:!0})});var gT=M(hT=>{"use strict";Object.defineProperty(hT,"__esModule",{value:!0})});var yT=M(mT=>{"use strict";Object.defineProperty(mT,"__esModule",{value:!0})});var vT=M(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.PolicyBuilder=Gs.Policy=void 0;var If=Ct(),Tf=class extends If.JsonLdObject{get permissions(){return this.arrayOf(()=>new If.JsonLdObject,"odrl","permission")}get prohibitions(){return this.arrayOf(()=>new If.JsonLdObject,"odrl","prohibition")}get obligations(){return this.arrayOf(()=>new If.JsonLdObject,"odrl","obligation")}};Gs.Policy=Tf;var Zy=class{constructor(){this.instance=new Tf,this.instance["@context"]="http://www.w3.org/ns/odrl.jsonld"}raw(t){return this.instance=Object.assign({},this.instance,t),this}type(t){return this.instance["@type"]=t,this}build(){return this.instance}};Gs.PolicyBuilder=Zy});var _T=M(CT=>{"use strict";Object.defineProperty(CT,"__esModule",{value:!0})});var xf=M(ln=>{"use strict";var Gj=ln&&ln.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),zs=ln&&ln.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Gj(t,e,n)};Object.defineProperty(ln,"__esModule",{value:!0});zs(dT(),ln);zs(pT(),ln);zs(gT(),ln);zs(yT(),ln);zs(vT(),ln);zs(_T(),ln)});var bT=M(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.ContractAgreement=void 0;var zj=xf(),Wj=Ct(),Qy=class extends Wj.JsonLdId{get policy(){return Object.assign(new zj.Policy,this.nested("edc","policy"))}get assetId(){return this.mandatoryValue("edc","assetId")}get providerId(){return this.mandatoryValue("edc","providerId")}get consumerId(){return this.mandatoryValue("edc","consumerId")}get contractSigningDate(){return this.mandatoryValue("edc","contractSigningDate")}};Sf.ContractAgreement=Qy});var Ky=M(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.Criterion=void 0;var Jj=Ct(),Xy=class extends Jj.JsonLdObject{get operandLeft(){return this.mandatoryValue("edc","operandLeft")}get operator(){return this.mandatoryValue("edc","operator")}get operandRight(){return this.mandatoryValue("edc","operandRight")}};Mf.Criterion=Xy});var wT=M(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.ContractDefinition=void 0;var Zj=Ky(),Qj=Ct(),Yy=class extends Qj.JsonLdId{get accessPolicyId(){return this.mandatoryValue("edc","accessPolicyId")}get contractPolicyId(){return this.mandatoryValue("edc","contractPolicyId")}get assetsSelector(){return this.arrayOf(()=>new Zj.Criterion,"edc","assetsSelector")}};Af.ContractDefinition=Yy});var ET=M(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.ContractNegotiationState=Ws.ContractNegotiation=void 0;var DT=Ct(),ev=class extends DT.JsonLdId{get contractAgreementId(){return this.mandatoryValue("edc","contractAgreementId")}get state(){return this.mandatoryValue("edc","state")}};Ws.ContractNegotiation=ev;var tv=class extends DT.JsonLdObject{get state(){return this.mandatoryValue("edc","state")}};Ws.ContractNegotiationState=tv});var TT=M(IT=>{"use strict";Object.defineProperty(IT,"__esModule",{value:!0})});var xT=M(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.Dataplane=void 0;var Of=Ct(),nv=class extends Of.JsonLdId{get url(){return this.mandatoryValue("edc","url")}get allowedSourceTypes(){return this.arrayOf(()=>new Of.JsonLdValue,"edc","allowedSourceTypes").map(t=>t.value)}get allowedDestTypes(){return this.arrayOf(()=>new Of.JsonLdValue,"edc","allowedDestTypes").map(t=>t.value)}get allowedTransferTypes(){return this.arrayOf(()=>new Of.JsonLdValue,"edc","allowedTransferTypes").map(t=>t.value)}get properties(){return this.nested("edc","properties")}};Nf.Dataplane=nv});var ST=M(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.Edr=void 0;var Xj=Ct(),rv=class extends Xj.JsonLdId{get transferProcessId(){return this.mandatoryValue("edc","transferProcessId")}get agreementId(){return this.mandatoryValue("edc","agreementId")}get contractNegotiationId(){return this.mandatoryValue("edc","contractNegotiationId")}get assetId(){return this.mandatoryValue("edc","assetId")}get providerId(){return this.mandatoryValue("edc","providerId")}get createdAt(){return this.mandatoryValue("edc","createdAt")}};Rf.Edr=rv});var AT=M(MT=>{"use strict";Object.defineProperty(MT,"__esModule",{value:!0})});var OT=M(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.IdResponse=void 0;var Kj=Ct(),iv=class extends Kj.JsonLdId{get createdAt(){return this.mandatoryValue("edc","createdAt")}};Pf.IdResponse=iv});var NT=M(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.PolicyDefinition=void 0;var Yj=Ct(),eV=xf(),ov=class extends Yj.JsonLdId{get createdAt(){return this.mandatoryValue("edc","createdAt")}get policy(){let t=this.nested("edc","policy");return Object.assign(new eV.Policy,t)}};kf.PolicyDefinition=ov});var RT=M(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.SecretBuilder=Js.Secret=void 0;var tV=Ct(),Ff=class extends tV.JsonLdId{get value(){return super.mandatoryValue("edc","value")}set value(t){super.setValue("edc","value",t)}};Js.Secret=Ff;var sv=class{constructor(){this.instance=new Ff}raw(t){return this.instance=Object.assign({},this.instance,t),this}id(t){return this.instance.id=t,this}value(t){return this.instance.setValue("edc","value",t),this}build(){return this.instance}};Js.SecretBuilder=sv});var FT=M(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.TransferProcessStates=yi.TransferProcessState=yi.TransferProcess=void 0;var kT=Ct(),av=class extends kT.JsonLdId{get correlationId(){return this.mandatoryValue("edc","correlationId")}get type(){return this.mandatoryValue("edc","type")}get state(){return this.mandatoryValue("edc","state")}get createdAt(){return this.mandatoryValue("edc","createdAt")}get assetId(){return this.mandatoryValue("edc","assetId")}get connectorId(){return this.mandatoryValue("edc","connectorId")}get contractId(){return this.mandatoryValue("edc","contractId")}get errorDetail(){return this.optionalValue("edc","errorDetail")}get dataDestination(){return this.nested("edc","dataDestination")}get privateProperties(){return this.nested("edc","privateProperties")}};yi.TransferProcess=av;var lv=class extends kT.JsonLdObject{get state(){return this.mandatoryValue("edc","state")}};yi.TransferProcessState=lv;var PT=function(e){return e.INITIAL="INITIAL",e.PROVISIONING="PROVISIONING",e.PROVISIONING_REQUESTED="PROVISIONING_REQUESTED",e.PROVISIONED="PROVISIONED",e.REQUESTING="REQUESTING",e.REQUESTED="REQUESTED",e.STARTING="STARTING",e.STARTED="STARTED",e.SUSPENDING="SUSPENDING",e.SUSPENDED="SUSPENDED",e.COMPLETING="COMPLETING",e.COMPLETED="COMPLETED",e.TERMINATING="TERMINATING",e.TERMINATED="TERMINATED",e.DEPROVISIONING="DEPROVISIONING",e.DEPROVISIONING_REQUESTED="DEPROVISIONING_REQUESTED",e.DEPROVISIONED="DEPROVISIONED",e}(PT||(yi.TransferProcessStates=PT={}))});var zt=M(De=>{"use strict";var nV=De&&De.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Xe=De&&De.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&nV(t,e,n)};Object.defineProperty(De,"__esModule",{value:!0});De.EDC_NAMESPACE=void 0;Xe(eE(),De);Xe(lT(),De);Xe(cT(),De);Xe(ny(),De);Xe(bT(),De);Xe(wT(),De);Xe(ET(),De);Xe(Ky(),De);Xe(TT(),De);Xe(xT(),De);Xe(ST(),De);Xe(AT(),De);Xe(OT(),De);Xe(Ct(),De);Xe(NT(),De);Xe(xf(),De);Xe(RT(),De);Xe(FT(),De);De.EDC_NAMESPACE="edc"});var jT=M(_i=>{"use strict";var LT=_i&&_i.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},_t=_i&&_i.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},vi,Ci,Ao;Object.defineProperty(_i,"__esModule",{value:!0});_i.AssetController=void 0;var Rr=zt(),cv=class{constructor(t,n){vi.set(this,void 0),Ci.set(this,void 0),Ao.set(this,"/v3/assets"),LT(this,vi,t,"f"),LT(this,Ci,n,"f")}create(t,n){return b(this,null,function*(){let r=n||_t(this,Ci,"f");return _t(this,vi,"f").request(r.management,{path:_t(this,Ao,"f"),method:"POST",apiToken:r.apiToken,body:Object.assign(Object.assign({},t),{"@context":Rr.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Rr.expand)(i,()=>new Rr.IdResponse))})}delete(t,n){return b(this,null,function*(){let r=n||_t(this,Ci,"f");return _t(this,vi,"f").request(r.management,{path:`${_t(this,Ao,"f")}/${t}`,method:"DELETE",apiToken:r.apiToken})})}get(t,n){return b(this,null,function*(){let r=n||_t(this,Ci,"f");return _t(this,vi,"f").request(r.management,{path:`${_t(this,Ao,"f")}/${t}`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Rr.expand)(i,()=>new Rr.Asset))})}update(t,n){return b(this,null,function*(){let r=n||_t(this,Ci,"f");return _t(this,vi,"f").request(r.management,{path:_t(this,Ao,"f"),method:"PUT",apiToken:r.apiToken,body:Object.assign(Object.assign({},t),{"@context":Rr.JSON_LD_DEFAULT_CONTEXT})})})}queryAll(){return b(this,arguments,function*(t={},n){let r=n||_t(this,Ci,"f");return _t(this,vi,"f").request(r.management,{path:`${_t(this,Ao,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":Rr.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Rr.expandArray)(i,()=>new Rr.Asset))})}};_i.AssetController=cv;vi=new WeakMap,Ci=new WeakMap,Ao=new WeakMap});var UT=M(bi=>{"use strict";var VT=bi&&bi.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Zs=bi&&bi.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},$l,Hl,Lf;Object.defineProperty(bi,"__esModule",{value:!0});bi.CatalogController=void 0;var Qs=zt(),uv=class{constructor(t,n){$l.set(this,void 0),Hl.set(this,void 0),Lf.set(this,"/v3/catalog"),this.protocol="dataspace-protocol-http",VT(this,$l,t,"f"),VT(this,Hl,n,"f")}request(t,n){return b(this,null,function*(){let r=n||Zs(this,Hl,"f");return Zs(this,$l,"f").request(r.management,{path:`${Zs(this,Lf,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.assign({"@context":Qs.JSON_LD_DEFAULT_CONTEXT,protocol:this.protocol},t)}).then(i=>(0,Qs.expand)(i,()=>new Qs.Catalog))})}requestDataset(t,n){return b(this,null,function*(){let r=n||Zs(this,Hl,"f");return Zs(this,$l,"f").request(r.management,{path:`${Zs(this,Lf,"f")}/dataset/request`,method:"POST",apiToken:r.apiToken,body:Object.assign({"@context":Qs.JSON_LD_DEFAULT_CONTEXT,protocol:this.protocol},t)}).then(i=>(0,Qs.expand)(i,()=>new Qs.Dataset))})}queryAll(t,n){return b(this,null,function*(){return this.request(t,n)})}};bi.CatalogController=uv;$l=new WeakMap,Hl=new WeakMap,Lf=new WeakMap});var $T=M(wi=>{"use strict";var BT=wi&&wi.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Pr=wi&&wi.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Xs,Ks,ql;Object.defineProperty(wi,"__esModule",{value:!0});wi.ContractAgreementController=void 0;var Oo=zt(),dv=class{constructor(t,n){Xs.set(this,void 0),Ks.set(this,void 0),ql.set(this,"/v3/contractagreements"),BT(this,Xs,t,"f"),BT(this,Ks,n,"f")}queryAll(){return b(this,arguments,function*(t={},n){let r=n||Pr(this,Ks,"f");return Pr(this,Xs,"f").request(r.management,{path:`${Pr(this,ql,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":Oo.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Oo.expandArray)(i,()=>new Oo.ContractAgreement))})}get(t,n){return b(this,null,function*(){let r=n||Pr(this,Ks,"f");return Pr(this,Xs,"f").request(r.management,{path:`${Pr(this,ql,"f")}/${t}`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Oo.expand)(i,()=>new Oo.ContractAgreement))})}getNegotiation(t,n){return b(this,null,function*(){let r=n||Pr(this,Ks,"f");return Pr(this,Xs,"f").request(r.management,{path:`${Pr(this,ql,"f")}/${t}/negotiation`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Oo.expand)(i,()=>new Oo.ContractNegotiation))})}};wi.ContractAgreementController=dv;Xs=new WeakMap,Ks=new WeakMap,ql=new WeakMap});var qT=M(Ii=>{"use strict";var HT=Ii&&Ii.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},bt=Ii&&Ii.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Di,Ei,No;Object.defineProperty(Ii,"__esModule",{value:!0});Ii.ContractDefinitionController=void 0;var kr=zt(),fv=class{constructor(t,n){Di.set(this,void 0),Ei.set(this,void 0),No.set(this,"/v3/contractdefinitions"),HT(this,Di,t,"f"),HT(this,Ei,n,"f")}create(t,n){return b(this,null,function*(){let r=n||bt(this,Ei,"f");return bt(this,Di,"f").request(r.management,{path:bt(this,No,"f"),method:"POST",apiToken:r.apiToken,body:Object.assign(Object.assign({},t),{"@context":kr.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,kr.expand)(i,()=>new kr.IdResponse))})}delete(t,n){return b(this,null,function*(){let r=n||bt(this,Ei,"f");return bt(this,Di,"f").request(r.management,{path:`${bt(this,No,"f")}/${t}`,method:"DELETE",apiToken:r.apiToken})})}get(t,n){return b(this,null,function*(){let r=n||bt(this,Ei,"f");return bt(this,Di,"f").request(r.management,{path:`${bt(this,No,"f")}/${t}`,method:"GET",apiToken:r.apiToken}).then(i=>(0,kr.expand)(i,()=>new kr.ContractDefinition))})}queryAll(){return b(this,arguments,function*(t={},n){let r=n||bt(this,Ei,"f");return bt(this,Di,"f").request(r.management,{path:`${bt(this,No,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":kr.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,kr.expandArray)(i,()=>new kr.ContractDefinition))})}update(t,n){return b(this,null,function*(){let r=n||bt(this,Ei,"f");return bt(this,Di,"f").request(r.management,{path:bt(this,No,"f"),method:"PUT",apiToken:r.apiToken,body:Object.assign(Object.assign({},t),{"@context":kr.JSON_LD_DEFAULT_CONTEXT})})})}};Ii.ContractDefinitionController=fv;Di=new WeakMap,Ei=new WeakMap,No=new WeakMap});var zT=M(xi=>{"use strict";var GT=xi&&xi.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Ke=xi&&xi.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Fr,Lr,Ti;Object.defineProperty(xi,"__esModule",{value:!0});xi.ContractNegotiationController=void 0;var Wt=zt(),pv=class{constructor(t,n){Fr.set(this,void 0),Lr.set(this,void 0),Ti.set(this,"/v3/contractnegotiations"),this.protocol="dataspace-protocol-http",GT(this,Fr,t,"f"),GT(this,Lr,n,"f")}initiate(t,n){return b(this,null,function*(){let r=n||Ke(this,Lr,"f");return Ke(this,Fr,"f").request(r.management,{path:Ke(this,Ti,"f"),method:"POST",apiToken:r.apiToken,body:Object.assign({protocol:this.protocol,"@context":Wt.JSON_LD_DEFAULT_CONTEXT},t)}).then(i=>(0,Wt.expand)(i,()=>new Wt.IdResponse))})}queryAll(){return b(this,arguments,function*(t={},n){let r=n||Ke(this,Lr,"f");return Ke(this,Fr,"f").request(r.management,{path:`${Ke(this,Ti,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":Wt.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Wt.expandArray)(i,()=>new Wt.ContractNegotiation))})}get(t,n){return b(this,null,function*(){let r=n||Ke(this,Lr,"f");return Ke(this,Fr,"f").request(r.management,{path:`${Ke(this,Ti,"f")}/${t}`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Wt.expand)(i,()=>new Wt.ContractNegotiation))})}getState(t,n){return b(this,null,function*(){let r=n||Ke(this,Lr,"f");return Ke(this,Fr,"f").request(r.management,{path:`${Ke(this,Ti,"f")}/${t}/state`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Wt.expand)(i,()=>new Wt.ContractNegotiationState))})}terminate(t,n,r){return b(this,null,function*(){let i=r||Ke(this,Lr,"f");return Ke(this,Fr,"f").request(i.management,{path:`${Ke(this,Ti,"f")}/${t}/terminate`,method:"POST",apiToken:i.apiToken,body:{reason:n,"@id":t,"@context":Wt.JSON_LD_DEFAULT_CONTEXT}})})}getAgreement(t,n){return b(this,null,function*(){let r=n||Ke(this,Lr,"f");return Ke(this,Fr,"f").request(r.management,{path:`${Ke(this,Ti,"f")}/${t}/agreement`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Wt.expand)(i,()=>new Wt.ContractAgreement))})}};xi.ContractNegotiationController=pv;Fr=new WeakMap,Lr=new WeakMap,Ti=new WeakMap});var ZT=M(Si=>{"use strict";var WT=Si&&Si.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},hv=Si&&Si.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},jf,Vf,gv;Object.defineProperty(Si,"__esModule",{value:!0});Si.DataplaneController=void 0;var JT=zt(),mv=class{constructor(t,n){jf.set(this,void 0),Vf.set(this,void 0),gv.set(this,"/v3/dataplanes"),WT(this,jf,t,"f"),WT(this,Vf,n,"f")}list(t){return b(this,null,function*(){let n=t||hv(this,Vf,"f");return hv(this,jf,"f").request(n.management,{path:hv(this,gv,"f"),method:"GET",apiToken:n.apiToken}).then(r=>(0,JT.expandArray)(r,()=>new JT.Dataplane))})}};Si.DataplaneController=mv;jf=new WeakMap,Vf=new WeakMap,gv=new WeakMap});var XT=M(Mi=>{"use strict";var QT=Mi&&Mi.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},jr=Mi&&Mi.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ys,ea,zl;Object.defineProperty(Mi,"__esModule",{value:!0});Mi.EdrController=void 0;var Gl=zt(),yv=class{constructor(t,n){Ys.set(this,void 0),ea.set(this,void 0),zl.set(this,"/v3/edrs"),QT(this,Ys,t,"f"),QT(this,ea,n,"f")}request(){return b(this,arguments,function*(t={},n){let r=n||jr(this,ea,"f");return jr(this,Ys,"f").request(r.management,{path:`${jr(this,zl,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":Gl.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Gl.expandArray)(i,()=>new Gl.Edr))})}delete(t,n){return b(this,null,function*(){let r=n||jr(this,ea,"f");return jr(this,Ys,"f").request(r.management,{path:`${jr(this,zl,"f")}/${t}`,method:"DELETE",apiToken:r.apiToken})})}dataAddress(t,n){return b(this,null,function*(){let r=n||jr(this,ea,"f");return jr(this,Ys,"f").request(r.management,{path:`${jr(this,zl,"f")}/${t}/dataaddress`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Gl.expand)(i,()=>new Gl.JsonLdObject))})}};Mi.EdrController=yv;Ys=new WeakMap,ea=new WeakMap,zl=new WeakMap});var YT=M(Ni=>{"use strict";var KT=Ni&&Ni.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},wt=Ni&&Ni.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ai,Oi,Ro;Object.defineProperty(Ni,"__esModule",{value:!0});Ni.PolicyDefinitionController=void 0;var Vr=zt(),vv=class{constructor(t,n){Ai.set(this,void 0),Oi.set(this,void 0),Ro.set(this,"/v3/policydefinitions"),KT(this,Ai,t,"f"),KT(this,Oi,n,"f")}create(t,n){return b(this,null,function*(){let r=n||wt(this,Oi,"f"),i=Object.assign(Object.assign({},t),{"@context":Vr.JSON_LD_DEFAULT_CONTEXT});return wt(this,Ai,"f").request(r.management,{path:wt(this,Ro,"f"),method:"POST",apiToken:r.apiToken,body:i}).then(o=>(0,Vr.expand)(o,()=>new Vr.IdResponse))})}update(t,n,r){return b(this,null,function*(){let i=r||wt(this,Oi,"f");return wt(this,Ai,"f").request(i.management,{path:`${wt(this,Ro,"f")}/${t}`,method:"PUT",apiToken:i.apiToken,body:Object.assign(Object.assign({},n),{"@context":Vr.JSON_LD_DEFAULT_CONTEXT})})})}delete(t,n){return b(this,null,function*(){let r=n||wt(this,Oi,"f");return wt(this,Ai,"f").request(r.management,{path:`${wt(this,Ro,"f")}/${t}`,method:"DELETE",apiToken:r.apiToken})})}get(t,n){return b(this,null,function*(){let r=n||wt(this,Oi,"f");return wt(this,Ai,"f").request(r.management,{path:`${wt(this,Ro,"f")}/${t}`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Vr.expand)(i,()=>new Vr.PolicyDefinition))})}queryAll(){return b(this,arguments,function*(t={},n){let r=n||wt(this,Oi,"f");return wt(this,Ai,"f").request(r.management,{path:`${wt(this,Ro,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":Vr.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Vr.expandArray)(i,()=>new Vr.PolicyDefinition))})}};Ni.PolicyDefinitionController=vv;Ai=new WeakMap,Oi=new WeakMap,Ro=new WeakMap});var tx=M(Ri=>{"use strict";var ex=Ri&&Ri.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},cn=Ri&&Ri.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Po,ko,na;Object.defineProperty(Ri,"__esModule",{value:!0});Ri.SecretController=void 0;var ta=zt(),Cv=class{constructor(t,n){Po.set(this,void 0),ko.set(this,void 0),na.set(this,"/v3/secrets"),ex(this,Po,t,"f"),ex(this,ko,n,"f")}create(t,n){return b(this,null,function*(){let r=n||cn(this,ko,"f"),i=yield(0,ta.compact)(Object.assign(Object.assign({},t),{"@context":ta.JSON_LD_DEFAULT_CONTEXT}));return cn(this,Po,"f").request(r.management,{path:cn(this,na,"f"),method:"POST",apiToken:r.apiToken,body:i})})}get(t,n){return b(this,null,function*(){let r=n||cn(this,ko,"f");return cn(this,Po,"f").request(r.management,{path:`${cn(this,na,"f")}/${t}`,method:"GET",apiToken:r.apiToken}).then(i=>(0,ta.expand)(i,()=>new ta.Secret))})}update(t,n){return b(this,null,function*(){let r=n||cn(this,ko,"f"),i=yield(0,ta.compact)(Object.assign(Object.assign({},t),{"@context":ta.JSON_LD_DEFAULT_CONTEXT}));return cn(this,Po,"f").request(r.management,{path:cn(this,na,"f"),method:"PUT",apiToken:r.apiToken,body:i})})}delete(t,n){return b(this,null,function*(){let r=n||cn(this,ko,"f");return cn(this,Po,"f").request(r.management,{path:`${cn(this,na,"f")}/${t}`,method:"DELETE",apiToken:r.apiToken})})}};Ri.SecretController=Cv;Po=new WeakMap,ko=new WeakMap,na=new WeakMap});var rx=M(ki=>{"use strict";var nx=ki&&ki.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Ye=ki&&ki.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ur,Br,Pi;Object.defineProperty(ki,"__esModule",{value:!0});ki.TransferProcessController=void 0;var un=zt(),_v=class{constructor(t,n){Ur.set(this,void 0),Br.set(this,void 0),Pi.set(this,"/v3/transferprocesses"),this.protocol="dataspace-protocol-http",nx(this,Ur,t,"f"),nx(this,Br,n,"f")}initiate(t,n){return b(this,null,function*(){let r=n||Ye(this,Br,"f");return Ye(this,Ur,"f").request(r.management,{path:Ye(this,Pi,"f"),method:"POST",apiToken:r.apiToken,body:Object.assign({"@context":un.JSON_LD_DEFAULT_CONTEXT,protocol:this.protocol},t)}).then(i=>(0,un.expand)(i,()=>new un.IdResponse))})}get(t,n){return b(this,null,function*(){let r=n||Ye(this,Br,"f");return Ye(this,Ur,"f").request(r.management,{path:`${Ye(this,Pi,"f")}/${t}`,method:"GET",apiToken:r.apiToken}).then(i=>(0,un.expand)(i,()=>new un.TransferProcess))})}queryAll(){return b(this,arguments,function*(t={},n){let r=n||Ye(this,Br,"f");return Ye(this,Ur,"f").request(r.management,{path:`${Ye(this,Pi,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":un.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,un.expandArray)(i,()=>new un.TransferProcess))})}getState(t,n){return b(this,null,function*(){let r=n||Ye(this,Br,"f");return Ye(this,Ur,"f").request(r.management,{path:`${Ye(this,Pi,"f")}/${t}/state`,method:"GET",apiToken:r.apiToken}).then(i=>(0,un.expand)(i,()=>new un.TransferProcessState))})}terminate(t,n,r){return b(this,null,function*(){let i=r||Ye(this,Br,"f");return Ye(this,Ur,"f").request(i.management,{path:`${Ye(this,Pi,"f")}/${t}/terminate`,method:"POST",apiToken:i.apiToken,body:{"@id":t,"@context":un.JSON_LD_DEFAULT_CONTEXT,reason:n}})})}deprovision(t,n){return b(this,null,function*(){let r=n||Ye(this,Br,"f");return Ye(this,Ur,"f").request(r.management,{path:`${Ye(this,Pi,"f")}/${t}/deprovision`,method:"POST",apiToken:r.apiToken,body:{"@id":t,"@context":un.JSON_LD_DEFAULT_CONTEXT}})})}};ki.TransferProcessController=_v;Ur=new WeakMap,Br=new WeakMap,Pi=new WeakMap});var bv=M(ct=>{"use strict";var rV=ct&&ct.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),nr=ct&&ct.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&rV(t,e,n)};Object.defineProperty(ct,"__esModule",{value:!0});nr(jT(),ct);nr(UT(),ct);nr($T(),ct);nr(qT(),ct);nr(zT(),ct);nr(ZT(),ct);nr(XT(),ct);nr(YT(),ct);nr(tx(),ct);nr(rx(),ct)});var ra=M(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.EdcController=void 0;var wv=class{constructor(t,n){this.inner=t,this.context=n}};Uf.EdcController=wv});var ix=M(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.ObservabilityController=void 0;var iV=ra(),Dv=class extends iV.EdcController{checkHealth(t){return b(this,null,function*(){let n=t||this.context;return this.inner.request(n.default,{path:"/check/health",method:"GET",apiToken:n.apiToken})})}checkLiveness(t){return b(this,null,function*(){let n=t||this.context;return this.inner.request(n.default,{path:"/check/liveness",method:"GET",apiToken:n.apiToken})})}checkReadiness(t){return b(this,null,function*(){let n=t||this.context;return this.inner.request(n.default,{path:"/check/readiness",method:"GET",apiToken:n.apiToken})})}checkStartup(t){return b(this,null,function*(){let n=t||this.context;return this.inner.request(n.default,{path:"/check/startup",method:"GET",apiToken:n.apiToken})})}};Bf.ObservabilityController=Dv});var ox=M($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.PublicController=void 0;var oV=ra(),Ev=class extends oV.EdcController{getTransferredData(t,n){return b(this,null,function*(){let r=n||this.context;return this.inner.stream(r.public,{path:"/",method:"GET",headers:t})})}};$f.PublicController=Ev});var xv=M(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.FederatedCatalogController=void 0;var sV=ra(),Iv=zt(),Tv=class extends sV.EdcController{constructor(t,n){super(t,n)}queryAll(){return b(this,arguments,function*(t={},n){let r=n||this.context;return this.inner.request(r.federatedCatalog,{path:"/v1alpha/catalog/query",method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":Iv.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Iv.expandArray)(i,()=>new Iv.Catalog))})}};Hf.FederatedCatalogController=Tv});var sx=M(rr=>{"use strict";var aV=rr&&rr.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),qf=rr&&rr.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&aV(t,e,n)};Object.defineProperty(rr,"__esModule",{value:!0});qf(bv(),rr);qf(ix(),rr);qf(ox(),rr);qf(xv(),rr)});var ax=M(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.ManagementController=void 0;var ir=bv(),lV=ra(),Sv=class extends lV.EdcController{get assets(){return new ir.AssetController(this.inner,this.context)}get catalog(){return new ir.CatalogController(this.inner,this.context)}get contractAgreements(){return new ir.ContractAgreementController(this.inner,this.context)}get contractDefinitions(){return new ir.ContractDefinitionController(this.inner,this.context)}get contractNegotiations(){return new ir.ContractNegotiationController(this.inner,this.context)}get dataplanes(){return new ir.DataplaneController(this.inner,this.context)}get edrs(){return new ir.EdrController(this.inner,this.context)}get secrets(){return new ir.SecretController(this.inner,this.context)}get policyDefinitions(){return new ir.PolicyDefinitionController(this.inner,this.context)}get transferProcesses(){return new ir.TransferProcessController(this.inner,this.context)}};Gf.ManagementController=Sv});var lx=M(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.TypedError=void 0;var Mv=class extends Error{constructor(t,n,r){super(n,r),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=t}get name(){return`${this.constructor.name}(${this.type})`}};zf.TypedError=Mv});var Ov=M(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.EdcConnectorClientError=ia.EdcConnectorClientErrorType=void 0;var cV=lx(),cx=function(e){return e.Unknown="Unknown",e.Duplicate="Duplicate",e.NotFound="NotFound",e.BadRequest="BadRequest",e.Unreachable="Unreachable",e}(cx||(ia.EdcConnectorClientErrorType=cx={})),Av=class extends cV.TypedError{};ia.EdcConnectorClientError=Av});var dx=M(oa=>{"use strict";var ux=oa&&oa.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Wf,Nv;Object.defineProperty(oa,"__esModule",{value:!0});oa.Inner=void 0;var Jt=Ov(),Rv=class{constructor(){Wf.add(this)}request(t,n){return b(this,null,function*(){n.headers=n.headers||{},n.headers["Content-type"]="application/json";let r=yield ux(this,Wf,"m",Nv).call(this,t,n);if(r.status!==204)return r.json()})}stream(t,n){return b(this,null,function*(){let r=yield ux(this,Wf,"m",Nv).call(this,t,n);if(r.status===204||!r.body)throw new Jt.EdcConnectorClientError(Jt.EdcConnectorClientErrorType.Unreachable,"response is never empty");return r})}};oa.Inner=Rv;Wf=new WeakSet,Nv=function(t,n){return b(this,null,function*(){var r;let i=new URLSearchParams;n.query&&Object.entries(n.query).forEach(([l,c])=>{i.append(l,c)});let o=`${t}${n.path}?${i.toString()}`,s=n.method,a=new Request(o,{method:s,headers:Object.assign(Object.assign({},n.headers),{"X-Api-Key":(r=n.apiToken)!==null&&r!==void 0?r:""}),body:n.body?JSON.stringify(n.body):void 0});try{let l=yield fetch(a);if(l.ok)return l;let c=yield l.text();switch(l.status){case 400:throw new Jt.EdcConnectorClientError(Jt.EdcConnectorClientErrorType.BadRequest,"request was malformed: "+c);case 404:throw new Jt.EdcConnectorClientError(Jt.EdcConnectorClientErrorType.NotFound,"resource not found: "+c);case 409:throw new Jt.EdcConnectorClientError(Jt.EdcConnectorClientErrorType.Duplicate,"duplicated resource: "+c);default:throw new Jt.EdcConnectorClientError(Jt.EdcConnectorClientErrorType.Unknown,c)}}catch(l){if(!(l instanceof Jt.EdcConnectorClientError)){let c=l;l=new Jt.EdcConnectorClientError(Jt.EdcConnectorClientErrorType.Unknown,`something went wrong: ${c.message}. ${c.body}`,{cause:c})}throw l}})}});var gx=M(sa=>{"use strict";var $r=sa&&sa.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},An,px,hx;Object.defineProperty(sa,"__esModule",{value:!0});sa.EdcConnectorClient=void 0;var uV=KD(),Wl=ty(),fx=sx(),dV=ax(),fV=dx(),pV=xv(),Jl=Symbol("[#apiToken]"),dn=Symbol("[#addressesToken]"),Zl=Symbol("[#innerToken]"),Pv=class{constructor(){An.set(this,new Ql)}apiToken(t){return $r(this,An,"f")[Jl]=t,this}managementUrl(t){return $r(this,An,"f")[dn].management=t,this}defaultUrl(t){return $r(this,An,"f")[dn].default=t,this}protocolUrl(t){return $r(this,An,"f")[dn].protocol=t,this}publicUrl(t){return $r(this,An,"f")[dn].public=t,this}controlUrl(t){return $r(this,An,"f")[dn].control=t,this}federatedCatalogUrl(t){return $r(this,An,"f")[dn].federatedCatalogUrl=t,this}use(t,n){return Object.defineProperty($r(this,An,"f"),t,{get(){return new n(this.inner,this.createContext(this.apiToken,this.addresses))},enumerable:!0,configurable:!1}),this}build(){return $r(this,An,"f")}};An=new WeakMap;var Ql=class{constructor(){this[px]={},this[hx]=new fV.Inner}get management(){let t=new Wl.EdcConnectorClientContext(this[Jl],this[dn]);return new dV.ManagementController(this[Zl],t)}get observability(){let t=new Wl.EdcConnectorClientContext(this[Jl],this[dn]);return new fx.ObservabilityController(this[Zl],t)}get public(){let t=new Wl.EdcConnectorClientContext(this[Jl],this[dn]);return new fx.PublicController(this[Zl],t)}get federatedCatalog(){let t=new Wl.EdcConnectorClientContext(this[Jl],this[dn]);return new pV.FederatedCatalogController(this[Zl],t)}get addresses(){return Object.assign({},this[dn])}createContext(t,n){return new Wl.EdcConnectorClientContext(t,n)}static version(){return uV.version}};sa.EdcConnectorClient=Ql;px=dn,hx=Zl;Ql.Builder=Pv});var mx=M(On=>{"use strict";var hV=On&&On.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Xl=On&&On.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&hV(t,e,n)};Object.defineProperty(On,"__esModule",{value:!0});Xl(ty(),On);Xl(gx(),On);Xl(zt(),On);Xl(Ov(),On);Xl(ra(),On)});function lp(e,t){return Object.is(e,t)}var Ve=null,nc=!1,cp=1,Zt=Symbol("SIGNAL");function Y(e){let t=Ve;return Ve=e,t}function up(){return Ve}var ca={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ua(e){if(nc)throw new Error("");if(Ve===null)return;Ve.consumerOnSignalRead(e);let t=Ve.nextProducerIndex++;if(sc(Ve),t<Ve.producerNode.length&&Ve.producerNode[t]!==e&&la(Ve)){let n=Ve.producerNode[t];oc(n,Ve.producerIndexOfThis[t])}Ve.producerNode[t]!==e&&(Ve.producerNode[t]=e,Ve.producerIndexOfThis[t]=la(Ve)?Bv(e,Ve,t):0),Ve.producerLastReadVersion[t]=e.version}function Uv(){cp++}function dp(e){if(!(la(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===cp)){if(!e.producerMustRecompute(e)&&!gp(e)){ap(e);return}e.producerRecomputeValue(e),ap(e)}}function fp(e){if(e.liveConsumerNode===void 0)return;let t=nc;nc=!0;try{for(let n of e.liveConsumerNode)n.dirty||Rx(n)}finally{nc=t}}function pp(){return Ve?.consumerAllowSignalWrites!==!1}function Rx(e){e.dirty=!0,fp(e),e.consumerMarkedDirty?.(e)}function ap(e){e.dirty=!1,e.lastCleanEpoch=cp}function ic(e){return e&&(e.nextProducerIndex=0),Y(e)}function hp(e,t){if(Y(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(la(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)oc(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function gp(e){sc(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(dp(n),r!==n.version))return!0}return!1}function mp(e){if(sc(e),la(e))for(let t=0;t<e.producerNode.length;t++)oc(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Bv(e,t,n){if($v(e),e.liveConsumerNode.length===0&&Hv(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Bv(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function oc(e,t){if($v(e),e.liveConsumerNode.length===1&&Hv(e))for(let r=0;r<e.producerNode.length;r++)oc(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];sc(i),i.producerIndexOfThis[r]=t}}function la(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function sc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function $v(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Hv(e){return e.producerNode!==void 0}function yp(e,t){let n=Object.create(Px);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(dp(n),ua(n),n.value===rc)throw n.error;return n.value};return r[Zt]=n,r}var op=Symbol("UNSET"),sp=Symbol("COMPUTING"),rc=Symbol("ERRORED"),Px=B(T({},ca),{value:op,dirty:!0,error:null,equal:lp,kind:"computed",producerMustRecompute(e){return e.value===op||e.value===sp},producerRecomputeValue(e){if(e.value===sp)throw new Error("Detected cycle in computations.");let t=e.value;e.value=sp;let n=ic(e),r,i=!1;try{r=e.computation(),Y(null),i=t!==op&&t!==rc&&r!==rc&&e.equal(t,r)}catch(o){r=rc,e.error=o}finally{hp(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function kx(){throw new Error}var qv=kx;function Gv(e){qv(e)}function vp(e){qv=e}var Fx=null;function Cp(e,t){let n=Object.create(ac);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(ua(n),n.value);return r[Zt]=n,r}function da(e,t){pp()||Gv(e),e.equal(e.value,t)||(e.value=t,Lx(e))}function _p(e,t){pp()||Gv(e),da(e,t(e.value))}var ac=B(T({},ca),{equal:lp,value:void 0,kind:"signal"});function Lx(e){e.version++,Uv(),fp(e),Fx?.()}function bp(e){let t=Y(null);try{return e()}finally{Y(t)}}var wp;function fa(){return wp}function or(e){let t=wp;return wp=e,t}var lc=Symbol("NotFound");function J(e){return typeof e=="function"}function Hr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var cc=Hr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Fi(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ne=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){t=o instanceof cc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zv(o)}catch(s){t=t??[],s instanceof cc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new cc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)zv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Fi(n,t)}remove(t){let{_finalizers:n}=this;n&&Fi(n,t),t instanceof e&&t._removeParent(this)}};Ne.EMPTY=(()=>{let e=new Ne;return e.closed=!0,e})();var Dp=Ne.EMPTY;function uc(e){return e instanceof Ne||e&&"closed"in e&&J(e.remove)&&J(e.add)&&J(e.unsubscribe)}function zv(e){J(e)?e():e.unsubscribe()}var fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Lo={setTimeout(e,t,...n){let{delegate:r}=Lo;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Lo;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function dc(e){Lo.setTimeout(()=>{let{onUnhandledError:t}=fn;if(t)t(e);else throw e})}function pa(){}var Wv=Ep("C",void 0,void 0);function Jv(e){return Ep("E",void 0,e)}function Zv(e){return Ep("N",e,void 0)}function Ep(e,t,n){return{kind:e,value:t,error:n}}var Li=null;function jo(e){if(fn.useDeprecatedSynchronousErrorHandling){let t=!Li;if(t&&(Li={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Li;if(Li=null,n)throw r}}else e()}function Qv(e){fn.useDeprecatedSynchronousErrorHandling&&Li&&(Li.errorThrown=!0,Li.error=e)}var ji=class extends Ne{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,uc(t)&&t.add(this)):this.destination=Hx}static create(t,n,r){return new qr(t,n,r)}next(t){this.isStopped?Tp(Zv(t),this):this._next(t)}error(t){this.isStopped?Tp(Jv(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Tp(Wv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Bx=Function.prototype.bind;function Ip(e,t){return Bx.call(e,t)}var xp=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){fc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){fc(r)}else fc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){fc(n)}}},qr=class extends ji{constructor(t,n,r){super();let i;if(J(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&fn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Ip(t.next,o),error:t.error&&Ip(t.error,o),complete:t.complete&&Ip(t.complete,o)}):i=t}this.destination=new xp(i)}};function fc(e){fn.useDeprecatedSynchronousErrorHandling?Qv(e):dc(e)}function $x(e){throw e}function Tp(e,t){let{onStoppedNotification:n}=fn;n&&Lo.setTimeout(()=>n(e,t))}var Hx={closed:!0,next:pa,error:$x,complete:pa};var Vo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(e){return e}function Sp(...e){return Mp(e)}function Mp(e){return e.length===0?Rt:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var ce=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Gx(n)?n:new qr(n,r,i);return jo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Xv(r),new r((i,o)=>{let s=new qr({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vo](){return this}pipe(...n){return Mp(n)(this)}toPromise(n){return n=Xv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Xv(e){var t;return(t=e??fn.Promise)!==null&&t!==void 0?t:Promise}function qx(e){return e&&J(e.next)&&J(e.error)&&J(e.complete)}function Gx(e){return e&&e instanceof ji||qx(e)&&uc(e)}function Ap(e){return J(e?.lift)}function se(e){return t=>{if(Ap(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(e,t,n,r,i){return new Op(e,t,n,r,i)}var Op=class extends ji{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Uo(){return se((e,t)=>{let n=null;e._refCount++;let r=re(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Bo=class extends ce{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ap(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ne;let n=this.getSubject();t.add(this.source.subscribe(re(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ne.EMPTY)}return t}refCount(){return Uo()(this)}};var Kv=Hr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=(()=>{class e extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new pc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Kv}next(n){jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Dp:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,Fi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ce;return n.source=this,n}}return e.create=(t,n)=>new pc(t,n),e})(),pc=class extends Se{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Dp}};var _e=class extends Se{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Np={now(){return(Np.delegate||Date).now()},delegate:void 0};var hc=class extends Ne{constructor(t,n){super()}schedule(t,n=0){return this}};var ha={setInterval(e,t,...n){let{delegate:r}=ha;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=ha;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var gc=class extends hc{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return ha.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ha.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Fi(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var $o=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};$o.now=Np.now;var mc=class extends $o{constructor(t,n=$o.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Yv=new mc(gc);var Et=new ce(e=>e.complete());function eC(e){return e&&J(e.schedule)}function tC(e){return e[e.length-1]}function yc(e){return J(tC(e))?e.pop():void 0}function Gr(e){return eC(tC(e))?e.pop():void 0}function rC(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function nC(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vi(e){return this instanceof Vi?(this.v=e,this):new Vi(e)}function iC(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(u){return function(p){return Promise.resolve(p).then(u,f)}}function a(u,p){r[u]&&(i[u]=function(g){return new Promise(function(m,y){o.push([u,g,m,y])>1||l(u,g)})},p&&(i[u]=p(i[u])))}function l(u,p){try{c(r[u](p))}catch(g){h(o[0][3],g)}}function c(u){u.value instanceof Vi?Promise.resolve(u.value.v).then(d,f):h(o[0][2],u)}function d(u){l("next",u)}function f(u){l("throw",u)}function h(u,p){u(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function oC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof nC=="function"?nC(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var vc=e=>e&&typeof e.length=="number"&&typeof e!="function";function Cc(e){return J(e?.then)}function _c(e){return J(e[Vo])}function bc(e){return Symbol.asyncIterator&&J(e?.[Symbol.asyncIterator])}function wc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Dc=zx();function Ec(e){return J(e?.[Dc])}function Ic(e){return iC(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Vi(n.read());if(i)return yield Vi(void 0);yield yield Vi(r)}}finally{n.releaseLock()}})}function Tc(e){return J(e?.getReader)}function Re(e){if(e instanceof ce)return e;if(e!=null){if(_c(e))return Wx(e);if(vc(e))return Jx(e);if(Cc(e))return Zx(e);if(bc(e))return sC(e);if(Ec(e))return Qx(e);if(Tc(e))return Xx(e)}throw wc(e)}function Wx(e){return new ce(t=>{let n=e[Vo]();if(J(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Jx(e){return new ce(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Zx(e){return new ce(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,dc)})}function Qx(e){return new ce(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function sC(e){return new ce(t=>{Kx(e,t).catch(n=>t.error(n))})}function Xx(e){return sC(Ic(e))}function Kx(e,t){var n,r,i,o;return rC(this,void 0,void 0,function*(){try{for(n=oC(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function rt(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function xc(e,t=0){return se((n,r)=>{n.subscribe(re(r,i=>rt(r,e,()=>r.next(i),t),()=>rt(r,e,()=>r.complete(),t),i=>rt(r,e,()=>r.error(i),t)))})}function Sc(e,t=0){return se((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function aC(e,t){return Re(e).pipe(Sc(t),xc(t))}function lC(e,t){return Re(e).pipe(Sc(t),xc(t))}function cC(e,t){return new ce(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function uC(e,t){return new ce(n=>{let r;return rt(n,t,()=>{r=e[Dc](),rt(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function Mc(e,t){if(!e)throw new Error("Iterable cannot be null");return new ce(n=>{rt(n,t,()=>{let r=e[Symbol.asyncIterator]();rt(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dC(e,t){return Mc(Ic(e),t)}function fC(e,t){if(e!=null){if(_c(e))return aC(e,t);if(vc(e))return cC(e,t);if(Cc(e))return lC(e,t);if(bc(e))return Mc(e,t);if(Ec(e))return uC(e,t);if(Tc(e))return dC(e,t)}throw wc(e)}function be(e,t){return t?fC(e,t):Re(e)}function q(...e){let t=Gr(e);return be(e,t)}function Ho(e,t){let n=J(e)?e:()=>e,r=i=>i.error(n());return new ce(t?i=>t.schedule(r,0,i):r)}function Rp(e){return!!e&&(e instanceof ce||J(e.lift)&&J(e.subscribe))}var pn=Hr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Rn(e,t){let n=typeof t=="object";return new Promise((r,i)=>{let o=new qr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(t.defaultValue):i(new pn)}});e.subscribe(o)})}function pC(e){return e instanceof Date&&!isNaN(e)}var Yx=Hr(e=>function(n=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function Pp(e,t){let{first:n,each:r,with:i=eS,scheduler:o=t??Yv,meta:s=null}=pC(e)?{first:e}:typeof e=="number"?{each:e}:e;if(n==null&&r==null)throw new TypeError("No timeout provided.");return se((a,l)=>{let c,d,f=null,h=0,u=p=>{d=rt(l,o,()=>{try{c.unsubscribe(),Re(i({meta:s,lastValue:f,seen:h})).subscribe(l)}catch(g){l.error(g)}},p)};c=a.subscribe(re(l,p=>{d?.unsubscribe(),h++,l.next(f=p),r>0&&u(r)},void 0,void 0,()=>{d?.closed||d?.unsubscribe(),f=null})),!h&&u(n!=null?typeof n=="number"?n:+n-o.now():r)})}function eS(e){throw new Yx(e)}function ee(e,t){return se((n,r)=>{let i=0;n.subscribe(re(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:tS}=Array;function nS(e,t){return tS(t)?e(...t):e(t)}function Ac(e){return ee(t=>nS(e,t))}var{isArray:rS}=Array,{getPrototypeOf:iS,prototype:oS,keys:sS}=Object;function Oc(e){if(e.length===1){let t=e[0];if(rS(t))return{args:t,keys:null};if(aS(t)){let n=sS(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function aS(e){return e&&typeof e=="object"&&iS(e)===oS}function Nc(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Rc(...e){let t=Gr(e),n=yc(e),{args:r,keys:i}=Oc(e);if(r.length===0)return be([],t);let o=new ce(lS(r,t,i?s=>Nc(i,s):Rt));return n?o.pipe(Ac(n)):o}function lS(e,t,n=Rt){return r=>{hC(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)hC(t,()=>{let c=be(e[l],t),d=!1;c.subscribe(re(r,f=>{o[l]=f,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hC(e,t,n){e?rt(n,e,t):t()}function gC(e,t,n,r,i,o,s,a){let l=[],c=0,d=0,f=!1,h=()=>{f&&!l.length&&!c&&t.complete()},u=g=>c<r?p(g):l.push(g),p=g=>{o&&t.next(g),c++;let m=!1;Re(n(g,d++)).subscribe(re(t,y=>{i?.(y),o?u(y):t.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){let y=l.shift();s?rt(t,s,()=>p(y)):p(y)}h()}catch(y){t.error(y)}}))};return e.subscribe(re(t,u,()=>{f=!0,h()})),()=>{a?.()}}function Fe(e,t,n=1/0){return J(t)?Fe((r,i)=>ee((o,s)=>t(r,o,i,s))(Re(e(r,i))),n):(typeof t=="number"&&(n=t),se((r,i)=>gC(r,i,e,n)))}function qo(e=1/0){return Fe(Rt,e)}function mC(){return qo(1)}function Go(...e){return mC()(be(e,Gr(e)))}function Pc(e){return new ce(t=>{Re(e()).subscribe(t)})}function kp(...e){let t=yc(e),{args:n,keys:r}=Oc(e),i=new ce(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let f=!1;Re(n[d]).subscribe(re(o,h=>{f||(f=!0,c--),a[d]=h},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(r?Nc(r,a):a),o.complete())}))}});return t?i.pipe(Ac(t)):i}function Le(e,t){return se((n,r)=>{let i=0;n.subscribe(re(r,o=>e.call(t,o,i++)&&r.next(o)))})}function sr(e){return se((t,n)=>{let r=null,i=!1,o;r=t.subscribe(re(n,void 0,void 0,s=>{o=Re(e(s,sr(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function yC(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(re(s,d=>{let f=c++;l=a?e(l,d,f):(a=!0,d),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function ar(e,t){return J(t)?Fe(e,t,1):Fe(e,1)}function zr(e){return se((t,n)=>{let r=!1;t.subscribe(re(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Qt(e){return e<=0?()=>Et:se((t,n)=>{let r=0;t.subscribe(re(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function kc(e=cS){return se((t,n)=>{let r=!1;t.subscribe(re(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function cS(){return new pn}function Pn(e){return se((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function lr(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Le((i,o)=>e(i,o,r)):Rt,Qt(1),n?zr(t):kc(()=>new pn))}function zo(e){return e<=0?()=>Et:se((t,n)=>{let r=[];t.subscribe(re(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Fp(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Le((i,o)=>e(i,o,r)):Rt,zo(1),n?zr(t):kc(()=>new pn))}function Lp(e,t){return se(yC(e,t,arguments.length>=2,!0))}function jp(...e){let t=Gr(e);return se((n,r)=>{(t?Go(e,n,t):Go(e,n)).subscribe(r)})}function Pt(e,t){return se((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(re(r,l=>{i?.unsubscribe();let c=0,d=o++;Re(e(l,d)).subscribe(i=re(r,f=>r.next(t?t(l,f,d,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ui(e){return se((t,n)=>{Re(e).subscribe(re(n,()=>n.complete(),pa)),!n.closed&&t.subscribe(n)})}function et(e,t,n){let r=J(e)||t||n?{next:e,error:t,complete:n}:e;return r?se((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(re(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Rt}var u_="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",P=class extends Error{code;constructor(t,n){super(dS(t,n)),this.code=t}};function uS(e){return`NG0${Math.abs(e)}`}function dS(e,t){return`${uS(e)}${t?": "+t:""}`}var d_=Symbol("InputSignalNode#UNSET"),fS=B(T({},ac),{transformFn:void 0,applyValueToInputSignal(e,t){da(e,t)}});function f_(e,t){let n=Object.create(fS);n.value=e,n.transformFn=t?.transform;function r(){if(ua(n),n.value===d_){let i=null;throw new P(-950,i)}return n.value}return r[Zt]=n,r}function Na(e){return{toString:e}.toString()}var Fc="__parameters__";function pS(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function p_(e,t,n){return Na(()=>{let r=pS(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,d){let f=l.hasOwnProperty(Fc)?l[Fc]:Object.defineProperty(l,Fc,{value:[]})[Fc];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),l}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Ca=globalThis;function me(e){for(let t in e)if(e[t]===me)return t;throw Error("Could not find renamed property on target object.")}function hS(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function xt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(xt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function eh(e,t){return e?t?`${e} ${t}`:e:t||""}var gS=me({__forward_ref__:me});function Kt(e){return e.__forward_ref__=Kt,e.toString=function(){return xt(this())},e}function dt(e){return h_(e)?e():e}function h_(e){return typeof e=="function"&&e.hasOwnProperty(gS)&&e.__forward_ref__===Kt}function k(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function hr(e){return{providers:e.providers||[],imports:e.imports||[]}}function _u(e){return vC(e,m_)||vC(e,y_)}function g_(e){return _u(e)!==null}function vC(e,t){return e.hasOwnProperty(t)?e[t]:null}function mS(e){let t=e&&(e[m_]||e[y_]);return t||null}function CC(e){return e&&(e.hasOwnProperty(_C)||e.hasOwnProperty(yS))?e[_C]:null}var m_=me({\u0275prov:me}),_C=me({\u0275inj:me}),y_=me({ngInjectableDef:me}),yS=me({ngInjectorDef:me}),L=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=k({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function v_(e){return e&&!!e.\u0275providers}var vS=me({\u0275cmp:me}),CS=me({\u0275dir:me}),_S=me({\u0275pipe:me}),bS=me({\u0275mod:me}),Wc=me({\u0275fac:me}),va=me({__NG_ELEMENT_ID__:me}),bC=me({__NG_ENV_ID__:me});function Ra(e){return typeof e=="string"?e:e==null?"":String(e)}function wS(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Ra(e)}function C_(e,t){throw new P(-200,e)}function ig(e,t){throw new P(-201,!1)}var K=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(K||{}),th;function __(){return th}function It(e){let t=th;return th=e,t}function b_(e,t,n){let r=_u(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&K.Optional)return null;if(t!==void 0)return t;ig(e,"Injector")}var DS={},Bi=DS,nh="__NG_DI_FLAG__",Jc=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?lc:Bi,r)}},Zc="ngTempTokenPath",ES="ngTokenPath",IS=/\n/gm,TS="\u0275",wC="__source";function xS(e,t=K.Default){if(fa()===void 0)throw new P(-203,!1);if(fa()===null)return b_(e,void 0,t);{let n=fa(),r;return n instanceof Jc?r=n.injector:r=n,r.get(e,t&K.Optional?null:void 0,t)}}function U(e,t=K.Default){return(__()||xS)(dt(e),t)}function A(e,t=K.Default){return U(e,bu(t))}function bu(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function rh(e){let t=[];for(let n=0;n<e.length;n++){let r=dt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,o=K.Default;for(let s=0;s<r.length;s++){let a=r[s],l=SS(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(U(i,o))}else t.push(U(r))}return t}function w_(e,t){return e[nh]=t,e.prototype[nh]=t,e}function SS(e){return e[nh]}function MS(e,t,n,r){let i=e[Zc];throw t[wC]&&i.unshift(t[wC]),e.message=AS(`
`+e.message,i,n,r),e[ES]=i,e[Zc]=null,e}function AS(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==TS?e.slice(2):e;let i=xt(t);if(Array.isArray(t))i=t.map(xt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):xt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(IS,`
  `)}`}var OS=w_(p_("Optional"),8);var NS=w_(p_("SkipSelf"),4);function Hi(e,t){let n=e.hasOwnProperty(Wc);return n?e[Wc]:null}function RS(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function PS(e){return e.flat(Number.POSITIVE_INFINITY)}function og(e,t){e.forEach(n=>Array.isArray(n)?og(n,t):t(n))}function D_(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Qc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function kS(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function E_(e,t,n){let r=Pa(e,t);return r>=0?e[r|1]=n:(r=~r,kS(e,r,t,n)),r}function Vp(e,t){let n=Pa(e,t);if(n>=0)return e[n|1]}function Pa(e,t){return FS(e,t,1)}function FS(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var qi={},Tt=[],_a=new L(""),I_=new L("",-1),T_=new L(""),Xc=class{get(t,n=Bi){if(n===Bi){let r=new Error(`NullInjectorError: No provider for ${xt(t)}!`);throw r.name="NullInjectorError",r}return n}};function x_(e,t){let n=e[bS]||null;if(!n&&t===!0)throw new Error(`Type ${xt(e)} does not have '\u0275mod' property.`);return n}function Xo(e){return e[vS]||null}function LS(e){return e[CS]||null}function jS(e){return e[_S]||null}function is(e){return{\u0275providers:e}}function VS(...e){return{\u0275providers:S_(!0,e),\u0275fromNgModule:!0}}function S_(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return og(t,s=>{let a=s;ih(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&M_(i,o),n}function M_(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];sg(i,o=>{t(o,r)})}}function ih(e,t,n,r){if(e=dt(e),!e)return!1;let i=null,o=CC(e),s=!o&&Xo(e);if(!o&&!s){let l=e.ngModule;if(o=CC(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)ih(c,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{og(o.imports,d=>{ih(d,t,n,r)&&(c||=[],c.push(d))})}finally{}c!==void 0&&M_(c,t)}if(!a){let c=Hi(i)||(()=>new i);t({provide:i,useFactory:c,deps:Tt},i),t({provide:T_,useValue:i,multi:!0},i),t({provide:_a,useValue:()=>U(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;sg(l,d=>{t(d,c)})}}else return!1;return i!==e&&e.providers!==void 0}function sg(e,t){for(let n of e)v_(n)&&(n=n.\u0275providers),Array.isArray(n)?sg(n,t):t(n)}var US=me({provide:String,useValue:me});function A_(e){return e!==null&&typeof e=="object"&&US in e}function BS(e){return!!(e&&e.useExisting)}function $S(e){return!!(e&&e.useFactory)}function Ko(e){return typeof e=="function"}function HS(e){return!!e.useClass}var wu=new L(""),Bc={},DC={},Up;function ag(){return Up===void 0&&(Up=new Xc),Up}var ft=class{},ba=class extends ft{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,sh(t,s=>this.processProvider(s)),this.records.set(I_,Wo(void 0,this)),i.has("environment")&&this.records.set(ft,Wo(void 0,this));let o=this.records.get(wu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(T_,Tt,K.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?lc:Bi,r)}destroy(){ma(this),this._destroyed=!0;let t=Y(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(t)}}onDestroy(t){return ma(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ma(this);let n=or(this),r=It(void 0),i;try{return t()}finally{or(n),It(r)}}get(t,n=Bi,r=K.Default){if(ma(this),t.hasOwnProperty(bC))return t[bC](this);r=bu(r);let i,o=or(this),s=It(void 0);try{if(!(r&K.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=JS(t)&&_u(t);c&&this.injectableDefInScope(c)?l=Wo(oh(t),Bc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,r)}let a=r&K.Self?ag():this.parent;return n=r&K.Optional&&n===Bi?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Zc]=a[Zc]||[]).unshift(xt(t)),o)throw a;return MS(a,t,"R3InjectorError",this.source)}else throw a}finally{It(s),or(o)}}resolveInjectorInitializers(){let t=Y(null),n=or(this),r=It(void 0),i;try{let o=this.get(_a,Tt,K.Self);for(let s of o)s()}finally{or(n),It(r),Y(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(xt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=dt(t);let n=Ko(t)?t:dt(t&&t.provide),r=GS(t);if(!Ko(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Wo(void 0,Bc,!0),i.factory=()=>rh(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=Y(null);try{return n.value===DC?C_(xt(t)):n.value===Bc&&(n.value=DC,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&WS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Y(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=dt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function oh(e){let t=_u(e),n=t!==null?t.factory:Hi(e);if(n!==null)return n;if(e instanceof L)throw new P(204,!1);if(e instanceof Function)return qS(e);throw new P(204,!1)}function qS(e){if(e.length>0)throw new P(204,!1);let n=mS(e);return n!==null?()=>n.factory(e):()=>new e}function GS(e){if(A_(e))return Wo(void 0,e.useValue);{let t=O_(e);return Wo(t,Bc)}}function O_(e,t,n){let r;if(Ko(e)){let i=dt(e);return Hi(i)||oh(i)}else if(A_(e))r=()=>dt(e.useValue);else if($S(e))r=()=>e.useFactory(...rh(e.deps||[]));else if(BS(e))r=(i,o)=>U(dt(e.useExisting),o!==void 0&&o&K.Optional?K.Optional:void 0);else{let i=dt(e&&(e.useClass||e.provide));if(zS(e))r=()=>new i(...rh(e.deps));else return Hi(i)||oh(i)}return r}function ma(e){if(e.destroyed)throw new P(205,!1)}function Wo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function zS(e){return!!e.deps}function WS(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function JS(e){return typeof e=="function"||typeof e=="object"&&e instanceof L}function sh(e,t){for(let n of e)Array.isArray(n)?sh(n,t):n&&v_(n)?sh(n.\u0275providers,t):t(n)}function kt(e,t){let n;e instanceof ba?(ma(e),n=e):n=new Jc(e);let r,i=or(n),o=It(void 0);try{return t()}finally{or(i),It(o)}}function ZS(){return __()!==void 0||fa()!=null}function QS(e){return typeof e=="function"}var gr=0,Z=1,Q=2,ot=3,gn=4,vn=5,wa=6,Kc=7,Ue=8,Gi=9,cr=10,Pe=11,Da=12,EC=13,os=14,mn=15,zi=16,Jo=17,ur=18,Du=19,N_=20,Wr=21,Bp=22,Yc=23,Xt=24,$p=25,pt=26,R_=1;var Wi=7,eu=8,Yo=9,it=10;function Jr(e){return Array.isArray(e)&&typeof e[R_]=="object"}function mr(e){return Array.isArray(e)&&e[R_]===!0}function lg(e){return(e.flags&4)!==0}function ss(e){return e.componentOffset>-1}function Eu(e){return(e.flags&1)===1}function Fn(e){return!!e.template}function tu(e){return(e[Q]&512)!==0}function as(e){return(e[Q]&256)===256}var ah=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function P_(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var ht=(()=>{let e=()=>k_;return e.ngInherit=!0,e})();function k_(e){return e.type.prototype.ngOnChanges&&(e.setInput=KS),XS}function XS(){let e=L_(this),t=e?.current;if(t){let n=e.previous;if(n===qi)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function KS(e,t,n,r,i){let o=this.declaredInputs[r],s=L_(e)||YS(e,{previous:qi,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new ah(c&&c.currentValue,n,l===qi),P_(e,t,i,n)}var F_="__ngSimpleChanges__";function L_(e){return e[F_]||null}function YS(e,t){return e[F_]=t}var IC=null;var we=function(e,t=null,n){IC?.(e,t,n)},j_="svg",eM="math";function Ln(e){for(;Array.isArray(e);)e=e[gr];return e}function V_(e,t){return Ln(t[e])}function Un(e,t){return Ln(t[e.index])}function cg(e,t){return e.data[t]}function tM(e,t){return e[t]}function jn(e,t){let n=t[e];return Jr(n)?n:n[gr]}function nM(e){return(e[Q]&4)===4}function ug(e){return(e[Q]&128)===128}function rM(e){return mr(e[ot])}function Zr(e,t){return t==null?null:e[t]}function U_(e){e[Jo]=0}function B_(e){e[Q]&1024||(e[Q]|=1024,ug(e)&&Tu(e))}function iM(e,t){for(;e>0;)t=t[os],e--;return t}function Iu(e){return!!(e[Q]&9216||e[Xt]?.dirty)}function lh(e){e[cr].changeDetectionScheduler?.notify(8),e[Q]&64&&(e[Q]|=1024),Iu(e)&&Tu(e)}function Tu(e){e[cr].changeDetectionScheduler?.notify(0);let t=Ji(e);for(;t!==null&&!(t[Q]&8192||(t[Q]|=8192,!ug(t)));)t=Ji(t)}function $_(e,t){if(as(e))throw new P(911,!1);e[Wr]===null&&(e[Wr]=[]),e[Wr].push(t)}function oM(e,t){if(e[Wr]===null)return;let n=e[Wr].indexOf(t);n!==-1&&e[Wr].splice(n,1)}function Ji(e){let t=e[ot];return mr(t)?t[ot]:t}function dg(e){return e[Kc]??=[]}function fg(e){return e.cleanup??=[]}function sM(e,t,n,r){let i=dg(t);i.push(n),e.firstCreatePass&&fg(e).push(r,i.length-1)}var te={lFrame:X_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ch=!1;function aM(){return te.lFrame.elementDepthCount}function lM(){te.lFrame.elementDepthCount++}function cM(){te.lFrame.elementDepthCount--}function pg(){return te.bindingsEnabled}function uM(){return te.skipHydrationRootTNode!==null}function dM(e){return te.skipHydrationRootTNode===e}function fM(){te.skipHydrationRootTNode=null}function ie(){return te.lFrame.lView}function ke(){return te.lFrame.tView}function G(e){return te.lFrame.contextLView=e,e[Ue]}function z(e){return te.lFrame.contextLView=null,e}function gt(){let e=H_();for(;e!==null&&e.type===64;)e=e.parent;return e}function H_(){return te.lFrame.currentTNode}function pM(){let e=te.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function eo(e,t){let n=te.lFrame;n.currentTNode=e,n.isParent=t}function hg(){return te.lFrame.isParent}function q_(){te.lFrame.isParent=!1}function G_(){return ch}function TC(e){let t=ch;return ch=e,t}function z_(){let e=te.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function hM(e){return te.lFrame.bindingIndex=e}function ls(){return te.lFrame.bindingIndex++}function W_(e){let t=te.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function gM(){return te.lFrame.inI18n}function mM(e,t){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=e,uh(t)}function yM(){return te.lFrame.currentDirectiveIndex}function uh(e){te.lFrame.currentDirectiveIndex=e}function vM(e){let t=te.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function J_(){return te.lFrame.currentQueryIndex}function gg(e){te.lFrame.currentQueryIndex=e}function CM(e){let t=e[Z];return t.type===2?t.declTNode:t.type===1?e[vn]:null}function Z_(e,t,n){if(n&K.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&K.Host);)if(i=CM(o),i===null||(o=o[os],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=te.lFrame=Q_();return r.currentTNode=t,r.lView=e,!0}function mg(e){let t=Q_(),n=e[Z];te.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Q_(){let e=te.lFrame,t=e===null?null:e.child;return t===null?X_(e):t}function X_(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function K_(){let e=te.lFrame;return te.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Y_=K_;function yg(){let e=K_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function _M(e){return(te.lFrame.contextLView=iM(e,te.lFrame.contextLView))[Ue]}function Qr(){return te.lFrame.selectedIndex}function Zi(e){te.lFrame.selectedIndex=e}function xu(){let e=te.lFrame;return cg(e.tView,e.selectedIndex)}function eb(){te.lFrame.currentNamespace=j_}function tb(){bM()}function bM(){te.lFrame.currentNamespace=null}function wM(){return te.lFrame.currentNamespace}var nb=!0;function Su(){return nb}function Mu(e){nb=e}function DM(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=k_(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function vg(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),d!=null&&(e.destroyHooks??=[]).push(n,d)}}function $c(e,t,n){rb(e,t,3,n)}function Hc(e,t,n,r){(e[Q]&3)===n&&rb(e,t,n,r)}function Hp(e,t){let n=e[Q];(n&3)===t&&(n&=16383,n+=1,e[Q]=n)}function rb(e,t,n,r){let i=r!==void 0?e[Jo]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[Jo]+=65536),(a<o||o==-1)&&(EM(e,n,t,l),e[Jo]=(e[Jo]&4294901760)+l+2),l++}function xC(e,t){we(4,e,t);let n=Y(null);try{t.call(e)}finally{Y(n),we(5,e,t)}}function EM(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[Q]>>14<e[Jo]>>16&&(e[Q]&3)===t&&(e[Q]+=16384,xC(a,o)):xC(a,o)}var Qo=-1,Qi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function IM(e){return(e.flags&8)!==0}function TM(e){return(e.flags&16)!==0}function xM(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];SM(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function ib(e){return e===3||e===4||e===6}function SM(e){return e.charCodeAt(0)===64}function es(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?SC(e,n,i,null,t[++r]):SC(e,n,i,null,null))}}return e}function SC(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function ob(e){return e!==Qo}function nu(e){return e&32767}function MM(e){return e>>16}function ru(e,t){let n=MM(e),r=t;for(;n>0;)r=r[os],n--;return r}var dh=!0;function iu(e){let t=dh;return dh=e,t}var AM=256,sb=AM-1,ab=5,OM=0,kn={};function NM(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(va)&&(r=n[va]),r==null&&(r=n[va]=OM++);let i=r&sb,o=1<<i;t.data[e+(i>>ab)]|=o}function ou(e,t){let n=lb(e,t);if(n!==-1)return n;let r=t[Z];r.firstCreatePass&&(e.injectorIndex=t.length,qp(r.data,e),qp(t,null),qp(r.blueprint,null));let i=Cg(e,t),o=e.injectorIndex;if(ob(i)){let s=nu(i),a=ru(i,t),l=a[Z].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function qp(e,t){e.push(0,0,0,0,0,0,0,0,t)}function lb(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Cg(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=pb(i),r===null)return Qo;if(n++,i=i[os],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Qo}function fh(e,t,n){NM(e,t,n)}function RM(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(ib(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function cb(e,t,n){if(n&K.Optional||e!==void 0)return e;ig(t,"NodeInjector")}function ub(e,t,n,r){if(n&K.Optional&&r===void 0&&(r=null),(n&(K.Self|K.Host))===0){let i=e[Gi],o=It(void 0);try{return i?i.get(t,r,n&K.Optional):b_(t,r,n&K.Optional)}finally{It(o)}}return cb(r,t,n)}function db(e,t,n,r=K.Default,i){if(e!==null){if(t[Q]&2048&&!(r&K.Self)){let s=LM(e,t,n,r,kn);if(s!==kn)return s}let o=fb(e,t,n,r,kn);if(o!==kn)return o}return ub(t,n,r,i)}function fb(e,t,n,r,i){let o=kM(n);if(typeof o=="function"){if(!Z_(t,e,r))return r&K.Host?cb(i,n,r):ub(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&K.Optional))ig(n);else return s}finally{Y_()}}else if(typeof o=="number"){let s=null,a=lb(e,t),l=Qo,c=r&K.Host?t[mn][vn]:null;for((a===-1||r&K.SkipSelf)&&(l=a===-1?Cg(e,t):t[a+8],l===Qo||!AC(r,!1)?a=-1:(s=t[Z],a=nu(l),t=ru(l,t)));a!==-1;){let d=t[Z];if(MC(o,a,d.data)){let f=PM(a,t,n,s,r,c);if(f!==kn)return f}l=t[a+8],l!==Qo&&AC(r,t[Z].data[a+8]===c)&&MC(o,a,t)?(s=d,a=nu(l),t=ru(l,t)):a=-1}}return i}function PM(e,t,n,r,i,o){let s=t[Z],a=s.data[e+8],l=r==null?ss(a)&&dh:r!=s&&(a.type&3)!==0,c=i&K.Host&&o===a,d=qc(a,s,n,l,c);return d!==null?Ea(t,s,d,a,i):kn}function qc(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,d=o>>20,f=r?a:a+d,h=i?a+d:c;for(let u=f;u<h;u++){let p=s[u];if(u<l&&n===p||u>=l&&p.type===n)return u}if(i){let u=s[l];if(u&&Fn(u)&&u.type===n)return l}return null}function Ea(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof Qi){let a=o;a.resolving&&C_(wS(s[n]));let l=iu(a.canSeeViewProviders);a.resolving=!0;let c,d=a.injectImpl?It(a.injectImpl):null,f=Z_(e,r,K.Default);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&DM(n,s[n],t)}finally{d!==null&&It(d),iu(l),a.resolving=!1,Y_()}}return o}function kM(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(va)?e[va]:void 0;return typeof t=="number"?t>=0?t&sb:FM:t}function MC(e,t,n){let r=1<<e;return!!(n[t+(e>>ab)]&r)}function AC(e,t){return!(e&K.Self)&&!(e&K.Host&&t)}var $i=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return db(this._tNode,this._lView,t,bu(r),n)}};function FM(){return new $i(gt(),ie())}function Bn(e){return Na(()=>{let t=e.prototype.constructor,n=t[Wc]||ph(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Wc]||ph(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ph(e){return h_(e)?()=>{let t=ph(dt(e));return t&&t()}:Hi(e)}function LM(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[Q]&2048&&!tu(s);){let a=fb(o,s,n,r|K.Self,kn);if(a!==kn)return a;let l=o.parent;if(!l){let c=s[N_];if(c){let d=c.get(n,kn,r);if(d!==kn)return d}l=pb(s),s=s[os]}o=l}return i}function pb(e){let t=e[Z],n=t.type;return n===2?t.declTNode:n===1?e[vn]:null}function _g(e){return RM(gt(),e)}function OC(e,t=null,n=null,r){let i=hb(e,t,n,r);return i.resolveInjectorInitializers(),i}function hb(e,t=null,n=null,r,i=new Set){let o=[n||Tt,VS(e)];return r=r||(typeof e=="object"?void 0:xt(e)),new ba(o,t||ag(),r||null,i)}var dr=class e{static THROW_IF_NOT_FOUND=Bi;static NULL=new Xc;static create(t,n){if(Array.isArray(t))return OC({name:""},n,t,"");{let r=t.name??"";return OC({name:r},t.parent,t.providers,r)}}static \u0275prov=k({token:e,providedIn:"any",factory:()=>U(I_)});static __NG_ELEMENT_ID__=-1};var jM=new L("");jM.__NG_ELEMENT_ID__=e=>{let t=gt();if(t===null)throw new P(204,!1);if(t.type&2)return t.value;if(e&K.Optional)return null;throw new P(204,!1)};var gb=!1,Au=(()=>{class e{static __NG_ELEMENT_ID__=VM;static __NG_ENV_ID__=n=>n}return e})(),hh=class extends Au{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return as(n)?(t(),()=>{}):($_(n,t),()=>oM(n,t))}};function VM(){return new hh(ie())}var Ia=class{},bg=new L("",{providedIn:"root",factory:()=>!1});var mb=new L(""),yb=new L(""),Xr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new _e(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=k({token:e,providedIn:"root",factory:()=>new e})}return e})();var gh=class extends Se{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,ZS()&&(this.destroyRef=A(Au,{optional:!0})??void 0,this.pendingTasks=A(Xr,{optional:!0})??void 0)}emit(t){let n=Y(null);try{super.next(t)}finally{Y(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Ne&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ae=gh;function su(...e){}function vb(e){let t,n;function r(){e=su;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function NC(e){return queueMicrotask(()=>e()),()=>{e=su}}var wg="isAngularZone",au=wg+"_ID",UM=0,Be=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ae(!1);onMicrotaskEmpty=new ae(!1);onStable=new ae(!1);onError=new ae(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=gb}=t;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,HM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(wg)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new P(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,BM,su,su);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},BM={};function Dg(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function $M(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){vb(()=>{e.callbackScheduled=!1,mh(e),e.isCheckStableRunning=!0,Dg(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),mh(e)}function HM(e){let t=()=>{$M(e)},n=UM++;e._inner=e._inner.fork({name:"angular",properties:{[wg]:!0,[au]:n,[au+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(qM(l))return r.invokeTask(o,s,a,l);try{return RC(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),PC(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return RC(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!GM(l)&&t(),PC(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,mh(e),Dg(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function mh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function RC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function PC(e){e._nesting--,Dg(e)}var yh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ae;onMicrotaskEmpty=new ae;onStable=new ae;onError=new ae;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function qM(e){return Cb(e,"__ignore_ng_zone__")}function GM(e){return Cb(e,"__scheduler_tick__")}function Cb(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var fr=class{_console=console;handleError(t){this._console.error("ERROR",t)}},zM=new L("",{providedIn:"root",factory:()=>{let e=A(Be),t=A(fr);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function kC(e,t){return f_(e,t)}function WM(e){return f_(d_,e)}var _b=(kC.required=WM,kC);function JM(){return cs(gt(),ie())}function cs(e,t){return new St(Un(e,t))}var St=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=JM}return e})();function ZM(e){return e instanceof St?e.nativeElement:e}function QM(e){return typeof e=="function"&&e[Zt]!==void 0}function ka(e,t){let n=Cp(e,t?.equal),r=n[Zt];return n.set=i=>da(r,i),n.update=i=>_p(r,i),n.asReadonly=XM.bind(n),n}function XM(){let e=this[Zt];if(e.readonlyFn===void 0){let t=()=>this();t[Zt]=e,e.readonlyFn=t}return e.readonlyFn}function bb(e){return QM(e)&&typeof e.set=="function"}function KM(){return this._results[Symbol.iterator]()}var vh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Se}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=PS(t);(this._changesDetected=!RS(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=KM};function wb(e){return(e.flags&128)===128}var Db=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Db||{}),Eb=new Map,YM=0;function eA(){return YM++}function tA(e){Eb.set(e[Du],e)}function Ch(e){Eb.delete(e[Du])}var FC="__ngContext__";function us(e,t){Jr(t)?(e[FC]=t[Du],tA(t)):e[FC]=t}function Ib(e){return xb(e[Da])}function Tb(e){return xb(e[gn])}function xb(e){for(;e!==null&&!mr(e);)e=e[gn];return e}var _h;function Sb(e){_h=e}function Mb(){if(_h!==void 0)return _h;if(typeof document<"u")return document;throw new P(210,!1)}var Ou=new L("",{providedIn:"root",factory:()=>nA}),nA="ng",Eg=new L(""),Fa=new L("",{providedIn:"platform",factory:()=>"unknown"});var Ig=new L("",{providedIn:"root",factory:()=>Mb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rA="h",iA="b";var Ab=!1,oA=new L("",{providedIn:"root",factory:()=>Ab});var Ob=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Ob||{}),Nu=new L(""),LC=new Set;function La(e){LC.has(e)||(LC.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var sA=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=k({token:e,providedIn:"root",factory:()=>new e})}return e})();var aA=()=>null;function Nb(e,t,n=!1){return aA(e,t,n)}function Rb(e,t){let n=e.contentQueries;if(n!==null){let r=Y(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];gg(o),a.contentQueries(2,t[s],s)}}}finally{Y(r)}}}function bh(e,t,n){gg(0);let r=Y(null);try{t(e,n)}finally{Y(r)}}function Tg(e,t,n){if(lg(t)){let r=Y(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Y(r)}}}var Vn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Vn||{}),Lc;function lA(){if(Lc===void 0&&(Lc=null,Ca.trustedTypes))try{Lc=Ca.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Lc}function Ru(e){return lA()?.createHTML(e)||e}var jc;function Pb(){if(jc===void 0&&(jc=null,Ca.trustedTypes))try{jc=Ca.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return jc}function jC(e){return Pb()?.createHTML(e)||e}function VC(e){return Pb()?.createScriptURL(e)||e}var lu=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${u_})`}};function ds(e){return e instanceof lu?e.changingThisBreaksApplicationSecurity:e}function xg(e,t){let n=cA(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${u_})`)}return n===t}function cA(e){return e instanceof lu&&e.getTypeName()||null}function uA(e){let t=new Dh(e);return dA()?new wh(t):t}var wh=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(Ru(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},Dh=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=Ru(t),n}};function dA(){try{return!!new window.DOMParser().parseFromString(Ru(""),"text/html")}catch{return!1}}var fA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kb(e){return e=String(e),e.match(fA)?e:"unsafe:"+e}function yr(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function ja(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var Fb=yr("area,br,col,hr,img,wbr"),Lb=yr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jb=yr("rp,rt"),pA=ja(jb,Lb),hA=ja(Lb,yr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gA=ja(jb,yr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),UC=ja(Fb,hA,gA,pA),Vb=yr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mA=yr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yA=yr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),vA=ja(Vb,mA,yA),CA=yr("script,style,template"),Eh=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=wA(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=bA(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(t){let n=BC(t).toLowerCase();if(!UC.hasOwnProperty(n))return this.sanitizedSomething=!0,!CA.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!vA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Vb[a]&&(l=kb(l)),this.buf.push(" ",s,'="',$C(l),'"')}return this.buf.push(">"),!0}endElement(t){let n=BC(t).toLowerCase();UC.hasOwnProperty(n)&&!Fb.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push($C(t))}};function _A(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function bA(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw Ub(t);return t}function wA(e){let t=e.firstChild;if(t&&_A(e,t))throw Ub(t);return t}function BC(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function Ub(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var DA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,EA=/([^\#-~ |!])/g;function $C(e){return e.replace(/&/g,"&amp;").replace(DA,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(EA,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Vc;function IA(e,t){let n=null;try{Vc=Vc||uA(e);let r=t?String(t):"";n=Vc.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Vc.getInertBodyElement(r)}while(r!==o);let a=new Eh().sanitizeChildren(HC(n)||n);return Ru(a)}finally{if(n){let r=HC(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function HC(e){return"content"in e&&TA(e)?e.content:null}function TA(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Pu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Pu||{});function ku(e){let t=Sg();return t?jC(t.sanitize(Pu.HTML,e)||""):xg(e,"HTML")?jC(ds(e)):IA(Mb(),Ra(e))}function xA(e){let t=Sg();return t?t.sanitize(Pu.URL,e)||"":xg(e,"URL")?ds(e):kb(Ra(e))}function SA(e){let t=Sg();if(t)return VC(t.sanitize(Pu.RESOURCE_URL,e)||"");if(xg(e,"ResourceURL"))return VC(ds(e));throw new P(904,!1)}function MA(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?SA:xA}function Bb(e,t,n){return MA(t,n)(e)}function Sg(){let e=ie();return e&&e[cr].sanitizer}var AA=/^>|^->|<!--|-->|--!>|<!-$/g,OA=/(<|>)/g,NA="\u200B$1\u200B";function RA(e){return e.replace(AA,t=>t.replace(OA,NA))}function $b(e){return e instanceof Function?e():e}function PA(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Hb="ng-template";function kA(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&PA(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Mg(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Mg(e){return e.type===4&&e.value!==Hb}function FA(e,t,n){let r=e.type===4&&!n?Hb:e.value;return t===r}function LA(e,t,n){let r=4,i=e.attrs,o=i!==null?UA(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!hn(r)&&!hn(l))return!1;if(s&&hn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!FA(e,l,n)||l===""&&t.length===1){if(hn(r))return!1;s=!0}}else if(r&8){if(i===null||!kA(e,i,l,n)){if(hn(r))return!1;s=!0}}else{let c=t[++a],d=jA(l,i,Mg(e),n);if(d===-1){if(hn(r))return!1;s=!0;continue}if(c!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&c!==f){if(hn(r))return!1;s=!0}}}}return hn(r)||s}function hn(e){return(e&1)===0}function jA(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return BA(t,e)}function VA(e,t,n=!1){for(let r=0;r<t.length;r++)if(LA(e,t[r],n))return!0;return!1}function UA(e){for(let t=0;t<e.length;t++){let n=e[t];if(ib(n))return t}return e.length}function BA(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function qC(e,t){return e?":not("+t.trim()+")":t}function $A(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!hn(s)&&(t+=qC(o,i),i=""),r=s,o=o||!hn(r);n++}return i!==""&&(t+=qC(o,i)),t}function HA(e){return e.map($A).join(",")}function qA(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!hn(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var Cn={};function GA(e,t){return e.createText(t)}function zA(e,t,n){e.setValue(t,n)}function WA(e,t){return e.createComment(RA(t))}function qb(e,t,n){return e.createElement(t,n)}function cu(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Gb(e,t,n){e.appendChild(t,n)}function GC(e,t,n,r,i){r!==null?cu(e,t,n,r,i):Gb(e,t,n)}function JA(e,t,n){e.removeChild(null,t,n)}function ZA(e,t,n){e.setAttribute(t,"style",n)}function QA(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function zb(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&xM(e,t,r),i!==null&&QA(e,t,i),o!==null&&ZA(e,t,o)}function Ag(e,t,n,r,i,o,s,a,l,c,d){let f=pt+r,h=f+i,u=XA(f,h),p=typeof c=="function"?c():c;return u[Z]={type:e,blueprint:u,template:n,queries:null,viewQuery:a,declTNode:t,data:u.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:d}}function XA(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Cn);return n}function KA(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Ag(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Og(e,t,n,r,i,o,s,a,l,c,d){let f=t.blueprint.slice();return f[gr]=i,f[Q]=r|4|128|8|64|1024,(c!==null||e&&e[Q]&2048)&&(f[Q]|=2048),U_(f),f[ot]=f[os]=e,f[Ue]=n,f[cr]=s||e&&e[cr],f[Pe]=a||e&&e[Pe],f[Gi]=l||e&&e[Gi]||null,f[vn]=o,f[Du]=eA(),f[wa]=d,f[N_]=c,f[mn]=t.type==2?e[mn]:f,f}function YA(e,t,n){let r=Un(t,e),i=KA(n),o=e[cr].rendererFactory,s=Ng(e,Og(e,i,null,Wb(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function Wb(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Jb(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ng(e,t){return e[Da]?e[EC][gn]=t:e[Da]=t,e[EC]=t,t}function E(e=1){Zb(ke(),ie(),Qr()+e,!1)}function Zb(e,t,n,r){if(!r)if((t[Q]&3)===3){let o=e.preOrderCheckHooks;o!==null&&$c(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Hc(t,o,0,n)}Zi(n)}var Fu=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Fu||{});function Ih(e,t,n,r){let i=Y(null);try{let[o,s,a]=e.inputs[n],l=null;(s&Fu.SignalBased)!==0&&(l=t[o][Zt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,o):P_(t,l,o,r)}finally{Y(i)}}function Qb(e,t,n,r,i){let o=Qr(),s=r&2;try{Zi(-1),s&&t.length>pt&&Zb(e,t,pt,!1),we(s?2:0,i),n(r,i)}finally{Zi(o),we(s?3:1,i)}}function Lu(e,t,n){oO(e,t,n),(n.flags&64)===64&&sO(e,t,n)}function Rg(e,t,n=Un){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function eO(e,t,n,r){let o=r.get(oA,Ab)||n===Vn.ShadowDom,s=e.selectRootElement(t,o);return tO(s),s}function tO(e){nO(e)}var nO=()=>null;function rO(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Pg(e,t,n,r,i,o,s,a){if(!a&&Fg(t,e,n,r,i)){ss(t)&&iO(n,t.index);return}if(t.type&3){let l=Un(t,n);r=rO(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)}else t.type&12}function iO(e,t){let n=jn(t,e);n[Q]&16||(n[Q]|=64)}function oO(e,t,n){let r=n.directiveStart,i=n.directiveEnd;ss(n)&&YA(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||ou(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=Ea(t,e,s,n);if(us(l,t),o!==null&&uO(t,s-r,l,a,n,o),Fn(a)){let c=jn(n.index,t);c[Ue]=Ea(t,e,s,n)}}}function sO(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=yM();try{Zi(o);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];uh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&aO(l,c)}}finally{Zi(-1),uh(s)}}function aO(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function kg(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];VA(t,o.selectors,!1)&&(r??=[],Fn(o)?r.unshift(o):r.push(o))}return r}function lO(e,t,n,r,i,o){let s=Un(e,t);cO(t[Pe],s,o,e.value,n,r,i)}function cO(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Ra(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function uO(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Ih(r,n,l,c)}}function dO(e,t){let n=e[Gi],r=n?n.get(fr,null):null;r&&r.handleError(t)}function Fg(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],f=t.data[c];Ih(f,n[c],d,i),a=!0}if(o)for(let l of o){let c=n[l],d=t.data[l];Ih(d,c,r,i),a=!0}return a}function fO(e,t){let n=jn(t,e),r=n[Z];pO(r,n);let i=n[gr];i!==null&&n[wa]===null&&(n[wa]=Nb(i,n[Gi])),we(18),Lg(r,n,n[Ue]),we(19,n[Ue])}function pO(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Lg(e,t,n){mg(t);try{let r=e.viewQuery;r!==null&&bh(1,r,n);let i=e.template;i!==null&&Qb(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ur]?.finishViewCreation(e),e.staticContentQueries&&Rb(e,t),e.staticViewQueries&&bh(2,e.viewQuery,n);let o=e.components;o!==null&&hO(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Q]&=-5,yg()}}function hO(e,t){for(let n=0;n<t.length;n++)fO(e,t[n])}function ju(e,t,n,r){let i=Y(null);try{let o=t.tView,a=e[Q]&4096?4096:16,l=Og(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[zi]=c;let d=e[ur];return d!==null&&(l[ur]=d.createEmbeddedView(o)),Lg(o,l,n),l}finally{Y(i)}}function Ta(e,t){return!t||t.firstChild===null||wb(e)}var gO;function jg(e,t){return gO(e,t)}var pr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(pr||{});function Xb(e){return(e.flags&32)===32}function Zo(e,t,n,r,i){if(r!=null){let o,s=!1;mr(r)?o=r:Jr(r)&&(s=!0,r=r[gr]);let a=Ln(r);e===0&&n!==null?i==null?Gb(t,n,a):cu(t,n,a,i||null,!0):e===1&&n!==null?cu(t,n,a,i||null,!0):e===2?JA(t,a,s):e===3&&t.destroyNode(a),o!=null&&xO(t,e,o,n,i)}}function mO(e,t){Kb(e,t),t[gr]=null,t[vn]=null}function yO(e,t,n,r,i,o){r[gr]=i,r[vn]=t,Bu(e,r,n,1,i,o)}function Kb(e,t){t[cr].changeDetectionScheduler?.notify(9),Bu(e,t,t[Pe],2,null,null)}function vO(e){let t=e[Da];if(!t)return Gp(e[Z],e);for(;t;){let n=null;if(Jr(t))n=t[Da];else{let r=t[it];r&&(n=r)}if(!n){for(;t&&!t[gn]&&t!==e;)Jr(t)&&Gp(t[Z],t),t=t[ot];t===null&&(t=e),Jr(t)&&Gp(t[Z],t),n=t&&t[gn]}t=n}}function Vg(e,t){let n=e[Yo],r=n.indexOf(t);n.splice(r,1)}function Vu(e,t){if(as(t))return;let n=t[Pe];n.destroyNode&&Bu(e,t,n,3,null,null),vO(t)}function Gp(e,t){if(as(t))return;let n=Y(null);try{t[Q]&=-129,t[Q]|=256,t[Xt]&&mp(t[Xt]),_O(e,t),CO(e,t),t[Z].type===1&&t[Pe].destroy();let r=t[zi];if(r!==null&&mr(t[ot])){r!==t[ot]&&Vg(r,t);let i=t[ur];i!==null&&i.detachView(e)}Ch(t)}finally{Y(n)}}function CO(e,t){let n=e.cleanup,r=t[Kc];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Kc]=null);let i=t[Wr];if(i!==null){t[Wr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Yc];if(o!==null){t[Yc]=null;for(let s of o)s.destroy()}}function _O(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Qi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];we(4,a,l);try{l.call(a)}finally{we(5,a,l)}}else{we(4,i,o);try{o.call(i)}finally{we(5,i,o)}}}}}function bO(e,t,n){return wO(e,t.parent,n)}function wO(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[gr];if(ss(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Vn.None||i===Vn.Emulated)return null}return Un(r,n)}function DO(e,t,n){return IO(e,t,n)}function EO(e,t,n){return e.type&40?Un(e,n):null}var IO=EO,zC;function Uu(e,t,n,r){let i=bO(e,r,t),o=t[Pe],s=r.parent||t[vn],a=DO(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)GC(o,i,n[l],a,!1);else GC(o,i,n,a,!1);zC!==void 0&&zC(o,r,t,n,i)}function ya(e,t){if(t!==null){let n=t.type;if(n&3)return Un(t,e);if(n&4)return Th(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return ya(e,r);{let i=e[t.index];return mr(i)?Th(-1,i):Ln(i)}}else{if(n&128)return ya(e,t.next);if(n&32)return jg(t,e)()||Ln(e[t.index]);{let r=Yb(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Ji(e[mn]);return ya(i,r)}else return ya(e,t.next)}}}return null}function Yb(e,t){if(t!==null){let r=e[mn][vn],i=t.projection;return r.projection[i]}return null}function Th(e,t){let n=it+e+1;if(n<t.length){let r=t[n],i=r[Z].firstChild;if(i!==null)return ya(r,i)}return t[Wi]}function Ug(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&us(Ln(a),r),n.flags|=2),!Xb(n))if(l&8)Ug(e,t,n.child,r,i,o,!1),Zo(t,e,i,a,o);else if(l&32){let c=jg(n,r),d;for(;d=c();)Zo(t,e,i,d,o);Zo(t,e,i,a,o)}else l&16?TO(e,t,r,n,i,o):Zo(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Bu(e,t,n,r,i,o){Ug(n,r,e.firstChild,t,i,o,!1)}function TO(e,t,n,r,i,o){let s=n[mn],l=s[vn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Zo(t,e,i,d,o)}else{let c=l,d=s[ot];wb(r)&&(c.flags|=128),Ug(e,t,c,d,i,o,!0)}}function xO(e,t,n,r,i){let o=n[Wi],s=Ln(n);o!==s&&Zo(t,e,r,o,i);for(let a=it;a<n.length;a++){let l=n[a];Bu(l[Z],l,e,t,r,o)}}function SO(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:pr.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=pr.Important),e.setStyle(n,r,i,o))}}function uu(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Ln(o)),mr(o)&&MO(o,r);let s=n.type;if(s&8)uu(e,t,n.child,r);else if(s&32){let a=jg(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Yb(t,n);if(Array.isArray(a))r.push(...a);else{let l=Ji(t[mn]);uu(l[Z],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function MO(e,t){for(let n=it;n<e.length;n++){let r=e[n],i=r[Z].firstChild;i!==null&&uu(r[Z],r,i,t)}e[Wi]!==e[gr]&&t.push(e[Wi])}function e0(e){if(e[$p]!==null){for(let t of e[$p])t.impl.addSequence(t);e[$p].length=0}}var t0=[];function AO(e){return e[Xt]??OO(e)}function OO(e){let t=t0.pop()??Object.create(RO);return t.lView=e,t}function NO(e){e.lView[Xt]!==e&&(e.lView=null,t0.push(e))}var RO=B(T({},ca),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Tu(e.lView)},consumerOnSignalRead(){this.lView[Xt]=this}});function PO(e){let t=e[Xt]??Object.create(kO);return t.lView=e,t}var kO=B(T({},ca),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Ji(e.lView);for(;t&&!n0(t[Z]);)t=Ji(t);t&&B_(t)},consumerOnSignalRead(){this.lView[Xt]=this}});function n0(e){return e.type!==2}function r0(e){if(e[Yc]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Yc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[Q]&8192)}}var FO=100;function i0(e,t=!0,n=0){let i=e[cr].rendererFactory,o=!1;o||i.begin?.();try{LO(e,n)}catch(s){throw t&&dO(e,s),s}finally{o||i.end?.()}}function LO(e,t){let n=G_();try{TC(!0),xh(e,t);let r=0;for(;Iu(e);){if(r===FO)throw new P(103,!1);r++,xh(e,1)}}finally{TC(n)}}function jO(e,t,n,r){if(as(t))return;let i=t[Q],o=!1,s=!1;mg(t);let a=!0,l=null,c=null;o||(n0(e)?(c=AO(t),l=ic(c)):up()===null?(a=!1,c=PO(t),l=ic(c)):t[Xt]&&(mp(t[Xt]),t[Xt]=null));try{U_(t),hM(e.bindingStartIndex),n!==null&&Qb(e,t,n,2,r);let d=(i&3)===3;if(!o)if(d){let u=e.preOrderCheckHooks;u!==null&&$c(t,u,null)}else{let u=e.preOrderHooks;u!==null&&Hc(t,u,0,null),Hp(t,0)}if(s||VO(t),r0(t),o0(t,0),e.contentQueries!==null&&Rb(e,t),!o)if(d){let u=e.contentCheckHooks;u!==null&&$c(t,u)}else{let u=e.contentHooks;u!==null&&Hc(t,u,1),Hp(t,1)}BO(e,t);let f=e.components;f!==null&&a0(t,f,0);let h=e.viewQuery;if(h!==null&&bh(2,h,r),!o)if(d){let u=e.viewCheckHooks;u!==null&&$c(t,u)}else{let u=e.viewHooks;u!==null&&Hc(t,u,2),Hp(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Bp]){for(let u of t[Bp])u();t[Bp]=null}o||(e0(t),t[Q]&=-73)}catch(d){throw o||Tu(t),d}finally{c!==null&&(hp(c,l),a&&NO(c)),yg()}}function o0(e,t){for(let n=Ib(e);n!==null;n=Tb(n))for(let r=it;r<n.length;r++){let i=n[r];s0(i,t)}}function VO(e){for(let t=Ib(e);t!==null;t=Tb(t)){if(!(t[Q]&2))continue;let n=t[Yo];for(let r=0;r<n.length;r++){let i=n[r];B_(i)}}}function UO(e,t,n){we(18);let r=jn(t,e);s0(r,n),we(19,r[Ue])}function s0(e,t){ug(e)&&xh(e,t)}function xh(e,t){let r=e[Z],i=e[Q],o=e[Xt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&gp(o)),s||=!1,o&&(o.dirty=!1),e[Q]&=-9217,s)jO(r,e,r.template,e[Ue]);else if(i&8192){r0(e),o0(e,1);let a=r.components;a!==null&&a0(e,a,1),e0(e)}}function a0(e,t,n){for(let r=0;r<t.length;r++)UO(e,t[r],n)}function BO(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Zi(~i);else{let o=i,s=n[++r],a=n[++r];mM(s,o);let l=t[o];we(24,l),a(2,l),we(25,l)}}}finally{Zi(-1)}}function Bg(e,t){let n=G_()?64:1088;for(e[cr].changeDetectionScheduler?.notify(t);e;){e[Q]|=n;let r=Ji(e);if(tu(e)&&!r)return e;e=r}return null}function l0(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function c0(e,t){let n=it+t;if(n<e.length)return e[n]}function $u(e,t,n,r=!0){let i=t[Z];if($O(i,t,e,n),r){let s=Th(n,e),a=t[Pe],l=a.parentNode(e[Wi]);l!==null&&yO(i,e[vn],a,t,l,s)}let o=t[wa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function u0(e,t){let n=xa(e,t);return n!==void 0&&Vu(n[Z],n),n}function xa(e,t){if(e.length<=it)return;let n=it+t,r=e[n];if(r){let i=r[zi];i!==null&&i!==e&&Vg(i,r),t>0&&(e[n-1][gn]=r[gn]);let o=Qc(e,it+t);mO(r[Z],r);let s=o[ur];s!==null&&s.detachView(o[Z]),r[ot]=null,r[gn]=null,r[Q]&=-129}return r}function $O(e,t,n,r){let i=it+r,o=n.length;r>0&&(n[i-1][gn]=t),r<o-it?(t[gn]=n[i],D_(n,it+r,t)):(n.push(t),t[gn]=null),t[ot]=n;let s=t[zi];s!==null&&n!==s&&d0(s,t);let a=t[ur];a!==null&&a.insertView(e),lh(t),t[Q]|=128}function d0(e,t){let n=e[Yo],r=t[ot];if(Jr(r))e[Q]|=2;else{let i=r[ot][mn];t[mn]!==i&&(e[Q]|=2)}n===null?e[Yo]=[t]:n.push(t)}var Sa=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[Z];return uu(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ue]}set context(t){this._lView[Ue]=t}get destroyed(){return as(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ot];if(mr(t)){let n=t[eu],r=n?n.indexOf(this):-1;r>-1&&(xa(t,r),Qc(n,r))}this._attachedToViewContainer=!1}Vu(this._lView[Z],this._lView)}onDestroy(t){$_(this._lView,t)}markForCheck(){Bg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){lh(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,i0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=tu(this._lView),n=this._lView[zi];n!==null&&!t&&Vg(n,this._lView),Kb(this._lView[Z],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=t;let n=tu(this._lView),r=this._lView[zi];r!==null&&!n&&d0(r,this._lView),lh(this._lView)}};var Xi=(()=>{class e{static __NG_ELEMENT_ID__=GO}return e})(),HO=Xi,qO=class extends HO{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=ju(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Sa(i)}};function GO(){return Hu(gt(),ie())}function Hu(e,t){return e.type&4?new qO(t,e,cs(e,t)):null}function qu(e,t,n,r,i){let o=e.data[t];if(o===null)o=zO(e,t,n,r,i),gM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=pM();o.injectorIndex=s===null?-1:s.injectorIndex}return eo(o,!0),o}function zO(e,t,n,r,i){let o=H_(),s=hg(),a=s?o:o&&o.parent,l=e.data[t]=JO(e,a,n,t,r,i);return WO(e,l,o,s),l}function WO(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function JO(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return uM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var _G=new RegExp(`^(\\d+)*(${iA}|${rA})*(.*)`);var ZO=()=>null;function Ma(e,t){return ZO(e,t)}var QO=class{},f0=class{},Sh=class{resolveComponentFactory(t){throw Error(`No component factory found for ${xt(t)}.`)}},Gu=class{static NULL=new Sh},ts=class{},$n=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>XO()}return e})();function XO(){let e=ie(),t=gt(),n=jn(t.index,e);return(Jr(n)?n:e)[Pe]}var KO=(()=>{class e{static \u0275prov=k({token:e,providedIn:"root",factory:()=>null})}return e})();var zp={},Mh=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=bu(r);let i=this.injector.get(t,zp,r);return i!==zp||n===zp?i:this.parentInjector.get(t,n,r)}};function Ah(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=eh(i,a);else if(o==2){let l=a,c=t[++s];r=eh(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function R(e,t=K.Default){let n=ie();if(n===null)return U(e,t);let r=gt();return db(r,n,dt(e),t)}function $g(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a,l=null,c=null,d=eN(s);d===null?a=s:[a,l,c]=d,rN(e,t,n,a,o,l,c)}o!==null&&r!==null&&YO(n,r,o)}function YO(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new P(-301,!1);r.push(t[i],o)}}function eN(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Fn(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,tN(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,i,o]):null}function tN(e,t,n,r){let i=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[i,t.length-1])}function nN(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function rN(e,t,n,r,i,o,s){let a=r.length,l=!1;for(let h=0;h<a;h++){let u=r[h];!l&&Fn(u)&&(l=!0,nN(e,n,h)),fh(ou(n,t),e,u.type)}cN(n,e.data.length,a);for(let h=0;h<a;h++){let u=r[h];u.providersResolver&&u.providersResolver(u)}let c=!1,d=!1,f=Jb(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let u=r[h];if(n.mergedAttrs=es(n.mergedAttrs,u.hostAttrs),oN(e,n,t,f,u),lN(f,u,i),s!==null&&s.has(u)){let[g,m]=s.get(u);n.directiveToIndex.set(u.type,[f,g+n.directiveStart,m+n.directiveStart])}else(o===null||!o.has(u))&&n.directiveToIndex.set(u.type,f);u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let p=u.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!d&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),f++}iN(e,n,o)}function iN(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))WC(0,t,i,r),WC(1,t,i,r),ZC(t,r,!1);else{let o=n.get(i);JC(0,t,o,r),JC(1,t,o,r),ZC(t,r,!0)}}}function WC(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),p0(t,o)}}function JC(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),p0(t,s)}}function p0(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function ZC(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Mg(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let d of c)if(d===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===t){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function oN(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Hi(i.type,!0)),s=new Qi(o,Fn(i),R);e.blueprint[r]=s,n[r]=s,sN(e,t,r,Jb(e,n,i.hostVars,Cn),i)}function sN(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;aN(s)!=a&&s.push(a),s.push(n,r,o)}}function aN(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function lN(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Fn(t)&&(n[""]=e)}}function cN(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function h0(e,t,n,r,i,o,s,a){let l=t.consts,c=Zr(l,s),d=qu(t,e,2,r,c);return o&&$g(t,n,d,Zr(l,a),i),d.mergedAttrs=es(d.mergedAttrs,d.attrs),d.attrs!==null&&Ah(d,d.attrs,!1),d.mergedAttrs!==null&&Ah(d,d.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,d),d}function g0(e,t){vg(e,t),lg(t)&&e.queries.elementEnd(t)}var du=class extends Gu{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Xo(t);return new Aa(n,this.ngModule)}};function uN(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Fu.SignalBased)!==0};return i&&(o.transform=i),o})}function dN(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function fN(e,t,n){let r=t instanceof ft?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Mh(n,r):n}function pN(e){let t=e.get(ts,null);if(t===null)throw new P(407,!1);let n=e.get(KO,null),r=e.get(Ia,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function hN(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return qb(t,n,n==="svg"?j_:n==="math"?eM:null)}var Aa=class extends f0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=uN(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=dN(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=HA(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){we(22);let o=Y(null);try{let s=this.componentDef,a=r?["ng-version","19.2.10"]:qA(this.componentDef.selectors[0]),l=Ag(0,null,null,1,0,null,null,null,null,[a],null),c=fN(s,i||this.ngModule,t),d=pN(c),f=d.rendererFactory.createRenderer(null,s),h=r?eO(f,r,s.encapsulation,c):hN(s,f),u=Og(null,l,null,512|Wb(s),null,null,d,f,c,null,Nb(h,c,!0));u[pt]=h,mg(u);let p=null;try{let g=h0(pt,l,u,"#host",()=>[this.componentDef],!0,0);h&&(zb(f,h,g),us(h,u)),Lu(l,u,g),Tg(l,g,u),g0(l,g),n!==void 0&&gN(g,this.ngContentSelectors,n),p=jn(g.index,u),u[Ue]=p[Ue],Lg(l,u,null)}catch(g){throw p!==null&&Ch(p),Ch(u),g}finally{we(23),yg()}return new Oh(this.componentType,u)}finally{Y(o)}}},Oh=class extends QO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=cg(n[Z],pt),this.location=cs(this._tNode,n),this.instance=jn(this._tNode.index,n)[Ue],this.hostView=this.changeDetectorRef=new Sa(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Fg(r,i[Z],i,t,n);this.previousInputValues.set(t,n);let s=jn(r.index,i);Bg(s,1)}get injector(){return new $i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function gN(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Yt=(()=>{class e{static __NG_ELEMENT_ID__=mN}return e})();function mN(){let e=gt();return y0(e,ie())}var yN=Yt,m0=class extends yN{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return cs(this._hostTNode,this._hostLView)}get injector(){return new $i(this._hostTNode,this._hostLView)}get parentInjector(){let t=Cg(this._hostTNode,this._hostLView);if(ob(t)){let n=ru(t,this._hostLView),r=nu(t),i=n[Z].data[r+8];return new $i(i,n)}else return new $i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=QC(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-it}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ma(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ta(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!QS(t),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new Aa(Xo(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?c:this.parentInjector).get(ft,null);g&&(o=g)}let d=Xo(l.componentType??{}),f=Ma(this._lContainer,d?.id??null),h=f?.firstChild??null,u=l.create(c,i,h,o);return this.insertImpl(u.hostView,a,Ta(this._hostTNode,f)),u}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(rM(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[ot],c=new m0(l,l[vn],l[ot]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return $u(s,i,o,r),t.attachToViewContainerRef(),D_(Wp(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=QC(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=xa(this._lContainer,n);r&&(Qc(Wp(this._lContainer),n),Vu(r[Z],r))}detach(t){let n=this._adjustIndex(t,-1),r=xa(this._lContainer,n);return r&&Qc(Wp(this._lContainer),n)!=null?new Sa(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function QC(e){return e[eu]}function Wp(e){return e[eu]||(e[eu]=[])}function y0(e,t){let n,r=t[e.index];return mr(r)?n=r:(n=l0(r,t,null,e),t[e.index]=n,Ng(t,n)),CN(n,t,e,r),new m0(n,e,t)}function vN(e,t){let n=e[Pe],r=n.createComment(""),i=Un(t,e),o=n.parentNode(i);return cu(n,o,r,n.nextSibling(i),!1),r}var CN=wN,_N=()=>!1;function bN(e,t,n){return _N(e,t,n)}function wN(e,t,n,r){if(e[Wi])return;let i;n.type&8?i=Ln(r):i=vN(t,n),e[Wi]=i}var Nh=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Rh=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Hg(t,n).matches!==null&&this.queries[n].setDirty()}},fu=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=AN(t):this.predicate=t}},Ph=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},kh=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,DN(n,o)),this.matchTNodeWithReadOption(t,n,qc(n,t,o,!1,!1))}else r===Xi?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,qc(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===St||i===Yt||i===Xi&&n.type&4)this.addMatch(n.index,-2);else{let o=qc(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function DN(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function EN(e,t){return e.type&11?cs(e,t):e.type&4?Hu(e,t):null}function IN(e,t,n,r){return n===-1?EN(t,e):n===-2?TN(e,t,r):Ea(e,e[Z],n,t)}function TN(e,t,n){if(n===St)return cs(t,e);if(n===Xi)return Hu(t,e);if(n===Yt)return y0(t,e)}function v0(e,t,n,r){let i=t[ur].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(IN(t,d,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Fh(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=v0(e,t,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],d=t[-l];for(let f=it;f<d.length;f++){let h=d[f];h[zi]===h[ot]&&Fh(h[Z],h,c,r)}if(d[Yo]!==null){let f=d[Yo];for(let h=0;h<f.length;h++){let u=f[h];Fh(u[Z],u,c,r)}}}}}return r}function xN(e,t){return e[ur].queries[t].queryList}function C0(e,t,n){let r=new vh((n&4)===4);return sM(e,t,r,r.destroy),(t[ur]??=new Rh).queries.push(new Nh(r))-1}function SN(e,t,n){let r=ke();return r.firstCreatePass&&(_0(r,new fu(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),C0(r,ie(),t)}function MN(e,t,n,r){let i=ke();if(i.firstCreatePass){let o=gt();_0(i,new fu(t,n,r),o.index),ON(i,e),(n&2)===2&&(i.staticContentQueries=!0)}return C0(i,ie(),n)}function AN(e){return e.split(",").map(t=>t.trim())}function _0(e,t,n){e.queries===null&&(e.queries=new Ph),e.queries.track(new kh(t,n))}function ON(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function Hg(e,t){return e.queries.getByIndex(t)}function NN(e,t){let n=e[Z],r=Hg(n,t);return r.crossesNgTemplate?Fh(n,e,t,[]):v0(n,e,r,t)}var ns=class{},qg=class{};var Lh=class extends ns{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new du(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=x_(t);this._bootstrapComponents=$b(o.bootstrap),this._r3Injector=hb(t,n,[{provide:ns,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver},...r],xt(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},jh=class extends qg{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Lh(this.moduleType,t,[])}};var pu=class extends ns{injector;componentFactoryResolver=new du(this);instance=null;constructor(t){super();let n=new ba([...t.providers,{provide:ns,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver}],t.parent||ag(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function zu(e,t,n=null){return new pu({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var RN=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=S_(!1,n.type),i=r.length>0?zu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=k({token:e,providedIn:"environment",factory:()=>new e(U(ft))})}return e})();function $e(e){return Na(()=>{let t=w0(e),n=B(T({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Db.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(RN).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Vn.Emulated,styles:e.styles||Tt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&La("NgStandalone"),D0(n);let r=e.dependencies;return n.directiveDefs=XC(r,!1),n.pipeDefs=XC(r,!0),n.id=jN(n),n})}function PN(e){return Xo(e)||LS(e)}function kN(e){return e!==null}function vr(e){return Na(()=>({type:e.type,bootstrap:e.bootstrap||Tt,declarations:e.declarations||Tt,imports:e.imports||Tt,exports:e.exports||Tt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function FN(e,t){if(e==null)return qi;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Fu.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function LN(e){if(e==null)return qi;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ye(e){return Na(()=>{let t=w0(e);return D0(t),t})}function b0(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function w0(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||qi,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Tt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:FN(e.inputs,t),outputs:LN(e.outputs),debugInfo:null}}function D0(e){e.features?.forEach(t=>t(e))}function XC(e,t){if(!e)return null;let n=t?jS:PN;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(kN)}function jN(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function VN(e){return Object.getPrototypeOf(e.prototype).constructor}function mt(e){let t=VN(e.type),n=!0,r=[e];for(;t;){let i;if(Fn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new P(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Jp(e.inputs),s.declaredInputs=Jp(e.declaredInputs),s.outputs=Jp(e.outputs);let a=i.hostBindings;a&&qN(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&$N(e,l),c&&HN(e,c),UN(e,i),hS(e.outputs,i.outputs),Fn(i)&&i.data.animation){let d=e.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===mt&&(n=!1)}}t=Object.getPrototypeOf(t)}BN(r)}function UN(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function BN(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=es(i.hostAttrs,n=es(n,i.hostAttrs))}}function Jp(e){return e===qi?{}:e===Tt?[]:e}function $N(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function HN(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function qN(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function E0(e){return zN(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function GN(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function zN(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function I0(e,t,n){return e[t]=n}function yn(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function WN(e,t,n,r){let i=yn(e,t,n);return yn(e,t+1,r)||i}function JN(e,t,n,r,i,o,s,a,l){let c=t.consts,d=qu(t,e,4,s||null,a||null);pg()&&$g(t,n,d,Zr(c,l),kg),d.mergedAttrs=es(d.mergedAttrs,d.attrs),vg(t,d);let f=d.tView=Ag(2,d,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,d),f.queries=t.queries.embeddedTView(d)),d}function Vh(e,t,n,r,i,o,s,a,l,c){let d=n+pt,f=t.firstCreatePass?JN(d,t,e,r,i,o,s,a,l):t.data[d];eo(f,!1);let h=ZN(t,e,f,n);Su()&&Uu(t,e,h,f),us(h,e);let u=l0(h,e,h,f);return e[d]=u,Ng(e,u),bN(u,f,e),Eu(f)&&Lu(t,e,f),l!=null&&Rg(e,f,c),f}function $(e,t,n,r,i,o,s,a){let l=ie(),c=ke(),d=Zr(c.consts,o);return Vh(l,c,e,t,n,r,i,d,s,a),$}var ZN=QN;function QN(e,t,n,r){return Mu(!0),t[Pe].createComment("")}var T0=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var x0=new L("");var XN=(()=>{class e{static \u0275prov=k({token:e,providedIn:"root",factory:()=>new Uh})}return e})(),Uh=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Kr(e){return!!e&&typeof e.then=="function"}function Gg(e){return!!e&&typeof e.subscribe=="function"}var S0=new L("");function zg(e){return is([{provide:S0,multi:!0,useValue:e}])}var M0=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=A(S0,{optional:!0})??[];injector=A(dr);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=kt(this.injector,i);if(Kr(o))n.push(o);else if(Gg(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wg=new L("");function KN(){vp(()=>{throw new P(600,!1)})}function YN(e){return e.isBoundToModule}var e1=10;var Ki=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=A(zM);afterRenderManager=A(sA);zonelessEnabled=A(bg);rootEffectScheduler=A(XN);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Se;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=A(Xr).hasPendingTasks.pipe(ee(n=>!n));constructor(){A(Nu,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=A(ft);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=dr.NULL){we(10);let o=n instanceof f0;if(!this._injector.get(M0).done){let u="";throw new P(405,u)}let a;o?a=n:a=this._injector.get(Gu).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=YN(a)?void 0:this._injector.get(ns),c=r||a.selector,d=a.create(i,[],c,l),f=d.location.nativeElement,h=d.injector.get(x0,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Gc(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),we(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){we(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ob.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new P(101,!1);let n=Y(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Y(n),this.afterTick.next(),we(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ts,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<e1;)we(14),this.synchronizeOnce(),we(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)t1(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Iu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Gc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Wg,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Gc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new P(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Gc(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function t1(e,t,n,r){if(!n&&!Iu(e))return;i0(e,t,n&&!r?0:1)}function Ft(e,t,n,r){let i=ie(),o=ls();if(yn(i,o,t)){let s=ke(),a=xu();lO(a,i,e,t,n,r)}return Ft}function A0(e,t,n,r){return yn(e,ls(),n)?t+Ra(n)+r:Cn}function Uc(e,t){return e<<17|t<<2}function Yi(e){return e>>17&32767}function n1(e){return(e&2)==2}function r1(e,t){return e&131071|t<<17}function Bh(e){return e|2}function rs(e){return(e&131068)>>2}function Zp(e,t){return e&-131069|t<<2}function i1(e){return(e&1)===1}function $h(e){return e|1}function o1(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Yi(s),l=rs(s);e[r]=n;let c=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Pa(f,d)>0)&&(c=!0)}else d=n;if(i)if(l!==0){let h=Yi(e[a+1]);e[r+1]=Uc(h,a),h!==0&&(e[h+1]=Zp(e[h+1],r)),e[a+1]=r1(e[a+1],r)}else e[r+1]=Uc(a,0),a!==0&&(e[a+1]=Zp(e[a+1],r)),a=r;else e[r+1]=Uc(l,0),a===0?a=r:e[l+1]=Zp(e[l+1],r),l=r;c&&(e[r+1]=Bh(e[r+1])),KC(e,d,r,!0),KC(e,d,r,!1),s1(t,d,e,r,o),s=Uc(a,l),o?t.classBindings=s:t.styleBindings=s}function s1(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Pa(o,t)>=0&&(n[r+1]=$h(n[r+1]))}function KC(e,t,n,r){let i=e[n+1],o=t===null,s=r?Yi(i):rs(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];a1(l,t)&&(a=!0,e[s+1]=r?$h(c):Bh(c)),s=r?Yi(c):rs(c)}a&&(e[n+1]=r?Bh(i):$h(i))}function a1(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Pa(e,t)>=0:!1}var ut={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function l1(e){return e.substring(ut.key,ut.keyEnd)}function c1(e){return e.substring(ut.value,ut.valueEnd)}function u1(e){return d1(e),O0(e,hu(e,0,ut.textEnd))}function O0(e,t){let n=ut.textEnd,r=ut.key=hu(e,t,n);return n===r?-1:(r=ut.keyEnd=f1(e,r,n),r=YC(e,r,n,58),r=ut.value=hu(e,r,n),r=ut.valueEnd=p1(e,r,n),YC(e,r,n,59))}function d1(e){ut.key=0,ut.keyEnd=0,ut.value=0,ut.valueEnd=0,ut.textEnd=e.length}function hu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function f1(e,t,n){let r;for(;t<n&&((r=e.charCodeAt(t))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)t++;return t}function YC(e,t,n,r){return t=hu(e,t,n),t<n&&t++,t}function p1(e,t,n){let r=-1,i=-1,o=-1,s=t,a=s;for(;s<n;){let l=e.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=e_(e,l,s,n):t===s-4&&o===85&&i===82&&r===76&&l===40?a=s=e_(e,41,s,n):l>32&&(a=s),o=i,i=r,r=l&-33}return a}function e_(e,t,n,r){let i=-1,o=n;for(;o<r;){let s=e.charCodeAt(o++);if(s==t&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function V(e,t,n){let r=ie(),i=ls();if(yn(r,i,t)){let o=ke(),s=xu();Pg(o,s,r,e,t,r[Pe],n,!1)}return V}function Hh(e,t,n,r,i){Fg(t,e,n,i?"class":"style",r)}function Yr(e,t){return g1(e,t,null,!0),Yr}function N0(e){m1(k0,h1,e,!1)}function h1(e,t){for(let n=u1(t);n>=0;n=O0(t,n))k0(e,l1(t),c1(t))}function g1(e,t,n,r){let i=ie(),o=ke(),s=W_(2);if(o.firstUpdatePass&&P0(o,e,s,r),t!==Cn&&yn(i,s,t)){let a=o.data[Qr()];F0(o,a,i,i[Pe],e,i[s+1]=D1(t,n),r,s)}}function m1(e,t,n,r){let i=ke(),o=W_(2);i.firstUpdatePass&&P0(i,null,o,r);let s=ie();if(n!==Cn&&yn(s,o,n)){let a=i.data[Qr()];if(L0(a,r)&&!R0(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=eh(l,n||"")),Hh(i,a,s,n,r)}else w1(i,a,s,s[Pe],s[o+1],s[o+1]=b1(e,t,n),r,o)}}function R0(e,t){return t>=e.expandoStartIndex}function P0(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Qr()],s=R0(e,n);L0(o,r)&&t===null&&!s&&(t=!1),t=y1(i,o,t,r),o1(i,o,t,n,s,r)}}function y1(e,t,n,r){let i=vM(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Qp(null,e,t,n,r),n=Oa(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Qp(i,e,t,n,r),o===null){let l=v1(e,t,r);l!==void 0&&Array.isArray(l)&&(l=Qp(null,e,t,l[1],r),l=Oa(l,t.attrs,r),C1(e,t,r,l))}else o=_1(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function v1(e,t,n){let r=n?t.classBindings:t.styleBindings;if(rs(r)!==0)return e[Yi(r)]}function C1(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Yi(i)]=r}function _1(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Oa(r,s,n)}return Oa(r,t.attrs,n)}function Qp(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Oa(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Oa(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),E_(e,s,n?!0:t[++o]))}return e===void 0?null:e}function b1(e,t,n){if(n==null||n==="")return Tt;let r=[],i=ds(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function k0(e,t,n){E_(e,t,ds(n))}function w1(e,t,n,r,i,o,s,a){i===Cn&&(i=Tt);let l=0,c=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let h=l<i.length?i[l+1]:void 0,u=c<o.length?o[c+1]:void 0,p=null,g;d===f?(l+=2,c+=2,h!==u&&(p=f,g=u)):f===null||d!==null&&d<f?(l+=2,p=d):(c+=2,p=f,g=u),p!==null&&F0(e,t,n,r,p,g,s,a),d=l<i.length?i[l]:null,f=c<o.length?o[c]:null}}function F0(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],d=i1(c)?t_(l,t,n,i,rs(c),s):void 0;if(!gu(d)){gu(o)||n1(c)&&(o=t_(l,null,n,i,a,s));let f=V_(Qr(),n);SO(r,s,f,i,o)}}function t_(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),d=c?l[1]:l,f=d===null,h=n[i+1];h===Cn&&(h=f?Tt:void 0);let u=f?Vp(h,r):d===r?h:void 0;if(c&&!gu(u)&&(u=Vp(l,r)),gu(u)&&(a=u,s))return a;let p=e[i+1];i=s?Yi(p):rs(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=Vp(l,r))}return a}function gu(e){return e!==void 0}function D1(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=xt(ds(e)))),e}function L0(e,t){return(e.flags&(t?8:16))!==0}var qh=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function Xp(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function E1(e,t,n){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;o<=s&&o<=l;){let c=e.at(o),d=t[o],f=Xp(o,c,o,d,n);if(f!==0){f<0&&e.updateValue(o,d),o++;continue}let h=e.at(s),u=t[l],p=Xp(s,h,l,u,n);if(p!==0){p<0&&e.updateValue(s,u),s--,l--;continue}let g=n(o,c),m=n(s,h),y=n(o,d);if(Object.is(y,m)){let _=n(l,u);Object.is(_,g)?(e.swap(o,s),e.updateValue(s,u),l--,s--):e.move(s,o),e.updateValue(o,d),o++;continue}if(r??=new mu,i??=r_(e,o,s,n),Gh(e,r,o,y))e.updateValue(o,d),o++,s++;else if(i.has(y))r.set(g,e.detach(o)),s--;else{let _=e.create(o,t[o]);e.attach(o,_),o++,s++}}for(;o<=l;)n_(e,r,n,o,t[o]),o++}else if(t!=null){let l=t[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let d=e.at(o),f=c.value,h=Xp(o,d,o,f,n);if(h!==0)h<0&&e.updateValue(o,f),o++,c=l.next();else{r??=new mu,i??=r_(e,o,s,n);let u=n(o,f);if(Gh(e,r,o,u))e.updateValue(o,f),o++,s++,c=l.next();else if(!i.has(u))e.attach(o,e.create(o,f)),o++,s++,c=l.next();else{let p=n(o,d);r.set(p,e.detach(o)),s--}}}for(;!c.done;)n_(e,r,n,e.length,c.value),c=l.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(l=>{e.destroy(l)})}function Gh(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function n_(e,t,n,r,i){if(Gh(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function r_(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var mu=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function W(e,t){La("NgControlFlow");let n=ie(),r=ls(),i=n[r]!==Cn?n[r]:-1,o=i!==-1?yu(n,pt+i):void 0,s=0;if(yn(n,r,e)){let a=Y(null);try{if(o!==void 0&&u0(o,s),e!==-1){let l=pt+e,c=yu(n,l),d=Zh(n[Z],l),f=Ma(c,d.tView.ssrId),h=ju(n,d,t,{dehydratedView:f});$u(c,h,s,Ta(d,f))}}finally{Y(a)}}else if(o!==void 0){let a=c0(o,s);a!==void 0&&(a[Ue]=t)}}var zh=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-it}};function _n(e,t){return t}var Wh=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Ae(e,t,n,r,i,o,s,a,l,c,d,f,h){La("NgControlFlow");let u=ie(),p=ke(),g=l!==void 0,m=ie(),y=a?s.bind(m[mn][Ue]):s,_=new Wh(g,y);m[pt+e]=_,Vh(u,p,e+1,t,n,r,i,Zr(p.consts,o)),g&&Vh(u,p,e+2,l,c,d,f,Zr(p.consts,h))}var Jh=class extends qh{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-it}at(t){return this.getLView(t)[Ue].$implicit}attach(t,n){let r=n[wa];this.needsIndexUpdate||=t!==this.length,$u(this.lContainer,n,t,Ta(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,I1(this.lContainer,t)}create(t,n){let r=Ma(this.lContainer,this.templateTNode.tView.ssrId),i=ju(this.hostLView,this.templateTNode,new zh(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){Vu(t[Z],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[Ue].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Ue].$index=t}getLView(t){return T1(this.lContainer,t)}};function Oe(e){let t=Y(null),n=Qr();try{let r=ie(),i=r[Z],o=r[n],s=n+1,a=yu(r,s);if(o.liveCollection===void 0){let c=Zh(i,s);o.liveCollection=new Jh(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(E1(l,e,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=ls(),d=l.length===0;if(yn(r,c,d)){let f=n+2,h=yu(r,f);if(d){let u=Zh(i,f),p=Ma(h,u.tView.ssrId),g=ju(r,u,void 0,{dehydratedView:p});$u(h,g,0,Ta(u,p))}else u0(h,0)}}}finally{Y(t)}}function yu(e,t){return e[t]}function I1(e,t){return xa(e,t)}function T1(e,t){return c0(e,t)}function Zh(e,t){return cg(e,t)}function v(e,t,n,r){let i=ie(),o=ke(),s=pt+e,a=i[Pe],l=o.firstCreatePass?h0(s,o,i,t,kg,pg(),n,r):o.data[s],c=x1(o,i,l,a,t,e);i[s]=c;let d=Eu(l);return eo(l,!0),zb(a,c,l),!Xb(l)&&Su()&&Uu(o,i,c,l),(aM()===0||d)&&us(c,i),lM(),d&&(Lu(o,i,l),Tg(o,l,i)),r!==null&&Rg(i,l),v}function C(){let e=gt();hg()?q_():(e=e.parent,eo(e,!1));let t=e;dM(t)&&fM(),cM();let n=ke();return n.firstCreatePass&&g0(n,t),t.classesWithoutHost!=null&&IM(t)&&Hh(n,t,ie(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&TM(t)&&Hh(n,t,ie(),t.stylesWithoutHost,!1),C}function he(e,t,n,r){return v(e,t,n,r),C(),he}var x1=(e,t,n,r,i,o)=>(Mu(!0),qb(r,i,wM()));function S1(e,t,n,r,i){let o=t.consts,s=Zr(o,r),a=qu(t,e,8,"ng-container",s);s!==null&&Ah(a,s,!0);let l=Zr(o,i);return pg()&&$g(t,n,a,l,kg),a.mergedAttrs=es(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function Cr(e,t,n){let r=ie(),i=ke(),o=e+pt,s=i.firstCreatePass?S1(o,i,r,t,n):i.data[o];eo(s,!0);let a=M1(i,r,s,e);return r[o]=a,Su()&&Uu(i,r,a,s),us(a,r),Eu(s)&&(Lu(i,r,s),Tg(i,s,r)),n!=null&&Rg(r,s),Cr}function _r(){let e=gt(),t=ke();return hg()?q_():(e=e.parent,eo(e,!1)),t.firstCreatePass&&(vg(t,e),lg(e)&&t.queries.elementEnd(e)),_r}function Jg(e,t,n){return Cr(e,t,n),_r(),Jg}var M1=(e,t,n,r)=>(Mu(!0),WA(t[Pe],""));function oe(){return ie()}var vu="en-US";var A1=vu;function O1(e){typeof e=="string"&&(A1=e.toLowerCase().replace(/_/g,"-"))}function i_(e,t,n){return function r(i){if(i===Function)return n;let o=ss(e)?jn(e.index,t):t;Bg(o,5);let s=t[Ue],a=o_(t,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=o_(t,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function o_(e,t,n,r){let i=Y(null);try{return we(6,t,n),n(r)!==!1}catch(o){return N1(e,o),!1}finally{we(7,t,n),Y(i)}}function N1(e,t){let n=e[Gi],r=n?n.get(fr,null):null;r&&r.handleError(t)}function s_(e,t,n,r,i,o){let s=t[n],a=t[Z],c=a.data[n].outputs[r],d=s[c],f=a.firstCreatePass?fg(a):null,h=dg(t),u=d.subscribe(o),p=h.length;h.push(o,u),f&&f.push(i,e.index,p,-(p+1))}var R1=new Map;function j(e,t,n,r){let i=ie(),o=ke(),s=gt();return j0(o,i,i[Pe],s,e,t,r),j}function P1(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Kc],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function j0(e,t,n,r,i,o,s){let a=Eu(r),c=e.firstCreatePass?fg(e):null,d=dg(t),f=!0;if(r.type&3||s){let h=Un(r,t),u=s?s(h):h,p=d.length,g=s?y=>s(Ln(y[r.index])):r.index,m=null;if(!s&&a&&(m=P1(e,t,i,r.index)),m!==null){let y=m.__ngLastListenerFn__||m;y.__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,f=!1}else{o=i_(r,t,o);let y=t[Gi].get(Ou);R1.get(y)?.(u,i,o);let D=n.listen(u,i,o);d.push(o,D),c&&c.push(i,g,p,p+1)}}else o=i_(r,t,o);if(f){let h=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let p=0;p<u.length;p+=2){let g=u[p],m=u[p+1];s_(r,t,g,m,i,o)}if(h&&h.length)for(let p of h)s_(r,t,p,i,i,o)}}function I(e=1){return _M(e)}function Zg(e,t,n){return V0(e,"",t,"",n),Zg}function V0(e,t,n,r,i){let o=ie(),s=A0(o,t,n,r);if(s!==Cn){let a=ke(),l=xu();Pg(a,l,o,e,s,o[Pe],i,!1)}return V0}function U0(e,t,n,r){MN(e,t,n,r)}function Wu(e,t,n){SN(e,t,n)}function fs(e){let t=ie(),n=ke(),r=J_();gg(r+1);let i=Hg(n,r);if(e.dirty&&nM(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=NN(t,r);e.reset(o,ZM),e.notifyOnChanges()}return!0}return!1}function ps(){return xN(ie(),J_())}function k1(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function w(e,t=""){let n=ie(),r=ke(),i=e+pt,o=r.firstCreatePass?qu(r,i,1,t,null):r.data[i],s=F1(r,n,o,t,e);n[i]=s,Su()&&Uu(r,n,s,o),eo(o,!1)}var F1=(e,t,n,r,i)=>(Mu(!0),GA(t[Pe],r));function ge(e){return bn("",e,""),ge}function bn(e,t,n){let r=ie(),i=A0(r,e,t,n);return i!==Cn&&L1(r,Qr(),i),bn}function L1(e,t,n){let r=V_(t,e);zA(e[Pe],r,n)}function Ge(e,t,n){bb(t)&&(t=t());let r=ie(),i=ls();if(yn(r,i,t)){let o=ke(),s=xu();Pg(o,s,r,e,t,r[Pe],n,!1)}return Ge}function tt(e,t){let n=bb(e);return n&&e.set(t),n}function ze(e,t){let n=ie(),r=ke(),i=gt();return j0(r,n,n[Pe],i,e,t),ze}function j1(e,t,n){let r=ke();if(r.firstCreatePass){let i=Fn(e);Qh(n,r.data,r.blueprint,i,!0),Qh(t,r.data,r.blueprint,i,!1)}}function Qh(e,t,n,r,i){if(e=dt(e),Array.isArray(e))for(let o=0;o<e.length;o++)Qh(e[o],t,n,r,i);else{let o=ke(),s=ie(),a=gt(),l=Ko(e)?e:dt(e.provide),c=O_(e),d=a.providerIndexes&1048575,f=a.directiveStart,h=a.providerIndexes>>20;if(Ko(e)||!e.multi){let u=new Qi(c,i,R),p=Yp(l,t,i?d:d+h,f);p===-1?(fh(ou(a,s),o,l),Kp(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(u),s.push(u)):(n[p]=u,s[p]=u)}else{let u=Yp(l,t,d+h,f),p=Yp(l,t,d,d+h),g=u>=0&&n[u],m=p>=0&&n[p];if(i&&!m||!i&&!g){fh(ou(a,s),o,l);let y=B1(i?U1:V1,n.length,i,r,c);!i&&m&&(n[p].providerFactory=y),Kp(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=B0(n[i?p:u],c,!i&&r);Kp(o,e,u>-1?u:p,y)}!i&&r&&m&&n[p].componentProviders++}}}function Kp(e,t,n,r){let i=Ko(t),o=HS(t);if(i||o){let l=(o?dt(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let d=c.indexOf(n);d===-1?c.push(n,[r,l]):c[d+1].push(r,l)}else c.push(n,l)}}}function B0(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Yp(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function V1(e,t,n,r,i){return Xh(this.multi,[])}function U1(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ea(r,r[Z],this.providerFactory.index,i);s=l.slice(0,a),Xh(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Xh(o,s);return s}function Xh(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function B1(e,t,n,r,i){let o=new Qi(e,n,R);return o.multi=[],o.index=t,o.componentProviders=0,B0(o,i,r&&!n),o}function Hn(e,t=[]){return n=>{n.providersResolver=(r,i)=>j1(r,i?i(e):e,t)}}function $0(e,t,n,r,i){return H1(ie(),z_(),e,t,n,r,i)}function H0(e,t){let n=e[t];return n===Cn?void 0:n}function $1(e,t,n,r,i,o){let s=t+n;return yn(e,s,i)?I0(e,s+1,o?r.call(o,i):r(i)):H0(e,s+1)}function H1(e,t,n,r,i,o,s){let a=t+n;return WN(e,a,i,o)?I0(e,a+2,s?r.call(s,i,o):r(i,o)):H0(e,a+2)}function Ie(e,t){let n=ke(),r,i=e+pt;n.firstCreatePass?(r=q1(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Hi(r.type,!0)),s,a=It(R);try{let l=iu(!1),c=o();return iu(l),k1(n,ie(),i,c),c}finally{It(a)}}function q1(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Te(e,t,n){let r=e+pt,i=ie(),o=tM(i,r);return G1(i,r)?$1(i,z_(),t,o.transform,n,o):o.transform(n)}function G1(e,t){return e[Z].data[t].pure}function Ju(e,t){return Hu(e,t)}var Kh=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},q0=(()=>{class e{compileModuleSync(n){return new jh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=x_(n),o=$b(i.declarations).reduce((s,a)=>{let l=Xo(a);return l&&s.push(new Aa(l)),s},[]);return new Kh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var z1=(()=>{class e{zone=A(Be);changeDetectionScheduler=A(Ia);applicationRef=A(Ki);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),W1=new L("",{factory:()=>!1});function G0({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Be(B(T({},W0()),{scheduleInRootZone:n})),[{provide:Be,useFactory:e},{provide:_a,multi:!0,useFactory:()=>{let r=A(z1,{optional:!0});return()=>r.initialize()}},{provide:_a,multi:!0,useFactory:()=>{let r=A(J1);return()=>{r.initialize()}}},t===!0?{provide:mb,useValue:!0}:[],{provide:yb,useValue:n??gb}]}function z0(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=G0({ngZoneFactory:()=>{let i=W0(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&La("NgZone_CoalesceEvent"),new Be(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return is([{provide:W1,useValue:!0},{provide:bg,useValue:!1},r])}function W0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var J1=(()=>{class e{subscription=new Ne;initialized=!1;zone=A(Be);pendingTasks=A(Xr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Be.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Z1=(()=>{class e{appRef=A(Ki);taskService=A(Xr);ngZone=A(Be);zonelessEnabled=A(bg);tracing=A(Nu,{optional:!0});disableScheduling=A(mb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(au):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(A(yb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof yh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?NC:vb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(au+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,NC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Q1(){return typeof $localize<"u"&&$localize.locale||vu}var Qg=new L("",{providedIn:"root",factory:()=>A(Qg,K.Optional|K.SkipSelf)||Q1()});var Yh=new L(""),X1=new L("");function ga(e){return!e.moduleRef}function K1(e){let t=ga(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Be);return n.run(()=>{ga(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(fr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ga(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Yh);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Yh);s.add(o),e.moduleRef.onDestroy(()=>{Gc(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return eR(r,n,()=>{let o=t.get(M0);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Qg,vu);if(O1(s||vu),!t.get(X1,!0))return ga(e)?t.get(Ki):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ga(e)){let l=t.get(Ki);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return Y1(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function Y1(e,t){let n=e.injector.get(Ki);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new P(-403,!1);t.push(e)}function eR(e,t,n){try{let r=n();return Kr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var zc=null;function tR(e=[],t){return dr.create({name:t,providers:[{provide:wu,useValue:"platform"},{provide:Yh,useValue:new Set([()=>zc=null])},...e]})}function nR(e=[]){if(zc)return zc;let t=tR(e);return zc=t,KN(),rR(t),t}function rR(e){let t=e.get(Eg,null);kt(e,()=>{t?.forEach(n=>n())})}var ei=(()=>{class e{static __NG_ELEMENT_ID__=iR}return e})();function iR(e){return oR(gt(),ie(),(e&16)===16)}function oR(e,t,n){if(ss(e)&&!n){let r=jn(e.index,t);return new Sa(r,r)}else if(e.type&175){let r=t[mn];return new Sa(r,t)}return null}var eg=class{constructor(){}supports(t){return E0(t)}create(t){return new tg(t)}},sR=(e,t)=>t,tg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||sR}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<a_(r,i,o)?n:r,a=a_(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,d=l-i;if(c!=d){for(let h=0;h<c;h++){let u=h<o.length?o[h]:o[h]=0,p=u+h;d<=p&&p<c&&(o[h]=u+1)}let f=s.previousIndex;o[f]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!E0(t))throw new P(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,GN(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new ng(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Cu),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Cu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},ng=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},rg=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Cu=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new rg,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function a_(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function l_(){return new Xg([new eg])}var Xg=(()=>{class e{factories;static \u0275prov=k({token:e,providedIn:"root",factory:l_});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||l_()),deps:[[e,new NS,new OS]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new P(901,!1)}}return e})();function J0(e){we(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=nR(r),o=[G0({}),{provide:Ia,useExisting:Z1},...n||[]],s=new pu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return K1({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{we(9)}}function to(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function wn(e){return bp(e)}function Va(e,t){return yp(e,t?.equal)}var c_=class{[Zt];constructor(t){this[Zt]=t}destroy(){this[Zt].destroy()}};var We=new L("");var X0=null;function en(){return X0}function Kg(e){X0??=e}var Ua=class{},Yg=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>A(K0),providedIn:"platform"})}return e})();var K0=(()=>{class e extends Yg{_location;_history;_doc=A(We);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return en().getBaseHref(this._doc)}onPopState(n){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Y0(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Z0(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function ti(e){return e&&e[0]!=="?"?`?${e}`:e}var hs=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>A(ew),providedIn:"root"})}return e})(),Zu=new L(""),ew=(()=>{class e extends hs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Y0(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ti(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(U(Yg),U(Zu,8))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gs=(()=>{class e{_subject=new Se;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=cR(Z0(Q0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ti(r))}normalize(n){return e.stripTrailingSlash(lR(this._basePath,Q0(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ti;static joinWithSlash=Y0;static stripTrailingSlash=Z0;static \u0275fac=function(r){return new(r||e)(U(hs))};static \u0275prov=k({token:e,factory:()=>aR(),providedIn:"root"})}return e})();function aR(){return new gs(U(hs))}function lR(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Q0(e){return e.replace(/\/index.html$/,"")}function cR(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var em=/\s+/,tw=[],Ba=(()=>{class e{_ngEl;_renderer;initialClasses=tw;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(em):tw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(em):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(em).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(R(St),R($n))};static \u0275dir=ye({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Qu=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ms=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Qu(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),nw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);nw(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(R(Yt),R(Xi),R(Xg))};static \u0275dir=ye({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function nw(e,t){e.context.$implicit=t.item}var Ku=(()=>{class e{_viewContainer;_context=new Xu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){rw(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){rw(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(R(Yt),R(Xi))};static \u0275dir=ye({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Xu=class{$implicit=null;ngIf=null};function rw(e,t){if(e&&!e.createEmbeddedView)throw new P(2020,!1)}function uR(e,t){return new P(2100,!1)}var tm=class{createSubscription(t,n){return wn(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){wn(()=>t.unsubscribe())}},nm=class{createSubscription(t,n){return t.then(r=>n?.(r),r=>{throw r}),{unsubscribe:()=>{n=null}}}dispose(t){t.unsubscribe()}},dR=new nm,fR=new tm,$a=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Kr(n))return dR;if(Gg(n))return fR;throw uR(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(R(ei,16))};static \u0275pipe=b0({name:"async",type:e,pure:!1})}return e})();function Ha(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var rm="browser",iw="server";function Yu(e){return e===iw}var no=class{};var nd=new L(""),am=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new P(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(U(nd),U(Be))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),qa=class{_doc;constructor(t){this._doc=t}manager},ed="ng-app-id";function ow(e){for(let t of e)t.remove()}function sw(e,t){let n=t.createElement("style");return n.textContent=e,n}function yR(e,t,n,r){let i=e.head?.querySelectorAll(`style[${ed}="${t}"],link[${ed}="${t}"]`);if(i)for(let o of i)o.removeAttribute(ed),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function om(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var lm=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Yu(o),yR(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,sw);r?.forEach(i=>this.addUsage(i,this.external,om))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(ow(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])ow(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,sw(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,om(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ed,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(U(We),U(Ou),U(Ig,8),U(Fa))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),im={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},cm=/%COMP%/g;var lw="%COMP%",vR=`_nghost-${lw}`,CR=`_ngcontent-${lw}`,_R=!0,bR=new L("",{providedIn:"root",factory:()=>_R});function wR(e){return CR.replace(cm,e)}function DR(e){return vR.replace(cm,e)}function cw(e,t){return t.map(n=>n.replace(cm,e))}var um=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=Yu(a),this.defaultRenderer=new Ga(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Vn.ShadowDom&&(r=B(T({},r),{encapsulation:Vn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof td?i.applyToHost(n):i instanceof za&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case Vn.Emulated:o=new td(l,c,r,this.appId,d,s,a,f,h);break;case Vn.ShadowDom:return new sm(l,c,n,r,s,a,this.nonce,f,h);default:o=new za(l,c,r,d,s,a,f,h);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(U(am),U(lm),U(Ou),U(bR),U(We),U(Fa),U(Be),U(Ig),U(Nu,8))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),Ga=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(im[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(aw(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(aw(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new P(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=im[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=im[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(pr.DashCase|pr.Important)?t.style.setProperty(n,r,i&pr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&pr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=en().getGlobalEventTarget(this.doc,t),!t))throw new P(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function aw(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var sm=class extends Ga{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=cw(i.id,d);for(let h of d){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=h,this.shadowRoot.appendChild(u)}let f=i.getExternalStyles?.();if(f)for(let h of f){let u=om(h,o);a&&u.setAttribute("nonce",a),this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},za=class extends Ga{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?cw(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},td=class extends za{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,c){let d=i+"-"+r.id;super(t,n,r,o,s,a,l,c,d),this.contentAttr=wR(d),this.hostAttr=DR(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var rd=class e extends Ua{supportsDOMEvents=!0;static makeCurrent(){Kg(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=ER();return n==null?null:IR(n)}resetBaseElement(){Wa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ha(document.cookie,t)}},Wa=null;function ER(){return Wa=Wa||document.querySelector("base"),Wa?Wa.getAttribute("href"):null}function IR(e){return new URL(e,document.baseURI).pathname}var TR=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),dw=(()=>{class e extends qa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(U(We))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),uw=["alt","control","meta","shift"],xR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},fw=(()=>{class e extends qa{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),uw.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=xR[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),uw.forEach(s=>{if(s!==i){let a=SR[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(U(We))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();function dm(e,t){return J0(T({rootComponent:e},MR(t)))}function MR(e){return{appProviders:[...PR,...e?.providers??[]],platformProviders:RR}}function AR(){rd.makeCurrent()}function OR(){return new fr}function NR(){return Sb(document),document}var RR=[{provide:Fa,useValue:rm},{provide:Eg,useValue:AR,multi:!0},{provide:We,useFactory:NR}];var PR=[{provide:wu,useValue:"root"},{provide:fr,useFactory:OR},{provide:nd,useClass:dw,multi:!0,deps:[We]},{provide:nd,useClass:fw,multi:!0,deps:[We]},um,lm,am,{provide:ts,useExisting:um},{provide:no,useClass:TR},[]];var vs=class{},Ja=class{},ni=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var od=class{encodeKey(t){return pw(t)}encodeValue(t){return pw(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function kR(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var FR=/%(\d[a-f0-9])/gi,LR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pw(e){return encodeURIComponent(e).replace(FR,(t,n)=>LR[n]??t)}function id(e){return`${e}`}var br=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new od,t.fromString){if(t.fromObject)throw new P(2805,!1);this.map=kR(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(id):[id(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(id(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(id(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var sd=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function jR(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function hw(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function gw(e){return typeof Blob<"u"&&e instanceof Blob}function mw(e){return typeof FormData<"u"&&e instanceof FormData}function VR(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var yw="Content-Type",vw="Accept",Cw="X-Request-URL",_w="text/plain",bw="application/json",UR=`${bw}, ${_w}, */*`,ys=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(jR(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ni,this.context??=new sd,!this.params)this.params=new br,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||hw(this.body)||gw(this.body)||mw(this.body)||VR(this.body)?this.body:this.body instanceof br?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||mw(this.body)?null:gw(this.body)?this.body.type||null:hw(this.body)?null:typeof this.body=="string"?_w:this.body instanceof br?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?bw:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,f=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,u)=>h.set(u,t.setHeaders[u]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((h,u)=>h.set(u,t.setParams[u]),d)),new e(n,r,s,{params:d,headers:c,context:f,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},ro=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ro||{}),Cs=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new ni,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},ad=class e extends Cs{constructor(t={}){super(t)}type=ro.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Za=class e extends Cs{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=ro.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Qa=class extends Cs{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},BR=200,$R=204;function fm(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var ri=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof ys)o=n;else{let l;i.headers instanceof ni?l=i.headers:l=new ni(i.headers);let c;i.params&&(i.params instanceof br?c=i.params:c=new br({fromObject:i.params})),o=new ys(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=q(o).pipe(ar(l=>this.handler.handle(l)));if(n instanceof ys||i.observe==="events")return s;let a=s.pipe(Le(l=>l instanceof Za));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new P(2806,!1);return l.body}));case"blob":return a.pipe(ee(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new P(2807,!1);return l.body}));case"text":return a.pipe(ee(l=>{if(l.body!==null&&typeof l.body!="string")throw new P(2808,!1);return l.body}));case"json":default:return a.pipe(ee(l=>l.body))}case"response":return a;default:throw new P(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new br().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,fm(i,r))}post(n,r,i={}){return this.request("POST",n,fm(i,r))}put(n,r,i={}){return this.request("PUT",n,fm(i,r))}static \u0275fac=function(r){return new(r||e)(U(vs))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();var HR=new L("");function qR(e,t){return t(e)}function GR(e,t,n){return(r,i)=>kt(n,()=>t(r,o=>e(o,i)))}var ww=new L(""),Dw=new L(""),Ew=new L("",{providedIn:"root",factory:()=>!0});var ld=(()=>{class e extends vs{backend;injector;chain=null;pendingTasks=A(Xr);contributeToStability=A(Ew);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(ww),...this.injector.get(Dw,[])]));this.chain=r.reduceRight((i,o)=>GR(i,o,this.injector),qR)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Pn(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(U(Ja),U(ft))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();var zR=/^\)\]\}',?\n/,WR=RegExp(`^${Cw}:`,"m");function JR(e){return"responseURL"in e&&e.responseURL?e.responseURL:WR.test(e.getAllResponseHeaders())?e.getResponseHeader(Cw):null}var pm=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new P(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?be(r.\u0275loadImpl()):q(null)).pipe(Pt(()=>new ce(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,m)=>s.setRequestHeader(g,m.join(","))),n.headers.has(vw)||s.setRequestHeader(vw,UR),!n.headers.has(yw)){let g=n.detectContentTypeHeader();g!==null&&s.setRequestHeader(yw,g)}if(n.responseType){let g=n.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let g=s.statusText||"OK",m=new ni(s.getAllResponseHeaders()),y=JR(s)||n.url;return l=new ad({headers:m,status:s.status,statusText:g,url:y}),l},d=()=>{let{headers:g,status:m,statusText:y,url:_}=c(),D=null;m!==$R&&(D=typeof s.response>"u"?s.responseText:s.response),m===0&&(m=D?BR:0);let S=m>=200&&m<300;if(n.responseType==="json"&&typeof D=="string"){let x=D;D=D.replace(zR,"");try{D=D!==""?JSON.parse(D):null}catch(N){D=x,S&&(S=!1,D={error:N,text:D})}}S?(o.next(new Za({body:D,headers:g,status:m,statusText:y,url:_||void 0})),o.complete()):o.error(new Qa({error:D,headers:g,status:m,statusText:y,url:_||void 0}))},f=g=>{let{url:m}=c(),y=new Qa({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});o.error(y)},h=!1,u=g=>{h||(o.next(c()),h=!0);let m={type:ro.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),n.responseType==="text"&&s.responseText&&(m.partialText=s.responseText),o.next(m)},p=g=>{let m={type:ro.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),o.next(m)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),n.reportProgress&&(s.addEventListener("progress",u),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:ro.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",f),n.reportProgress&&(s.removeEventListener("progress",u),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(U(no))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),Iw=new L(""),ZR="XSRF-TOKEN",QR=new L("",{providedIn:"root",factory:()=>ZR}),XR="X-XSRF-TOKEN",KR=new L("",{providedIn:"root",factory:()=>XR}),Xa=class{},YR=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ha(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(U(We),U(QR))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();function eP(e,t){let n=e.url.toLowerCase();if(!A(Iw)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=A(Xa).getToken(),i=A(KR);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}function hm(...e){let t=[ri,pm,ld,{provide:vs,useExisting:ld},{provide:Ja,useFactory:()=>A(HR,{optional:!0})??A(pm)},{provide:ww,useValue:eP,multi:!0},{provide:Iw,useValue:!0},{provide:Xa,useClass:YR}];for(let n of e)t.push(...n.\u0275providers);return is(t)}var Tw=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(U(We))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var X="primary",dl=Symbol("RouteTitle"),_m=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function so(e){return new _m(e)}function Pw(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function nP(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!qn(e[n],t[n]))return!1;return!0}function qn(e,t){let n=e?bm(e):void 0,r=t?bm(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!kw(e[i],t[i]))return!1;return!0}function bm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function kw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function Fw(e){return e.length>0?e[e.length-1]:null}function si(e){return Rp(e)?e:Kr(e)?be(Promise.resolve(e)):q(e)}var rP={exact:jw,subset:Vw},Lw={exact:iP,subset:oP,ignored:()=>!0};function xw(e,t,n){return rP[n.paths](e.root,t.root,n.matrixParams)&&Lw[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function iP(e,t){return qn(e,t)}function jw(e,t,n){if(!io(e.segments,t.segments)||!dd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!jw(e.children[r],t.children[r],n))return!1;return!0}function oP(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>kw(e[n],t[n]))}function Vw(e,t,n){return Uw(e,t,t.segments,n)}function Uw(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!io(i,n)||t.hasChildren()||!dd(i,n,r))}else if(e.segments.length===n.length){if(!io(e.segments,n)||!dd(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!Vw(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!io(e.segments,i)||!dd(e.segments,i,r)||!e.children[X]?!1:Uw(e.children[X],t,o,r)}}function dd(e,t,n){return t.every((r,i)=>Lw[n](e[i].parameters,r.parameters))}var zn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new fe([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=so(this.queryParams),this._queryParamMap}toString(){return lP.serialize(this)}},fe=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fd(this)}},ii=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=so(this.parameters),this._parameterMap}toString(){return $w(this)}};function sP(e,t){return io(e,t)&&e.every((n,r)=>qn(n.parameters,t[r].parameters))}function io(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function aP(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===X&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==X&&(n=n.concat(t(i,r)))}),n}var fl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>new ao,providedIn:"root"})}return e})(),ao=class{parse(t){let n=new Dm(t);return new zn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Ka(t.root,!0)}`,r=dP(t.queryParams),i=typeof t.fragment=="string"?`#${cP(t.fragment)}`:"";return`${n}${r}${i}`}},lP=new ao;function fd(e){return e.segments.map(t=>$w(t)).join("/")}function Ka(e,t){if(!e.hasChildren())return fd(e);if(t){let n=e.children[X]?Ka(e.children[X],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==X&&r.push(`${i}:${Ka(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=aP(e,(r,i)=>i===X?[Ka(e.children[X],!1)]:[`${i}:${Ka(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[X]!=null?`${fd(e)}/${n[0]}`:`${fd(e)}/(${n.join("//")})`}}function Bw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cd(e){return Bw(e).replace(/%3B/gi,";")}function cP(e){return encodeURI(e)}function wm(e){return Bw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pd(e){return decodeURIComponent(e)}function Sw(e){return pd(e.replace(/\+/g,"%20"))}function $w(e){return`${wm(e.path)}${uP(e.parameters)}`}function uP(e){return Object.entries(e).map(([t,n])=>`;${wm(t)}=${wm(n)}`).join("")}function dP(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${cd(n)}=${cd(i)}`).join("&"):`${cd(n)}=${cd(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var fP=/^[^\/()?;#]+/;function mm(e){let t=e.match(fP);return t?t[0]:""}var pP=/^[^\/()?;=#]+/;function hP(e){let t=e.match(pP);return t?t[0]:""}var gP=/^[^=?&#]+/;function mP(e){let t=e.match(gP);return t?t[0]:""}var yP=/^[^&#]+/;function vP(e){let t=e.match(yP);return t?t[0]:""}var Dm=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[X]=new fe(t,n)),r}parseSegment(){let t=mm(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(t),new ii(pd(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=hP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=mm(this.remaining);i&&(r=i,this.capture(r))}t[pd(n)]=pd(r)}parseQueryParam(t){let n=mP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=vP(this.remaining);s&&(r=s,this.capture(r))}let i=Sw(n),o=Sw(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=mm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=X);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[X]:new fe([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new P(4011,!1)}};function Hw(e){return e.segments.length>0?new fe([],{[X]:e}):e}function qw(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=qw(i);if(r===X&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new fe(e.segments,t);return CP(n)}function CP(e){if(e.numberOfChildren===1&&e.children[X]){let t=e.children[X];return new fe(e.segments.concat(t.segments),t.children)}return e}function oi(e){return e instanceof zn}function Gw(e,t,n=null,r=null){let i=zw(e);return Ww(i,t,n,r)}function zw(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new fe(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=Hw(r);return t??i}function Ww(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return ym(i,i,i,n,r);let o=_P(t);if(o.toRoot())return ym(i,i,new fe([],{}),n,r);let s=bP(o,i,e),a=s.processChildren?el(s.segmentGroup,s.index,o.commands):Zw(s.segmentGroup,s.index,o.commands);return ym(i,s.segmentGroup,a,n,r)}function gd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function nl(e){return typeof e=="object"&&e!=null&&e.outlets}function ym(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;e===t?s=n:s=Jw(e,t,n);let a=Hw(qw(s));return new zn(a,o,i)}function Jw(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=Jw(o,t,n)}),new fe(e.segments,r)}var md=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&gd(r[0]))throw new P(4003,!1);let i=r.find(nl);if(i&&i!==Fw(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _P(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new md(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new md(n,t,r)}var ws=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function bP(e,t,n){if(e.isAbsolute)return new ws(t,!0,0);if(!n)return new ws(t,!1,NaN);if(n.parent===null)return new ws(n,!0,0);let r=gd(e.commands[0])?0:1,i=n.segments.length-1+r;return wP(n,i,e.numberOfDoubleDots)}function wP(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new ws(r,!1,i-o)}function DP(e){return nl(e[0])?e[0].outlets:{[X]:e}}function Zw(e,t,n){if(e??=new fe([],{}),e.segments.length===0&&e.hasChildren())return el(e,t,n);let r=EP(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new fe(e.segments.slice(0,r.pathIndex),{});return o.children[X]=new fe(e.segments.slice(r.pathIndex),e.children),el(o,0,i)}else return r.match&&i.length===0?new fe(e.segments,{}):r.match&&!e.hasChildren()?Em(e,t,n):r.match?el(e,0,i):Em(e,t,n)}function el(e,t,n){if(n.length===0)return new fe(e.segments,{});{let r=DP(n),i={};if(Object.keys(r).some(o=>o!==X)&&e.children[X]&&e.numberOfChildren===1&&e.children[X].segments.length===0){let o=el(e.children[X],t,n);return new fe(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Zw(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new fe(e.segments,i)}}function EP(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(nl(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Aw(l,c,s))return o;r+=2}else{if(!Aw(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Em(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(nl(o)){let l=IP(o.outlets);return new fe(r,l)}if(i===0&&gd(n[0])){let l=e.segments[t];r.push(new ii(l.path,Mw(n[0]))),i++;continue}let s=nl(o)?o.outlets[X]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&gd(a)?(r.push(new ii(s,Mw(a))),i+=2):(r.push(new ii(s,{})),i++)}return new fe(r,{})}function IP(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Em(new fe([],{}),0,r))}),t}function Mw(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Aw(e,t,n){return e==n.path&&qn(t,n.parameters)}var hd="imperative",Je=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Je||{}),jt=class{id;url;constructor(t,n){this.id=t,this.url=n}},lo=class extends jt{type=Je.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},En=class extends jt{urlAfterRedirects;type=Je.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Mt||{}),rl=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(rl||{}),Gn=class extends jt{reason;code;type=Je.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wr=class extends jt{reason;code;type=Je.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Es=class extends jt{error;target;type=Je.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},il=class extends jt{urlAfterRedirects;state;type=Je.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yd=class extends jt{urlAfterRedirects;state;type=Je.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vd=class extends jt{urlAfterRedirects;state;shouldActivate;type=Je.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Cd=class extends jt{urlAfterRedirects;state;type=Je.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_d=class extends jt{urlAfterRedirects;state;type=Je.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bd=class{route;type=Je.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wd=class{route;type=Je.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Dd=class{snapshot;type=Je.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ed=class{snapshot;type=Je.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Id=class{snapshot;type=Je.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Td=class{snapshot;type=Je.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ol=class{},Is=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function TP(e,t){return e.providers&&!e._injector&&(e._injector=zu(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Dn(e){return e.outlet||X}function xP(e,t){let n=e.filter(r=>Dn(r)===t);return n.push(...e.filter(r=>Dn(r)!==t)),n}function pl(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var xd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return pl(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ss(this.rootInjector)}},Ss=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new xd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(U(ft))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Sd=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Im(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Im(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Tm(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Tm(t,this._root).map(n=>n.value)}};function Im(e,t){if(e===t.value)return t;for(let n of t.children){let r=Im(e,n);if(r)return r}return null}function Tm(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Tm(e,n);if(r.length)return r.unshift(t),r}return[]}var Lt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function bs(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var sl=class extends Sd{snapshot;constructor(t,n){super(t),this.snapshot=n,Pm(this,t)}toString(){return this.snapshot.toString()}};function Qw(e){let t=SP(e),n=new _e([new ii("",{})]),r=new _e({}),i=new _e({}),o=new _e({}),s=new _e(""),a=new Dr(n,r,o,s,i,X,e,t.root);return a.snapshot=t.root,new sl(new Lt(a,[]),t)}function SP(e){let t={},n={},r={},i="",o=new oo([],t,r,i,n,X,e,null,{});return new al("",new Lt(o,[]))}var Dr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ee(c=>c[dl]))??q(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(t=>so(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(t=>so(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Md(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:T(T({},t.params),e.params),data:T(T({},t.data),e.data),resolve:T(T(T(T({},e.data),t.data),i?.data),e._resolvedData)}:r={params:T({},e.params),data:T({},e.data),resolve:T(T({},e.data),e._resolvedData??{})},i&&Kw(i)&&(r.resolve[dl]=i.title),r}var oo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[dl]}constructor(t,n,r,i,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=so(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=so(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},al=class extends Sd{url;constructor(t,n){super(n),this.url=t,Pm(this,n)}toString(){return Xw(this._root)}};function Pm(e,t){t.value._routerState=e,t.children.forEach(n=>Pm(e,n))}function Xw(e){let t=e.children.length>0?` { ${e.children.map(Xw).join(", ")} } `:"";return`${e.value}${t}`}function vm(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,qn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),qn(t.params,n.params)||e.paramsSubject.next(n.params),nP(t.url,n.url)||e.urlSubject.next(n.url),qn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function xm(e,t){let n=qn(e.params,t.params)&&sP(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||xm(e.parent,t.parent))}function Kw(e){return typeof e.title=="string"||e.title===null}var Yw=new L(""),hl=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=X;activateEvents=new ae;deactivateEvents=new ae;attachEvents=new ae;detachEvents=new ae;routerOutletData=_b(void 0);parentContexts=A(Ss);location=A(Yt);changeDetector=A(ei);inputBinder=A(Rd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Sm(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ye({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ht]})}return e})(),Sm=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Dr?this.route:t===Ss?this.childContexts:t===Yw?this.outletData:this.parent.get(t,n)}},Rd=new L("");function MP(e,t,n){let r=ll(e,t._root,n?n._root:void 0);return new sl(r,t)}function ll(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=AP(e,t,n);return new Lt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ll(e,a)),s}}let r=OP(t.value),i=t.children.map(o=>ll(e,o));return new Lt(r,i)}}function AP(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ll(e,r,i);return ll(e,r)})}function OP(e){return new Dr(new _e(e.url),new _e(e.params),new _e(e.queryParams),new _e(e.fragment),new _e(e.data),e.outlet,e.component,e)}var Ts=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},eD="ngNavigationCancelingError";function Ad(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=oi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=tD(!1,Mt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function tD(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[eD]=!0,n.cancellationCode=t,n}function NP(e){return nD(e)&&oi(e.url)}function nD(e){return!!e&&e[eD]}var RP=(e,t,n,r)=>ee(i=>(new Mm(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Mm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),vm(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=bs(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=bs(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=bs(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=bs(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Td(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Ed(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(vm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vm(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Od=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ds=class{component;route;constructor(t,n){this.component=t,this.route=n}};function PP(e,t,n){let r=e._root,i=t?t._root:null;return Ya(r,i,n,[r.value])}function kP(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ms(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!g_(e)?e:t.get(e):r}function Ya(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=bs(t);return e.children.forEach(s=>{FP(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>tl(a,n.getContext(s),i)),i}function FP(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=LP(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Od(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ya(e,t,a?a.children:null,r,i):Ya(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ds(a.outlet.component,s))}else s&&tl(t,a,i),i.canActivateChecks.push(new Od(r)),o.component?Ya(e,null,a?a.children:null,r,i):Ya(e,null,n,r,i);return i}function LP(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!io(e.url,t.url);case"pathParamsOrQueryParamsChange":return!io(e.url,t.url)||!qn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xm(e,t)||!qn(e.queryParams,t.queryParams);case"paramsChange":default:return!xm(e,t)}}function tl(e,t,n){let r=bs(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?tl(s,t.children.getContext(o),n):tl(s,null,n):tl(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ds(t.outlet.component,i)):n.canDeactivateChecks.push(new Ds(null,i)):n.canDeactivateChecks.push(new Ds(null,i))}function gl(e){return typeof e=="function"}function jP(e){return typeof e=="boolean"}function VP(e){return e&&gl(e.canLoad)}function UP(e){return e&&gl(e.canActivate)}function BP(e){return e&&gl(e.canActivateChild)}function $P(e){return e&&gl(e.canDeactivate)}function HP(e){return e&&gl(e.canMatch)}function rD(e){return e instanceof pn||e?.name==="EmptyError"}var ud=Symbol("INITIAL_VALUE");function xs(){return Pt(e=>Rc(e.map(t=>t.pipe(Qt(1),jp(ud)))).pipe(ee(t=>{for(let n of t)if(n!==!0){if(n===ud)return ud;if(n===!1||qP(n))return n}return!0}),Le(t=>t!==ud),Qt(1)))}function qP(e){return oi(e)||e instanceof Ts}function GP(e,t){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?q(B(T({},n),{guardsResult:!0})):zP(s,r,i,e).pipe(Fe(a=>a&&jP(a)?WP(r,o,e,t):q(a)),ee(a=>B(T({},n),{guardsResult:a})))})}function zP(e,t,n,r){return be(e).pipe(Fe(i=>KP(i.component,i.route,n,t,r)),lr(i=>i!==!0,!0))}function WP(e,t,n,r){return be(t).pipe(ar(i=>Go(ZP(i.route.parent,r),JP(i.route,r),XP(e,i.path,n),QP(e,i.route,n))),lr(i=>i!==!0,!0))}function JP(e,t){return e!==null&&t&&t(new Id(e)),q(!0)}function ZP(e,t){return e!==null&&t&&t(new Dd(e)),q(!0)}function QP(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Pc(()=>{let s=pl(t)??n,a=Ms(o,s),l=UP(a)?a.canActivate(t,e):kt(s,()=>a(t,e));return si(l).pipe(lr())}));return q(i).pipe(xs())}function XP(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>kP(s)).filter(s=>s!==null).map(s=>Pc(()=>{let a=s.guards.map(l=>{let c=pl(s.node)??n,d=Ms(l,c),f=BP(d)?d.canActivateChild(r,e):kt(c,()=>d(r,e));return si(f).pipe(lr())});return q(a).pipe(xs())}));return q(o).pipe(xs())}function KP(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let l=pl(t)??i,c=Ms(a,l),d=$P(c)?c.canDeactivate(e,t,n,r):kt(l,()=>c(e,t,n,r));return si(d).pipe(lr())});return q(s).pipe(xs())}function YP(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let a=Ms(s,e),l=VP(a)?a.canLoad(t,n):kt(e,()=>a(t,n));return si(l)});return q(o).pipe(xs(),iD(r))}function iD(e){return Sp(et(t=>{if(typeof t!="boolean")throw Ad(e,t)}),ee(t=>t===!0))}function ek(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let a=Ms(s,e),l=HP(a)?a.canMatch(t,n):kt(e,()=>a(t,n));return si(l)});return q(o).pipe(xs(),iD(r))}var cl=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ul=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function _s(e){return Ho(new cl(e))}function tk(e){return Ho(new P(4e3,!1))}function nk(e){return Ho(tD(!1,Mt.GuardRejected))}var Am=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[X])return tk(`${t.redirectTo}`);i=i.children[X]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:d,url:f,outlet:h,params:u,data:p,title:g}=i,m=kt(o,()=>a({params:u,data:p,queryParams:l,fragment:c,routeConfig:d,url:f,outlet:h,title:g}));if(m instanceof zn)throw new ul(m);n=m}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new ul(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new zn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new fe(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Om={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rk(e,t,n,r,i){let o=oD(e,t,n);return o.matched?(r=TP(t,r),ek(r,t,n,i).pipe(ee(s=>s===!0?o:T({},Om)))):q(o)}function oD(e,t,n){if(t.path==="**")return ik(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?T({},Om):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Pw)(n,e,t);if(!i)return T({},Om);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?T(T({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function ik(e){return{matched:!0,parameters:e.length>0?Fw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Ow(e,t,n,r){return n.length>0&&ak(e,n,r)?{segmentGroup:new fe(t,sk(r,new fe(n,e.children))),slicedSegments:[]}:n.length===0&&lk(e,n,r)?{segmentGroup:new fe(e.segments,ok(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new fe(e.segments,e.children),slicedSegments:n}}function ok(e,t,n,r){let i={};for(let o of n)if(Pd(e,t,o)&&!r[Dn(o)]){let s=new fe([],{});i[Dn(o)]=s}return T(T({},r),i)}function sk(e,t){let n={};n[X]=t;for(let r of e)if(r.path===""&&Dn(r)!==X){let i=new fe([],{});n[Dn(r)]=i}return n}function ak(e,t,n){return n.some(r=>Pd(e,t,r)&&Dn(r)!==X)}function lk(e,t,n){return n.some(r=>Pd(e,t,r))}function Pd(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ck(e,t,n){return t.length===0&&!e.children[n]}var Nm=class{};function uk(e,t,n,r,i,o,s="emptyOnly"){return new Rm(e,t,n,r,i,s,o).recognize()}var dk=31,Rm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Am(this.urlSerializer,this.urlTree)}noMatchError(t){return new P(4002,`'${t.segmentGroup}'`)}recognize(){let t=Ow(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ee(({children:n,rootSnapshot:r})=>{let i=new Lt(r,n),o=new al("",i),s=Gw(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new oo([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),X,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,X,n).pipe(ee(r=>({children:r,rootSnapshot:n})),sr(r=>{if(r instanceof ul)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof cl?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(ee(s=>s instanceof Lt?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return be(o).pipe(ar(s=>{let a=r.children[s],l=xP(n,s);return this.processSegmentGroup(t,l,a,s,i)}),Lp((s,a)=>(s.push(...a),s)),zr(null),Fp(),Fe(s=>{if(s===null)return _s(r);let a=sD(s);return fk(a),q(a)}))}processSegment(t,n,r,i,o,s,a){return be(n).pipe(ar(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(sr(c=>{if(c instanceof cl)return q(null);throw c}))),lr(l=>!!l),sr(l=>{if(rD(l))return ck(r,i,o)?q(new Nm):_s(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return Dn(r)!==s&&(s===X||!Pd(i,o,r))?_s(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):_s(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:f,remainingSegments:h}=oD(n,i,o);if(!l)return _s(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>dk&&(this.allowRedirects=!1));let u=new oo(o,c,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,Nw(i),Dn(i),i.component??i._loadedComponent??null,i,Rw(i)),p=Md(u,a,this.paramsInheritanceStrategy);u.params=Object.freeze(p.params),u.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,u,t);return this.applyRedirects.lineralizeSegments(i,g).pipe(Fe(m=>this.processSegment(t,r,n,m.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=rk(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Pt(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Pt(({routes:c})=>{let d=r._loadedInjector??t,{parameters:f,consumedSegments:h,remainingSegments:u}=l,p=new oo(h,f,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,Nw(r),Dn(r),r.component??r._loadedComponent??null,r,Rw(r)),g=Md(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:y}=Ow(n,h,u,c);if(y.length===0&&m.hasChildren())return this.processChildren(d,c,m,p).pipe(ee(D=>new Lt(p,D)));if(c.length===0&&y.length===0)return q(new Lt(p,[]));let _=Dn(r)===o;return this.processSegment(d,c,m,y,_?X:o,!0,p).pipe(ee(D=>new Lt(p,D instanceof Lt?[D]:[])))}))):_s(n)))}getChildConfig(t,n,r){return n.children?q({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?q({routes:n._loadedRoutes,injector:n._loadedInjector}):YP(t,n,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(t,n).pipe(et(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):nk(n))):q({routes:[],injector:t})}};function fk(e){e.sort((t,n)=>t.value.outlet===X?-1:n.value.outlet===X?1:t.value.outlet.localeCompare(n.value.outlet))}function pk(e){let t=e.value.routeConfig;return t&&t.path===""}function sD(e){let t=[],n=new Set;for(let r of e){if(!pk(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=sD(r.children);t.push(new Lt(r.value,i))}return t.filter(r=>!n.has(r))}function Nw(e){return e.data||{}}function Rw(e){return e.resolve||{}}function hk(e,t,n,r,i,o){return Fe(s=>uk(e,t,n,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:l})=>B(T({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function gk(e,t){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of aD(l))s.add(c);let a=0;return be(s).pipe(ar(l=>o.has(l)?mk(l,r,e,t):(l.data=Md(l,l.parent,e).resolve,q(void 0))),et(()=>a++),zo(1),Fe(l=>a===s.size?q(n):Et))})}function aD(e){let t=e.children.map(n=>aD(n)).flat();return[e,...t]}function mk(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Kw(i)&&(o[dl]=i.title),yk(o,e,t,r).pipe(ee(s=>(e._resolvedData=s,e.data=Md(e,e.parent,n).resolve,null)))}function yk(e,t,n,r){let i=bm(e);if(i.length===0)return q({});let o={};return be(i).pipe(Fe(s=>vk(e[s],t,n,r).pipe(lr(),et(a=>{if(a instanceof Ts)throw Ad(new ao,a);o[s]=a}))),zo(1),ee(()=>o),sr(s=>rD(s)?Et:Ho(s)))}function vk(e,t,n,r){let i=pl(t)??r,o=Ms(e,i),s=o.resolve?o.resolve(t,n):kt(i,()=>o(t,n));return si(s)}function Cm(e){return Pt(t=>{let n=e(t);return n?be(n).pipe(ee(()=>t)):q(t)})}var km=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===X);return r}getResolvedTitleForRoute(n){return n.data[dl]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>A(lD),providedIn:"root"})}return e})(),lD=(()=>{class e extends km{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(U(Tw))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ml=new L("",{providedIn:"root",factory:()=>({})}),Fm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=$e({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&he(0,"router-outlet")},dependencies:[hl],encapsulation:2})}return e})();function Lm(e){let t=e.children&&e.children.map(Lm),n=t?B(T({},e),{children:t}):T({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=Fm),n}var yl=new L(""),cD=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=A(q0);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=si(n.loadComponent()).pipe(ee(dD),et(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Pn(()=>{this.componentLoaders.delete(n)})),i=new Bo(r,()=>new Se).pipe(Uo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=uD(r,this.compiler,n,this.onLoadEndListener).pipe(Pn(()=>{this.childrenLoaders.delete(r)})),s=new Bo(o,()=>new Se).pipe(Uo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uD(e,t,n,r){return si(e.loadChildren()).pipe(ee(dD),Fe(i=>i instanceof qg||Array.isArray(i)?q(i):be(t.compileModuleAsync(i))),ee(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(yl,[],{optional:!0,self:!0}).flat()),{routes:s.map(Lm),injector:o}}))}function Ck(e){return e&&typeof e=="object"&&"default"in e}function dD(e){return Ck(e)?e.default:e}var kd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>A(_k),providedIn:"root"})}return e})(),_k=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fD=new L("");var pD=new L(""),hD=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Se;transitionAbortSubject=new Se;configLoader=A(cD);environmentInjector=A(ft);destroyRef=A(Au);urlSerializer=A(fl);rootContexts=A(Ss);location=A(gs);inputBindingEnabled=A(Rd,{optional:!0})!==null;titleStrategy=A(km);options=A(ml,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=A(kd);createViewTransition=A(fD,{optional:!0});navigationErrorHandler=A(pD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new bd(i)),r=i=>this.events.next(new wd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(B(T({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new _e(null),this.transitions.pipe(Le(r=>r!==null),Pt(r=>{let i=!1,o=!1;return q(r).pipe(Pt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),Et;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?B(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new wr(s.id,this.urlSerializer.serialize(s.rawUrl),c,rl.IgnoredSameUrlNavigation)),s.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return q(s).pipe(Pt(c=>(this.events.next(new lo(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Et:Promise.resolve(c))),hk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),et(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=B(T({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new il(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:d,source:f,restoredState:h,extras:u}=s,p=new lo(c,this.urlSerializer.serialize(d),f,h);this.events.next(p);let g=Qw(this.rootComponentType).snapshot;return this.currentTransition=r=B(T({},s),{targetSnapshot:g,urlAfterRedirects:d,extras:B(T({},u),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,q(r)}else{let c="";return this.events.next(new wr(s.id,this.urlSerializer.serialize(s.extractedUrl),c,rl.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Et}}),et(s=>{let a=new yd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ee(s=>(this.currentTransition=r=B(T({},s),{guards:PP(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),GP(this.environmentInjector,s=>this.events.next(s)),et(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Ad(this.urlSerializer,s.guardsResult);let a=new vd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Le(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Mt.GuardRejected),!1)),Cm(s=>{if(s.guards.canActivateChecks.length!==0)return q(s).pipe(et(a=>{let l=new Cd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Pt(a=>{let l=!1;return q(a).pipe(gk(this.paramsInheritanceStrategy,this.environmentInjector),et({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Mt.NoDataFromResolver)}}))}),et(a=>{let l=new _d(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Cm(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(et(d=>{l.component=d}),ee(()=>{})));for(let d of l.children)c.push(...a(d));return c};return Rc(a(s.targetSnapshot.root)).pipe(zr(null),Qt(1))}),Cm(()=>this.afterPreactivation()),Pt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?be(l).pipe(ee(()=>r)):q(r)}),ee(s=>{let a=MP(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=B(T({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),et(()=>{this.events.next(new ol)}),RP(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Qt(1),et({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new En(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Ui(this.transitionAbortSubject.pipe(et(s=>{throw s}))),Pn(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),sr(s=>{if(this.destroyed)return r.resolve(!1),Et;if(o=!0,nD(s))this.events.next(new Gn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),NP(s)?this.events.next(new Is(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Es(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=kt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Ts){let{message:c,cancellationCode:d}=Ad(this.urlSerializer,l);this.events.next(new Gn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,d)),this.events.next(new Is(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Et}))}))}cancelNavigationTransition(n,r,i){let o=new Gn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bk(e){return e!==hd}var gD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>A(wk),providedIn:"root"})}return e})(),Nd=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},wk=(()=>{class e extends Nd{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Bn(e)))(i||e)}})();static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mD=(()=>{class e{urlSerializer=A(fl);options=A(ml,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=A(gs);urlHandlingStrategy=A(kd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new zn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof zn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=Qw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>A(Dk),providedIn:"root"})}return e})(),Dk=(()=>{class e extends mD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof lo?this.updateStateMemento():n instanceof wr?this.commitTransition(r):n instanceof il?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ol?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Gn&&(n.code===Mt.GuardRejected||n.code===Mt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Es?this.restoreHistory(r,!0):n instanceof En&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=T(T({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",l)}else{let a=T(T({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Bn(e)))(i||e)}})();static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jm(e,t){e.events.pipe(Le(n=>n instanceof En||n instanceof Gn||n instanceof Es||n instanceof wr),ee(n=>n instanceof En||n instanceof wr?0:(n instanceof Gn?n.code===Mt.Redirect||n.code===Mt.SupersededByNewNavigation:!1)?2:1),Le(n=>n!==2),Qt(1)).subscribe(()=>{t()})}var Ek={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ik={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},As=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=A(T0);stateManager=A(mD);options=A(ml,{optional:!0})||{};pendingTasks=A(Xr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=A(hD);urlSerializer=A(fl);location=A(gs);urlHandlingStrategy=A(kd);_events=new Se;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=A(gD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=A(yl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!A(Rd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ne;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Gn&&r.code!==Mt.Redirect&&r.code!==Mt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof En)this.navigated=!0;else if(r instanceof Is){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=T({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bk(i.source)},s);this.scheduleNavigation(a,hd,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}xk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),hd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=T({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Lm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=T(T({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=i?i.snapshot:this.routerState.snapshot.root;f=zw(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return Ww(f,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=oi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,hd,null,r)}navigate(n,r={skipLocationChange:!1}){return Tk(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=T({},Ek):r===!1?i=T({},Ik):i=r,oi(n))return xw(this.currentUrlTree,n,i);let o=this.parseUrl(n);return xw(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,h)=>{a=f,l=h});let d=this.pendingTasks.add();return jm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Tk(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new P(4008,!1)}function xk(e){return!(e instanceof ol)&&!(e instanceof Is)}var Os=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Se;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof En&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(oi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:Bb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:oi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(R(As),R(Dr),_g("tabindex"),R($n),R(St),R(hs))};static \u0275dir=ye({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&j("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ft("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",to],skipLocationChange:[2,"skipLocationChange","skipLocationChange",to],replaceUrl:[2,"replaceUrl","replaceUrl",to],routerLink:"routerLink"},features:[ht]})}return e})(),Vm=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ae;constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof En&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(qo()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=be(n).pipe(qo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=Mk(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||e)(R(As),R(St),R($n),R(ei),R(Os,8))};static \u0275dir=ye({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&U0(o,Os,5),r&2){let s;fs(s=ps())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ht]})}return e})();function Mk(e){return!!e.paths}var Ak=new L("");function Um(e,...t){return is([{provide:yl,multi:!0,useValue:e},[],{provide:Dr,useFactory:Ok,deps:[As]},{provide:Wg,multi:!0,useFactory:Nk},t.map(n=>n.\u0275providers)])}function Ok(e){return e.routerState.root}function Nk(){let e=A(dr);return t=>{let n=e.get(Ki);if(t!==n.components[0])return;let r=e.get(As),i=e.get(Rk);e.get(Pk)===1&&r.initialNavigation(),e.get(kk,null,K.Optional)?.setUpPreloading(),e.get(Ak,null,K.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Rk=new L("",{factory:()=>new Se}),Pk=new L("",{providedIn:"root",factory:()=>1});var kk=new L("");var Wn=class e{name;action="use";constraints=[];constructor(t){this.name=t}clone(){let t=new e;return t.action=this.action,t.name=this.name,t.constraints=this.constraints.map(n=>n.clone()),t}toString(){return`(${this.action.toString()}) constraints: [ ${this.constraints.map(t=>t.toString()).join(",")} ]`}},co=class e{operator="And";constraints=[];clone(){let t=new e;return t.operator=this.operator,t.constraints=this.constraints.map(n=>n.clone()),t}get_prefixes(){return this.constraints.flatMap(t=>t.get_prefixes())}get_contexts(){return this.constraints.flatMap(t=>t.get_contexts())}toString(){return`${this.operator} Constraint`}},le=class e{leftOperand;operator;selectedOperator;rightOperand;rightOperandValue;contexts=[];prefixes=[];label;constructor(t,n,r){this.leftOperand=t,this.operator=n.map(i=>this._stringToOperator(i)),this.rightOperand=r,this.selectedOperator=this.operator[0],Array.isArray(r)?this.rightOperandValue=[structuredClone(this.rightOperand[0])]:this.rightOperandValue=structuredClone(this.rightOperand)}_stringToOperator(t){try{return t}catch(n){throw new Error(`Unsupported operator "${t}": ${n}`)}}clone(){let t=new e(this.leftOperand,this.operator,this.rightOperand);return t.contexts=this.contexts,t.label=this.label,t.prefixes=this.prefixes,t.rightOperandValue=structuredClone(this.rightOperandValue),t.selectedOperator=this.selectedOperator,t}get_prefixes(){return this.prefixes}get_contexts(){return this.contexts}get_label(){return this.label!=null?this.label:this.leftOperand}with_context(t){return this.contexts.push(t),this}with_prefix(t){return this.prefixes.push(t),this}with_label(t){return this.label=t,this}mapRightOperand(){let t=n=>n.const?n.const:n.value?n.value:"";return Array.isArray(this.rightOperandValue)?this.rightOperandValue.map(n=>t(n)):t(this.rightOperandValue)}prettyRightOperandValue(){let t=this.mapRightOperand(),n=r=>typeof r=="string"?`"${r}"`:r;return Array.isArray(t)?t.map(n).join(", "):n(t)}toString(){return`Constraint ${qe(this.leftOperand)} - ${qe(this.selectedOperator.toString(),!0)} - ${this.prettyRightOperandValue()}`}};function qe(e,t){let n=e.replace(/([a-z])([A-Z])/g,"$1 $2");return t?n.toUpperCase():n}var $m=(n=>(n.And="And",n.Or="Or",n))($m||{}),Er=(n=>(n.Use="use",n.Access="access",n))(Er||{});var Bm=class e{type="use";permissions=[];obligations=[];prohibitions=[];clone(){let t=new e;return t.permissions=this.permissions.map(n=>n.clone()),t}},uo=class e{name;description;policy;constructor(t){this.name=t,this.policy=new Bm}clone(){let t=new e(this.name+" (Copy)");return t.policy=this.policy.clone(),t}},vl=(n=>(n.Prefixed="Prefixed",n.Plain="Plain",n))(vl||{});var ID=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(R($n),R(St))};static \u0275dir=ye({type:e})}return e})(),Gd=(()=>{class e extends ID{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Bn(e)))(i||e)}})();static \u0275dir=ye({type:e,features:[mt]})}return e})(),ks=new L(""),Fk={provide:ks,useExisting:Kt(()=>Wm),multi:!0},Wm=(()=>{class e extends Gd{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Bn(e)))(i||e)}})();static \u0275dir=ye({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&j("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Hn([Fk]),mt]})}return e})(),Lk={provide:ks,useExisting:Kt(()=>Jn),multi:!0};function jk(){let e=en()?en().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Vk=new L(""),Jn=(()=>{class e extends ID{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!jk())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(R($n),R(St),R(Vk,8))};static \u0275dir=ye({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&j("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Hn([Lk]),mt]})}return e})();function Jm(e){return e==null||Zm(e)===0}function Zm(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Dl=new L(""),Qm=new L(""),Uk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,nt=class{static min(t){return Bk(t)}static max(t){return $k(t)}static required(t){return TD(t)}static requiredTrue(t){return Hk(t)}static email(t){return qk(t)}static minLength(t){return Gk(t)}static maxLength(t){return zk(t)}static pattern(t){return xD(t)}static nullValidator(t){return Ld()}static compose(t){return RD(t)}static composeAsync(t){return kD(t)}};function Bk(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function $k(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function TD(e){return Jm(e.value)?{required:!0}:null}function Hk(e){return e.value===!0?null:{required:!0}}function qk(e){return Jm(e.value)||Uk.test(e.value)?null:{email:!0}}function Gk(e){return t=>{let n=t.value?.length??Zm(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function zk(e){return t=>{let n=t.value?.length??Zm(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function xD(e){if(!e)return Ld;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(Jm(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Ld(e){return null}function SD(e){return e!=null}function MD(e){return Kr(e)?be(e):e}function AD(e){let t={};return e.forEach(n=>{t=n!=null?T(T({},t),n):t}),Object.keys(t).length===0?null:t}function OD(e,t){return t.map(n=>n(e))}function Wk(e){return!e.validate}function ND(e){return e.map(t=>Wk(t)?t:n=>t.validate(n))}function RD(e){if(!e)return null;let t=e.filter(SD);return t.length==0?null:function(n){return AD(OD(n,t))}}function PD(e){return e!=null?RD(ND(e)):null}function kD(e){if(!e)return null;let t=e.filter(SD);return t.length==0?null:function(n){let r=OD(n,t).map(MD);return kp(r).pipe(ee(AD))}}function FD(e){return e!=null?kD(ND(e)):null}function yD(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function LD(e){return e._rawValidators}function jD(e){return e._rawAsyncValidators}function Hm(e){return e?Array.isArray(e)?e:[e]:[]}function jd(e,t){return Array.isArray(e)?e.includes(t):e===t}function vD(e,t){let n=Hm(t);return Hm(e).forEach(i=>{jd(n,i)||n.push(i)}),n}function CD(e,t){return Hm(t).filter(n=>!jd(e,n))}var Vd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=PD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=FD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},fo=class extends Vd{name;get formDirective(){return null}get path(){return null}},po=class extends Vd{_parent=null;name=null;valueAccessor=null},Ud=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Jk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Uz=B(T({},Jk),{"[class.ng-submitted]":"isSubmitted"}),Zn=(()=>{class e extends Ud{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(R(po,2))};static \u0275dir=ye({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Yr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[mt]})}return e})(),Fs=(()=>{class e extends Ud{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(R(fo,10))};static \u0275dir=ye({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Yr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[mt]})}return e})();var Cl="VALID",Fd="INVALID",Ns="PENDING",_l="DISABLED",ai=class{},Bd=class extends ai{value;source;constructor(t,n){super(),this.value=t,this.source=n}},bl=class extends ai{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},wl=class extends ai{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Rs=class extends ai{status;source;constructor(t,n){super(),this.status=t,this.source=n}},qm=class extends ai{source;constructor(t){super(),this.source=t}},Gm=class extends ai{source;constructor(t){super(),this.source=t}};function VD(e){return(zd(e)?e.validators:e)||null}function Zk(e){return Array.isArray(e)?PD(e):e||null}function UD(e,t){return(zd(t)?t.asyncValidators:e)||null}function Qk(e){return Array.isArray(e)?FD(e):e||null}function zd(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Xk(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new P(1e3,"");if(!r[n])throw new P(1001,"")}function Kk(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new P(1002,"")})}var $d=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return wn(this.statusReactive)}set status(t){wn(()=>this.statusReactive.set(t))}_status=Va(()=>this.statusReactive());statusReactive=ka(void 0);get valid(){return this.status===Cl}get invalid(){return this.status===Fd}get pending(){return this.status==Ns}get disabled(){return this.status===_l}get enabled(){return this.status!==_l}errors;get pristine(){return wn(this.pristineReactive)}set pristine(t){wn(()=>this.pristineReactive.set(t))}_pristine=Va(()=>this.pristineReactive());pristineReactive=ka(!0);get dirty(){return!this.pristine}get touched(){return wn(this.touchedReactive)}set touched(t){wn(()=>this.touchedReactive.set(t))}_touched=Va(()=>this.touchedReactive());touchedReactive=ka(!1);get untouched(){return!this.touched}_events=new Se;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(vD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(vD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(CD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(CD(t,this._rawAsyncValidators))}hasValidator(t){return jd(this._rawValidators,t)}hasAsyncValidator(t){return jd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(B(T({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new wl(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new wl(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(B(T({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new bl(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new bl(!0,r))}markAsPending(t={}){this.status=Ns;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Rs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(B(T({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=_l,this.errors=null,this._forEachChild(i=>{i.disable(B(T({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Bd(this.value,r)),this._events.next(new Rs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(T({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Cl,this._forEachChild(r=>{r.enable(B(T({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(B(T({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cl||this.status===Ns)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Bd(this.value,n)),this._events.next(new Rs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(B(T({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_l:Cl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Ns,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=MD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Rs(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?_l:this.errors?Fd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ns)?Ns:this._anyControlsHaveStatus(Fd)?Fd:Cl}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new bl(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new wl(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){zd(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Zk(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Qk(this._rawAsyncValidators)}},Ps=class extends $d{constructor(t,n,r){super(VD(n),UD(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Kk(this,!0,t),Object.keys(t).forEach(r=>{Xk(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Wd=new L("",{providedIn:"root",factory:()=>Jd}),Jd="always";function BD(e,t){return[...t.path,e]}function zm(e,t,n=Jd){Xm(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),eF(e,t),nF(e,t),tF(e,t),Yk(e,t)}function _D(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),qd(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Hd(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Yk(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Xm(e,t){let n=LD(e);t.validator!==null?e.setValidators(yD(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=jD(e);t.asyncValidator!==null?e.setAsyncValidators(yD(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Hd(t._rawValidators,i),Hd(t._rawAsyncValidators,i)}function qd(e,t){let n=!1;if(e!==null){if(t.validator!==null){let i=LD(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let i=jD(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}let r=()=>{};return Hd(t._rawValidators,r),Hd(t._rawAsyncValidators,r),n}function eF(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&$D(e,t)})}function tF(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&$D(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function $D(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function nF(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function rF(e,t){e==null,Xm(e,t)}function iF(e,t){return qd(e,t)}function HD(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function oF(e){return Object.getPrototypeOf(e.constructor)===Gd}function sF(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function qD(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Jn?n=o:oF(o)?r=o:i=o}),i||r||n||null}function aF(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function bD(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function wD(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var At=class extends $d{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(VD(n),UD(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(wD(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){bD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){bD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){wD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var lF=e=>e instanceof At;var cF={provide:po,useExisting:Kt(()=>Qn)},DD=Promise.resolve(),Qn=(()=>{class e extends po{_changeDetectorRef;callSetDisabledState;control=new At;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ae;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=qD(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),HD(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){DD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&to(r);DD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?BD(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(R(fo,9),R(Dl,10),R(Qm,10),R(ks,10),R(ei,8),R(Wd,8))};static \u0275dir=ye({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Hn([cF]),mt,ht]})}return e})();var GD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ye({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var zD=new L("");var uF={provide:fo,useExisting:Kt(()=>ho)},ho=(()=>{class e extends fo{callSetDisabledState;get submitted(){return wn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Va(()=>this._submittedReactive());_submittedReactive=ka(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ae;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return zm(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){_D(n.control||null,n,!1),aF(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),sF(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new qm(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Gm(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(_D(r||null,n),lF(i)&&(zm(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);rF(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&iF(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xm(this.form,this),this._oldForm&&qd(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(R(Dl,10),R(Qm,10),R(Wd,8))};static \u0275dir=ye({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&j("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Hn([uF]),mt,ht]})}return e})();var dF={provide:po,useExisting:Kt(()=>El)},El=(()=>{class e extends po{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new ae;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=qD(this,o)}ngOnChanges(n){this._added||this._setUpControl(),HD(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return BD(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(R(fo,13),R(Dl,10),R(Qm,10),R(ks,10),R(zD,8))};static \u0275dir=ye({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Hn([dF]),mt,ht]})}return e})();var fF={provide:ks,useExisting:Kt(()=>Ir),multi:!0};function WD(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function pF(e){return e.split(":")[0]}var Ir=(()=>{class e extends Gd{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=WD(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=pF(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Bn(e)))(i||e)}})();static \u0275dir=ye({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&j("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Hn([fF]),mt]})}return e})(),go=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(WD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(R(St),R($n),R(Ir,9))};static \u0275dir=ye({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),hF={provide:ks,useExisting:Kt(()=>JD),multi:!0};function ED(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function gF(e){return e.split(":")[0]}var JD=(()=>{class e extends Gd{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=gF(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Bn(e)))(i||e)}})();static \u0275dir=ye({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&j("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Hn([hF]),mt]})}return e})(),mo=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(ED(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(ED(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(R(St),R($n),R(JD,9))};static \u0275dir=ye({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var ZD=(()=>{class e{_validator=Ld;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ld,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ye({type:e,features:[ht]})}return e})();var mF={provide:Dl,useExisting:Kt(()=>Zd),multi:!0};var Zd=(()=>{class e extends ZD{required;inputName="required";normalizeInput=to;createValidator=n=>TD;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Bn(e)))(i||e)}})();static \u0275dir=ye({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ft("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Hn([mF]),mt]})}return e})();var yF={provide:Dl,useExisting:Kt(()=>Km),multi:!0},Km=(()=>{class e extends ZD{pattern;inputName="pattern";normalizeInput=n=>n;createValidator=n=>xD(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Bn(e)))(i||e)}})();static \u0275dir=ye({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ft("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[Hn([yF]),mt]})}return e})();var QD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=vr({type:e});static \u0275inj=hr({})}return e})();var In=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Wd,useValue:n.callSetDisabledState??Jd}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=vr({type:e});static \u0275inj=hr({imports:[QD]})}return e})(),Ls=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:zD,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Wd,useValue:n.callSetDisabledState??Jd}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=vr({type:e});static \u0275inj=hr({imports:[QD]})}return e})();var vF=(e,t)=>t.name;function CF(e,t){if(e&1&&(v(0,"option",9),w(1),C()),e&2){let n=t.$implicit,r=I(2);V("ngValue",n),E(),ge(r.camelCaseToWords(n.name))}}function _F(e,t){if(e&1){let n=oe();v(0,"input",13),ze("ngModelChange",function(i){G(n);let o=I(2);return tt(o.rightOperand.const,i)||(o.rightOperand.const=i),z(i)}),C()}if(e&2){let n=I(2);V("type",n.getOperandType()),Ge("ngModel",n.rightOperand.const)}}function bF(e,t){if(e&1){let n=oe();Cr(0,11),v(1,"input",14),ze("ngModelChange",function(i){G(n);let o=I(2);return tt(o.rightOperand.value,i)||(o.rightOperand.value=i),z(i)}),C(),_r()}if(e&2){let n=I(2);V("formGroup",n.parentFormGroup),E(),V("formGroup",n.parentFormGroup)("type",n.getOperandType())("pattern",n.rightOperand.pattern)("formControlName",n.uuid),Ge("ngModel",n.rightOperand.value)}}function wF(e,t){if(e&1){let n=oe();v(0,"input",15),ze("ngModelChange",function(i){G(n);let o=I(2);return tt(o.rightOperand.value,i)||(o.rightOperand.value=i),z(i)}),C()}if(e&2){let n=I(2);V("type",n.getOperandType()),Ge("ngModel",n.rightOperand.value)}}function DF(e,t){if(e&1){let n=oe();v(0,"div",2)(1,"label",6)(2,"span",7),w(3,"Type"),C(),v(4,"select",8),ze("ngModelChange",function(i){G(n);let o=I();return tt(o.rightOperand,i)||(o.rightOperand=i),z(i)}),j("ngModelChange",function(i){G(n);let o=I();return z(o.onOperandChange(i))}),Ae(5,CF,2,2,"option",9,vF),C()(),$(7,_F,1,2,"input",10)(8,bF,2,6,"ng-container",11)(9,wF,1,2,"input",12),C()}if(e&2){let n=I();E(4),Ge("ngModel",n.rightOperand),V("compareWith",n.compare),E(),Oe(n.selectTypes),E(2),W(n.rightOperand.const?7:n.rightOperand.pattern?8:9)}}function EF(e,t){if(e&1){let n=oe();v(0,"input",18),ze("ngModelChange",function(i){G(n);let o=I(2);return tt(o.rightOperand.const,i)||(o.rightOperand.const=i),z(i)}),C()}if(e&2){let n=I(2);V("type",n.getOperandType()),Ge("ngModel",n.rightOperand.const)}}function IF(e,t){if(e&1){let n=oe();Cr(0,11),v(1,"input",19),ze("ngModelChange",function(i){G(n);let o=I(2);return tt(o.rightOperand.value,i)||(o.rightOperand.value=i),z(i)}),C(),_r()}if(e&2){let n=I(2);V("formGroup",n.parentFormGroup),E(),V("type",n.getOperandType())("pattern",n.rightOperand.pattern)("formControlName",n.uuid),Ge("ngModel",n.rightOperand.value)}}function TF(e,t){if(e&1){let n=oe();v(0,"input",20),ze("ngModelChange",function(i){G(n);let o=I(2);return tt(o.rightOperand.value,i)||(o.rightOperand.value=i),z(i)}),C()}if(e&2){let n=I(2);V("type",n.getOperandType()),Ge("ngModel",n.rightOperand.value)}}function xF(e,t){if(e&1&&(v(0,"label",3)(1,"span",7),w(2),C(),$(3,EF,1,2,"input",16)(4,IF,2,5,"ng-container",11)(5,TF,1,2,"input",17),C()),e&2){let n=I();E(2),ge(n.camelCaseToWords(n.rightOperand.name)),E(),W(n.rightOperand.const?3:n.rightOperand.pattern?4:5)}}function SF(e,t){if(e&1&&(v(0,"p",4),w(1),C()),e&2){let n=I();E(),bn("Does not match pattern: ",n.rightOperand.pattern,"")}}function MF(e,t){if(e&1){let n=oe();v(0,"button",21),j("click",function(){G(n);let i=I();return z(i.onDelete())}),v(1,"span",22),w(2,"delete"),C()()}}var Qd=class e{rightOperand;selectTypes;parentFormGroup;deleteButton=!1;changed=new ae;deleted=new ae;uuid=crypto.randomUUID();ngOnInit(){this.updateFormGroup()}getOperandType(){return this.rightOperand.operandType==="string"?"string":"number"}onOperandChange(t){this.changed.emit(t),this.updateFormGroup()}onDelete(){this.parentFormGroup.get(this.uuid)&&this.parentFormGroup.removeControl(this.uuid),this.deleted.emit(this.rightOperand)}compare(t,n){return t&&n&&t.name===n.name}updateFormGroup(){this.rightOperand.pattern?this.parentFormGroup.setControl(this.uuid,new At(this.rightOperand.value??"",[nt.required,nt.pattern(this.rightOperand.pattern)])):this.parentFormGroup.get(this.uuid)&&this.parentFormGroup.removeControl(this.uuid)}camelCaseToWords=qe;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=$e({type:e,selectors:[["app-right-operand"]],inputs:{rightOperand:"rightOperand",selectTypes:"selectTypes",parentFormGroup:"parentFormGroup",deleteButton:"deleteButton"},outputs:{changed:"changed",deleted:"deleted"},decls:6,vars:3,consts:[[1,"flex","flex-row","items-center"],[1,"flex-1"],[1,"join","w-full"],[1,"input","w-full"],[1,"fieldset-label","text-error","pl-2"],["type","button",1,"ml-2","btn","btn-sm","btn-square","btn-soft","btn-error"],[1,"join-item","input","w-fit"],[1,"label"],[3,"ngModelChange","ngModel","compareWith"],[3,"ngValue"],["disabled","",1,"join-item","input","input-bordered","w-full",3,"type","ngModel"],[3,"formGroup"],["required","",1,"join-item","input","input-bordered","w-full",3,"type","ngModel"],["disabled","",1,"join-item","input","input-bordered","w-full",3,"ngModelChange","type","ngModel"],["required","",1,"w-full",3,"ngModelChange","formGroup","type","pattern","formControlName","ngModel"],["required","",1,"join-item","input","input-bordered","w-full",3,"ngModelChange","type","ngModel"],["disabled","",1,"w-full",3,"type","ngModel"],["required","",1,"w-full",3,"type","ngModel"],["disabled","",1,"w-full",3,"ngModelChange","type","ngModel"],["required","",1,"w-full",3,"ngModelChange","type","pattern","formControlName","ngModel"],["required","",1,"w-full",3,"ngModelChange","type","ngModel"],["type","button",1,"ml-2","btn","btn-sm","btn-square","btn-soft","btn-error",3,"click"],[1,"material-symbols-rounded"]],template:function(n,r){if(n&1&&(v(0,"div",0)(1,"div",1),$(2,DF,10,3,"div",2)(3,xF,6,2,"label",3)(4,SF,2,1,"p",4),C(),$(5,MF,3,0,"button",5),C()),n&2){let i;E(2),W(r.selectTypes&&r.selectTypes.length>1?2:3),E(2),W(r.rightOperand.pattern&&((i=r.parentFormGroup.get(r.uuid))!=null&&i.invalid)?4:-1),E(),W(r.deleteButton?5:-1)}},dependencies:[Ls,go,mo,Jn,Ir,Zn,Fs,Zd,Km,ho,El,In,Qn],encapsulation:2})};function AF(e,t){if(e&1){let n=oe();v(0,"div",5)(1,"span",12),w(2,"warning"),C(),v(3,"div")(4,"span"),w(5,"All right operands except the first will be deleted!"),C()(),v(6,"div")(7,"button",13),j("click",function(){G(n);let i=I();return z(i.resetToSingleItem())}),w(8," Accept "),C(),v(9,"button",14),j("click",function(){G(n);let i=I();return z(i.revertOperatorSelection())}),w(10,"Cancel"),C()()()}}function OF(e,t){if(e&1&&(v(0,"option",16),w(1),C()),e&2){let n=t.$implicit,r=I(2);V("value",n),E(),ge(r.camelCaseToWords(n,!0))}}function NF(e,t){if(e&1){let n=oe();v(0,"select",15),ze("ngModelChange",function(i){G(n);let o=I();return tt(o.constraint.selectedOperator,i)||(o.constraint.selectedOperator=i),z(i)}),j("change",function(){G(n);let i=I();return z(i.onOperatorChange())}),Ae(1,OF,2,2,"option",16,_n),C()}if(e&2){let n=I();Ge("ngModel",n.constraint.selectedOperator),V("disabled",n.constraint.operator.length===1),E(),Oe(n.constraint.operator)}}function RF(e,t){if(e&1){let n=oe();v(0,"app-right-operand",20),j("changed",function(i){let o=G(n).$index,s=I(2);return z(s.onRightOperandChange(i,o))})("deleted",function(i){G(n);let o=I(2);return z(o.onRightOperandDelete(i))}),C()}if(e&2){let n=t.$implicit,r=t.$index,i=I(2);V("rightOperand",n)("selectTypes",i.getRightOperands())("parentFormGroup",i.form)("deleteButton",r>0)}}function PF(e,t){if(e&1){let n=oe();Ae(0,RF,1,4,"app-right-operand",17,_n),he(2,"div",18),v(3,"button",19),j("click",function(){G(n);let i=I();return z(i.addOperand())}),v(4,"span",11),w(5,"add"),C(),w(6," Add "),C()}if(e&2){let n=I();Oe(n.rightOperands)}}function kF(e,t){if(e&1&&he(0,"app-right-operand",8),e&2){let n=I();V("rightOperand",n.rightOperand)("parentFormGroup",n.form)("selectTypes",n.getRightOperands())}}var Xd=class e{arrayOperators=["isAllOf","isAnyOf","isNoneOf"];constraint;rightOperand;rightOperands;selectedOperator="eq";operatorWarning=!1;form=new Ps({});save=new ae;ngOnChanges(){this.selectedOperator=this.constraint.selectedOperator,Array.isArray(this.constraint.rightOperandValue)?this.isArrayOperator()?this.rightOperands=this.constraint.rightOperandValue:this.rightOperand=this.constraint.rightOperandValue[0]:this.rightOperand=this.constraint.rightOperandValue}isArrayOperator(t){return this.arrayOperators.includes(t??this.selectedOperator)}resetToSingleItem(){if(this.rightOperands?.[0])this.rightOperand=this.rightOperands[0],this.rightOperands=void 0,this.selectedOperator=this.constraint.selectedOperator,this.operatorWarning=!1;else throw new Error("rightOperands must contain at least one element.")}resetToArray(){if(this.rightOperand)this.rightOperands=[structuredClone(this.rightOperand)],this.rightOperand=void 0,this.selectedOperator=this.constraint.selectedOperator;else throw new Error("rightOperand can not be undefined.")}revertOperatorSelection(){this.constraint.selectedOperator=this.selectedOperator,this.operatorWarning=!1}onOperatorChange(){this.isArrayOperator()&&!this.isArrayOperator(this.constraint.selectedOperator)&&this.rightOperands?this.rightOperands.length>1?this.operatorWarning=!0:this.resetToSingleItem():!this.isArrayOperator()&&this.isArrayOperator(this.constraint.selectedOperator)&&this.rightOperand&&this.resetToArray()}getRightOperands(){return Array.isArray(this.constraint.rightOperand)?this.constraint.rightOperand:void 0}onRightOperandChange(t,n){this.rightOperands?this.rightOperands[n]=t:this.rightOperand=t}onRightOperandDelete(t){this.rightOperands=this.rightOperands?.filter(n=>n!==t)}addOperand(){Array.isArray(this.constraint.rightOperand)&&this.rightOperands?.push(structuredClone(this.constraint.rightOperand[0]))}onSave(){this.constraint.rightOperandValue=this.rightOperands??this.rightOperand,this.save.emit(this.constraint)}camelCaseToWords=qe;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=$e({type:e,selectors:[["app-atomic-constraint"]],inputs:{constraint:"constraint"},outputs:{save:"save"},features:[ht],decls:23,vars:6,consts:[[1,"flex","flex-col","gap-y-4","items-center","h-full","overflow-y-auto"],[1,"text-xl","text-center","divider","my-0","2xl:col-span-2"],[1,"fieldset","bg-base-300","border-base-300","rounded-box","w-5xl","border","p-4"],[1,"fieldset-legend","text-sm","justify-start","w-full"],["type","text",1,"input","input-bordered","w-full",3,"ngModelChange","ngModel","disabled"],["role","alert",1,"alert","alert-warning","alert-horizontal"],[1,"select","select-bordered","w-full",3,"ngModel","disabled"],[1,"fieldset","w-5xl","bg-base-300","border","border-base-300","p-4","rounded-box",3,"formGroup"],[3,"rightOperand","parentFormGroup","selectTypes"],[1,"divider","my-0"],["type","button",1,"btn","btn-lg","btn-primary","w-fit",3,"click","disabled"],[1,"material-symbols-rounded"],[1,"material-symbols-rounded","!text-3xl"],["type","button",1,"btn","btn-sm","btn-outline","hover:btn-error",3,"click"],["type","button",1,"btn","btn-sm","ml-3",3,"click"],[1,"select","select-bordered","w-full",3,"ngModelChange","change","ngModel","disabled"],[3,"value"],[3,"rightOperand","selectTypes","parentFormGroup","deleteButton"],[1,"divider","my-1"],["type","button",1,"btn","btn-soft","btn-sm","btn-primary","w-fit","justify-self-end",3,"click"],[3,"changed","deleted","rightOperand","selectTypes","parentFormGroup","deleteButton"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),w(2,"Atomic Constraint"),C(),v(3,"fieldset",2)(4,"legend",3),w(5,"Left Operand"),C(),v(6,"input",4),ze("ngModelChange",function(o){return tt(r.constraint.leftOperand,o)||(r.constraint.leftOperand=o),o}),C()(),v(7,"fieldset",2)(8,"legend",3)(9,"span"),w(10,"Operator"),C()(),$(11,AF,11,0,"div",5)(12,NF,3,2,"select",6),C(),v(13,"fieldset",7)(14,"legend",3),w(15,"Right Operand"),C(),$(16,PF,7,0)(17,kF,1,3,"app-right-operand",8),C(),he(18,"div",9),v(19,"button",10),j("click",function(){return r.onSave()}),v(20,"span",11),w(21,"save"),C(),w(22," Save Atomic Constraint "),C()()),n&2&&(E(6),Ge("ngModel",r.constraint.leftOperand),V("disabled",!0),E(5),W(r.operatorWarning?11:12),E(2),V("formGroup",r.form),E(3),W(r.isArrayOperator()?16:r.rightOperand?17:-1),E(3),V("disabled",r.form.invalid))},dependencies:[In,go,mo,Jn,Ir,Zn,Fs,Qn,Qd,Ls,ho],encapsulation:2})};var FF={edc:"https://w3id.org/edc/v0.0.1/ns/",tx:"https://w3id.org/tractusx/v0.0.1/ns/",xsd:"http://www.w3.org/2001/XMLSchema#",odrl:"http://www.w3.org/ns/odrl/2/"},li=class e{logicalOperators(){return this.values($m)}actions(){return this.values(Er)}supportedOutput(){return this.values(vl)}values(t){return Object.values(t).filter(n=>typeof n=="string")}namespacesFor(t){let n={};return t.policy.permissions.flatMap(r=>r.constraints).map(r=>r.get_prefixes()).flat().forEach(r=>{let i=FF[r];n[r]=i??`https://<${r}-namespace-here>`}),n}contextsFor(t){let n=t.policy.permissions.flatMap(r=>r.constraints).flatMap(r=>r.get_contexts());return Array.from(new Set(n))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var kv=Nx(mx(),1);function gV(e,t){e&1&&w(0," info ")}function mV(e,t){e&1&&w(0," check_circle ")}function yV(e,t){e&1&&w(0," warning ")}function vV(e,t){e&1&&w(0," error_outline ")}function CV(e,t){if(e&1&&(v(0,"h3",3),w(1),C()),e&2){let n=I();E(),ge(n.title)}}function _V(e,t){if(e&1){let n=oe();v(0,"div",6),j("click",function(){G(n);let i=I();return z(i.close())}),v(1,"button",5)(2,"span",7),w(3,"close"),C()()()}if(e&2){let n=I();N0("--value:"+n.countdown+";")}}function bV(e,t){if(e&1){let n=oe();v(0,"button",8),j("click",function(){G(n);let i=I();return z(i.close())}),v(1,"span",7),w(2,"close"),C()()}}var wV=["componentCard"];function DV(e,t){}function EV(e,t){e&1&&(v(0,"p",8),w(1,"Mandatory"),C())}function IV(e,t){e&1&&(v(0,"p",8),w(1,"Enter a valid URL"),C())}function TV(e,t){e&1&&(v(0,"p",8),w(1,"Enter a valid URL"),C())}function xV(e,t){e&1&&(v(0,"p",8),w(1,"Enter a valid URL"),C())}function SV(e,t){e&1&&(v(0,"p",8),w(1,"Enter a valid URL"),C())}function MV(e,t){if(e&1&&(v(0,"legend",4),w(1,"Federated Catalog API"),C(),v(2,"label",5)(3,"span",6),w(4,"link"),C(),he(5,"input",20),C(),$(6,SV,2,0,"p",8)),e&2){let n,r,i=I();E(2),V("ngClass",(n=i.connectorForm.get("federatedCatalogUrl"))!=null&&n.invalid?"input-error":""),E(4),W((r=i.connectorForm.get("federatedCatalogUrl"))!=null&&r.invalid?6:-1)}}function AV(e,t){e&1&&(v(0,"p",8),w(1,"Enter a valid DID web"),C())}function OV(e,t){if(e&1&&(v(0,"legend",4),w(1,"Connector DID"),C(),v(2,"label",5)(3,"span",6),w(4,"link"),C(),he(5,"input",21),C(),$(6,AV,2,0,"p",8)),e&2){let n,r,i=I();E(2),V("ngClass",(n=i.connectorForm.get("did"))!=null&&n.invalid?"input-error":""),E(4),W((r=i.connectorForm.get("did"))!=null&&r.invalid?6:-1)}}function NV(e,t){if(e&1){let n=oe();v(0,"lib-alert",22),j("closeEvent",function(){G(n);let i=I();return z(i.errorMsg="")}),C()}if(e&2){let n=I();V("msg",n.errorMsg)}}function RV(e,t){e&1&&he(0,"span",19)}function PV(e,t){e&1&&(v(0,"span",23),w(1,"add"),C(),w(2," Add Connector "))}var kV=["dashboardModal"],FV=["dashboardAlert"],LV=(e,t)=>[e,t],yx=(e,t)=>t.connectorName;function jV(e,t){}function VV(e,t){}function UV(e,t){e&1&&(v(0,"span",11),w(1,"menu_open"),C())}function BV(e,t){e&1&&(v(0,"span",11),w(1,"menu"),C())}function $V(e,t){if(e&1){let n=oe();v(0,"li")(1,"input",32),Ie(2,"async"),j("click",function(){let i=G(n).$implicit,o=I(2);return z(o.selectConnector(i))}),C()()}if(e&2){let n=t.$implicit,r=I(2);E(),V("value",n.connectorName)("checked",n===Te(2,3,r.stateService.currentEdcConfig$)),Ft("aria-label",n.connectorName)}}function HV(e,t){if(e&1){let n=oe();v(0,"li",33)(1,"input",37),Ie(2,"async"),j("click",function(){let i=G(n).$implicit,o=I(3);return z(o.selectConnector(i))}),C(),v(3,"div",38),j("click",function(){let i=G(n).$implicit,o=I(3);return z(o.deleteConnector(i))}),v(4,"span",36),w(5,"delete"),C()()()}if(e&2){let n=t.$implicit,r=I(3);E(),V("value",n.connectorName)("checked",n===Te(2,3,r.stateService.currentEdcConfig$)),Ft("aria-label",n.connectorName)}}function qV(e,t){if(e&1){let n=oe();Ae(0,HV,6,5,"li",33,yx),Ie(2,"async"),he(3,"div",34),v(4,"li")(5,"button",35),j("click",function(){G(n);let i=I(2);return z(i.addConnector())}),v(6,"span",36),w(7,"add"),C(),w(8," Add "),C()()}if(e&2){let n=I(2);Oe(Te(2,0,n.stateService.localStorageEdcConfigs$))}}function GV(e,t){if(e&1&&(v(0,"div",14)(1,"div",26),Ie(2,"async"),Ie(3,"async"),v(4,"div",27),Ie(5,"async"),Ie(6,"async"),v(7,"div",28),he(8,"div",29),Ie(9,"async"),he(10,"div",29),Ie(11,"async"),C(),v(12,"div",30),w(13),Ie(14,"async"),C()()(),v(15,"ul",31),Ae(16,$V,3,5,"li",null,yx),Ie(18,"async"),$(19,qV,9,2),Ie(20,"async"),C()()),e&2){let n,r,i=I();E(),V("ngClass",Te(2,7,i.edcClientService.isHealthy$)?"tooltip-success":"tooltip-error"),Ft("data-tip",Te(3,9,i.edcClientService.isHealthy$)?"Connection to connector established":"Connection to connector failed"),E(3),V("ngClass",$0(25,LV,Te(5,11,i.edcClientService.isHealthy$)?"hover:bg-success/25 hover:text-success":"hover:bg-error/25 hover:text-error",Te(6,13,i.stateService.edcConfigs$).length>1?"":"cursor-default")),E(4),V("ngClass",Te(9,15,i.edcClientService.isHealthy$)?"status-success":"status-error animate-ping"),E(2),V("ngClass",Te(11,17,i.edcClientService.isHealthy$)?"status-success":"status-error"),E(3),bn(" ",(n=Te(14,19,i.stateService.currentEdcConfig$))==null?null:n.connectorName," "),E(3),Oe(Te(18,21,i.stateService.edcConfigs$)),E(3),W((r=Te(20,23,i.stateService.appConfig$))!=null&&r.enableUserConfig?19:-1)}}function zV(e,t){if(e&1){let n=oe();v(0,"div",15)(1,"button",39),j("click",function(){G(n);let i=I();return z(i.addConnector())}),v(2,"span",36),w(3,"add"),C(),w(4," Add Connector "),C()()}}function WV(e,t){if(e&1){let n=oe();v(0,"li")(1,"input",40),j("click",function(){let i=G(n).$implicit,o=I();return z(o.stateService.setTheme(i))}),C()()}if(e&2){let n=t.$implicit;E(),V("value",n),Ft("aria-label",n)}}function JV(e,t){if(e&1&&(v(0,"span",43),w(1),C()),e&2){let n=I().$implicit;E(),ge(n.text)}}function ZV(e,t){e&1&&he(0,"div",44)}function QV(e,t){if(e&1&&(Cr(0),v(1,"button",41)(2,"span",42),w(3),C(),$(4,JV,2,1,"span",43),Ie(5,"async"),C(),$(6,ZV,1,0,"div",44),_r()),e&2){let n=t.$implicit,r=I(2);E(),Zg("routerLink",n.routerPath),E(2),ge(n.materialSymbol),E(),W(Te(5,4,r.stateService.isMenuOpen$)?4:-1),E(2),W(n.divider?6:-1)}}function XV(e,t){if(e&1&&(v(0,"ul",24),$(1,QV,7,6,"ng-container",22),Ie(2,"async"),C()),e&2){let n,r=I();E(),V("ngForOf",(n=Te(2,1,r.appConfig))==null?null:n.menuItems)}}var Kl=(()=>{class e{CLIENT_TIMEOUT=1e3;healthCheckInterval=30;_client=new _e(void 0);_isHealthy=new _e(!1);isHealthy$=this._isHealthy.asObservable();healthCheckJob;getClient(){return b(this,null,function*(){return Rn(this._client.asObservable().pipe(Le(n=>n!==void 0),Pp(this.CLIENT_TIMEOUT))).catch(()=>{throw new Error(`[${this.constructor.name}] An EDC client is requested, but no client was created yet.`)})})}setDashboardClient(n){this._client.next(this.createEdcConnectorClient(n)),this.startHealthCheckJob(),console.debug(`[${this.constructor.name}] Client created for connector config: ${JSON.stringify(n)}`)}createEdcConnectorClient(n){if(!n.protocolUrl||!n.managementUrl||!n.defaultUrl)throw new Error(`[${this.constructor.name}] EDC client creation failed. Missing protocolUrl, defaultUrl or managementUrl in config: ${JSON.stringify(n)}`);let r=new kv.EdcConnectorClient.Builder().managementUrl(n.managementUrl).defaultUrl(n.defaultUrl).protocolUrl(n.protocolUrl);return n.apiToken&&r.apiToken(n.apiToken),n.controlUrl&&r.controlUrl(n.controlUrl),n.federatedCatalogUrl&&r.federatedCatalogUrl(n.federatedCatalogUrl),r.build()}setHealthCheckInterval(n){this.healthCheckInterval=n,this.stopHealthCheckJob(),this.startHealthCheckJob()}runHealthCheck(n){if(this._client.getValue()||n){let r=n?this.createEdcConnectorClient(n):this._client.getValue();r?.observability.checkHealth().then(i=>{r===this._client.getValue()&&i.isSystemHealthy!==this._isHealthy.getValue()&&this._isHealthy.next(i.isSystemHealthy)}).catch(i=>{r===this._client.getValue()&&(console.error(`[${this.constructor.name}] Health check failed: ${i.message}`),this._isHealthy.next(!1))})}else console.warn(`[${this.constructor.name}] Health check requested with undefined edc client.`)}startHealthCheckJob(){this.stopHealthCheckJob(),this._isHealthy.next(!1),this.healthCheckJob=setInterval(this.runHealthCheck.bind(this),this.healthCheckInterval*1e3),this.runHealthCheck()}stopHealthCheckJob(){this.healthCheckJob&&(clearInterval(this.healthCheckJob),this.healthCheckJob=void 0)}ngOnDestroy(){this._client.complete(),this._isHealthy.complete(),this.stopHealthCheckJob()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Zf=(()=>{class e{edc;_isMenuOpen=new _e(!0);isMenuOpen$=this._isMenuOpen.asObservable();_isFederatedCatalogEnabled=new _e(!1);isFederatedCatalogEnabled$=this._isFederatedCatalogEnabled.asObservable();_appConfig=new _e(void 0);appConfig$=this._appConfig.asObservable();_edcConfigs=new _e([]);edcConfigs$=this._edcConfigs.asObservable();_currentEdcConfig=new _e(void 0);currentEdcConfig$=this._currentEdcConfig.asObservable();_localStorageEdcConfigs=new _e([]);LOCAL_STORAGE_CONFIG_KEY="edc_local_configs";localStorageEdcConfigs$=this._localStorageEdcConfigs.asObservable();LOCAL_STORAGE_THEME_KEY="theme";LOCAL_STORAGE_CURRENT_CONNECTOR="currentConnector";LOCAL_STORAGE_MENU_OPEN="menuOpen";constructor(n){this.edc=n;let r=localStorage.getItem(this.LOCAL_STORAGE_CONFIG_KEY);if(r&&r.length>0)try{let a=JSON.parse(r);this._localStorageEdcConfigs.next(a),this._currentEdcConfig.getValue()||this.setCurrentEdcConfig(a[0])}catch(a){console.error("Error parsing locally stored EDC configurations:",a)}let i=localStorage.getItem(this.LOCAL_STORAGE_THEME_KEY);i&&this.setTheme(i);let o=localStorage.getItem(this.LOCAL_STORAGE_MENU_OPEN);o&&this.setMenuOpen(o==="true");let s=localStorage.getItem(this.LOCAL_STORAGE_CURRENT_CONNECTOR);if(s)try{this.setCurrentEdcConfig(JSON.parse(s))}catch(a){console.error("Error parsing current EDC configuration:",a)}}setTheme(n){document.body.setAttribute("data-theme",n),localStorage.setItem(this.LOCAL_STORAGE_THEME_KEY,n)}setMenuOpen(n){this._isMenuOpen.next(n),localStorage.setItem(this.LOCAL_STORAGE_MENU_OPEN,String(n))}toggleMenuOpen(){let n=!this._isMenuOpen.getValue();this._isMenuOpen.next(n),localStorage.setItem(this.LOCAL_STORAGE_MENU_OPEN,String(n))}setFederatedCatalogEnabled(n){this._isFederatedCatalogEnabled.next(n)}setEdcConfigs(n){this._edcConfigs.next(n),!this._currentEdcConfig.getValue()&&n.length>0&&this.setCurrentEdcConfig(n[0])}setCurrentEdcConfig(n){this.edc.setDashboardClient(n),this.setFederatedCatalogEnabled(n.federatedCatalogUrl!==void 0&&n.federatedCatalogEnabled),this._currentEdcConfig.next(n),localStorage.setItem(this.LOCAL_STORAGE_CURRENT_CONNECTOR,JSON.stringify(n))}setAppConfig(n){this._appConfig.next(n),n.healthCheckIntervalSeconds&&this.edc.setHealthCheckInterval(n.healthCheckIntervalSeconds)}addLocalStorageEdcConfig(n){let r=this._localStorageEdcConfigs.getValue(),i=this._edcConfigs.getValue();if(r.find(s=>s.connectorName===n.connectorName)||i.find(s=>s.connectorName===n.connectorName))throw new TypeError(`EDC config with name '${n.connectorName}' already exists.`);let o=[...r,n];this._localStorageEdcConfigs.next(o),localStorage.setItem(this.LOCAL_STORAGE_CONFIG_KEY,JSON.stringify(o))}deleteLocalStorageEdcConfig(n){let i=this._localStorageEdcConfigs.getValue().filter(o=>o.connectorName!==n.connectorName);this._localStorageEdcConfigs.next(i),localStorage.setItem(this.LOCAL_STORAGE_CONFIG_KEY,JSON.stringify(i))}ngOnDestroy(){this._isMenuOpen.complete(),this._isFederatedCatalogEnabled.complete(),this._edcConfigs.complete(),this._currentEdcConfig.complete(),this._appConfig.complete()}static \u0275fac=function(r){return new(r||e)(U(Kl))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vx=(()=>{class e{title="";msg="";type;timeoutSeconds;showTimer;closeEvent=new ae;intervalId;updateInterval=20;countdown;ngOnChanges(){this.stopTimer(),this.startTimer()}startTimer(){if(this.timeoutSeconds){this.countdown=100;let n=this.updateInterval/(this.timeoutSeconds*1e3)*100;this.intervalId=setInterval(()=>{this.countdown-=n,this.countdown<=0&&(this.countdown=0,clearInterval(this.intervalId),this.closeEvent.emit())},this.updateInterval)}}stopTimer(){this.countdown=0,this.intervalId&&clearInterval(this.intervalId)}close(){this.stopTimer(),this.closeEvent.emit()}ngOnDestroy(){this.stopTimer()}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=$e({type:e,selectors:[["lib-alert"]],inputs:{title:"title",msg:"msg",type:"type",timeoutSeconds:"timeoutSeconds",showTimer:"showTimer"},outputs:{closeEvent:"closeEvent"},features:[ht],decls:13,vars:5,consts:[[1,"alert-error","alert-info","alert-success","alert-warning"],["role","alert",1,"alert",3,"ngClass"],[1,"material-symbols-rounded","!text-4xl"],[1,"font-bold"],["role","progressbar",1,"radial-progress","text-neutral","hover:cursor-pointer",2,"--size","calc(2rem + 10px)","--thickness","6px",3,"style"],["type","button",1,"btn","btn-circle","btn-sm","btn-neutral"],["role","progressbar",1,"radial-progress","text-neutral","hover:cursor-pointer",2,"--size","calc(2rem + 10px)","--thickness","6px",3,"click"],[1,"material-symbols-rounded","!text-lg"],["type","button",1,"btn","btn-circle","btn-sm","btn-neutral",3,"click"]],template:function(r,i){r&1&&(Jg(0,0),v(1,"div",1)(2,"span",2),$(3,gV,1,0)(4,mV,1,0)(5,yV,1,0)(6,vV,1,0),C(),v(7,"div"),$(8,CV,2,1,"h3",3),v(9,"span"),w(10),C()(),$(11,_V,4,2,"div",4)(12,bV,3,0,"button",5),C()),r&2&&(E(),V("ngClass",i.type?"alert-".concat(i.type):""),E(2),W(!i.type||i.type==="info"?3:i.type==="success"?4:i.type==="warning"?5:i.type==="error"?6:-1),E(5),W(i.title?8:-1),E(2),ge(i.msg),E(),W(i.showTimer?11:12))},dependencies:[Ba],encapsulation:2})}return e})(),Fv=(()=>{class e{dialog;modal;alert;setDialogToInject(n,r){this.modal=r,this.dialog=n,this.dialog.addEventListener("close",()=>{this.modal?.clear()})}setAlertToInject(n){this.alert=n}openModal(n,r,i,o,s){if(!this.modal||!this.dialog)throw new Error("No dialog set to open the component in.");o&&this.modal.clear();let a=this.modal.createComponent(n);this.setInputs(a,r),this.subscribeOutputEvents(a,i,s),this.dialog.showModal()}closeModal(){this.dialog?.close()}showAlert(n,r,i,o,s,a){if(!this.alert)throw new Error("No alert dom element set to inject the alert in.");let l=this.alert.createComponent(vx);this.setInputs(l,{msg:n,type:i,timeoutSeconds:o,title:r,showTimer:s}),l.instance.closeEvent.subscribe(()=>{a&&a(),l.destroy()})}subscribeOutputEvents(n,r,i){if(r)for(let o in r){let s=n.instance[o];if(s?.subscribe){let a=s.subscribe(r[o]);n.onDestroy(()=>a.unsubscribe())}else console.error(`'${o}' is not an output event of ${n.componentType.name}`)}i&&this.dialog?.addEventListener("close",i,{once:!0})}setInputs(n,r){if(r)for(let i in r)n.setInput(i,r[i])}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Jf="^https?://.+$",KV="^did:web:.+$";var YV=(()=>{class e{canceled=new ae;confirm=new ae;customText;componentType;componentInputs;componentCard;ngAfterViewInit(){if(this.componentType){let n=this.componentCard.createComponent(this.componentType);this.setInputs(n,this.componentInputs)}}setInputs(n,r){if(r)for(let i in r)n.setInput(i,r[i])}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=$e({type:e,selectors:[["lib-delete-confirm"]],viewQuery:function(r,i){if(r&1&&Wu(wV,7,Yt),r&2){let o;fs(o=ps())&&(i.componentCard=o.first)}},inputs:{customText:"customText",componentType:"componentType",componentInputs:"componentInputs"},outputs:{canceled:"canceled",confirm:"confirm"},decls:13,vars:1,consts:[["componentCard",""],[1,"mb-6","text-lg","text-center"],[1,"flex","justify-between","mt-6"],[1,"btn",3,"click"],[1,"material-symbols-rounded"],[1,"btn","btn-error",3,"click"]],template:function(r,i){if(r&1){let o=oe();v(0,"h1",1),w(1),C(),$(2,DV,0,0,"ng-template",null,0,Ju),v(4,"div",2)(5,"button",3),j("click",function(){return G(o),z(i.canceled.emit())}),v(6,"i",4),w(7,"close"),C(),w(8,"Cancel"),C(),v(9,"button",5),j("click",function(){return G(o),z(i.confirm.emit())}),v(10,"i",4),w(11,"delete_forever"),C(),w(12,"Delete "),C()()}r&2&&(E(),ge(i.customText?i.customText:"Do you want to delete this item?"))},encapsulation:2})}return e})(),e2=(()=>{class e{edc;stateService;created=new ae;connectorForm=new Ps({connectorName:new At("",nt.required),managementUrl:new At("",[nt.required,nt.pattern(Jf)]),defaultUrl:new At("",[nt.required,nt.pattern(Jf)]),protocolUrl:new At("",[nt.required,nt.pattern(Jf)]),apiToken:new At(""),federatedCatalogEnabled:new At(!1),identityHubEnabled:new At(!1)});fcEnabled=!1;ihEnabled=!1;loading=!1;errorMsg="";constructor(n,r){this.edc=n,this.stateService=r}onFederatedCatalogToggle(){this.fcEnabled=!this.fcEnabled,this.fcEnabled?this.connectorForm.addControl("federatedCatalogUrl",new At("",[nt.required,nt.pattern(Jf)])):this.connectorForm.removeControl("federatedCatalogUrl")}onIdentityHubToggle(){this.ihEnabled=!this.ihEnabled,this.ihEnabled?this.connectorForm.addControl("did",new At("",[nt.required,nt.pattern(KV)])):this.connectorForm.removeControl("did")}addConnector(){return b(this,null,function*(){let n={connectorName:this.connectorForm.value.connectorName,managementUrl:this.connectorForm.value.managementUrl,defaultUrl:this.connectorForm.value.defaultUrl,protocolUrl:this.connectorForm.value.protocolUrl,federatedCatalogEnabled:this.connectorForm.value.federatedCatalogEnabled};this.connectorForm.value.apiToken&&(n.apiToken=this.connectorForm.value.apiToken),n.federatedCatalogEnabled&&(n.federatedCatalogUrl=this.connectorForm.value.federatedCatalogUrl),this.connectorForm.value.identityHubEnabled&&(n.did=this.connectorForm.value.did);let r=this.edc.createEdcConnectorClient(n);this.loading=!0;try{(yield r.observability.checkHealth()).isSystemHealthy?(this.stateService.addLocalStorageEdcConfig(n),this.created.emit()):this.errorMsg="The connector is unhealthy."}catch(i){i instanceof TypeError?this.errorMsg=i.message:this.errorMsg=`Could not reach the default API '${n.defaultUrl}'. Please check your inputs.`}finally{this.loading=!1}})}static \u0275fac=function(r){return new(r||e)(R(Kl),R(Zf))};static \u0275cmp=$e({type:e,selectors:[["lib-connector-config-form"]],outputs:{created:"created"},decls:55,vars:15,consts:[[1,"flex","flex-col","items-center","overflow-auto","h-full",3,"submit","formGroup"],[1,"divider","text-xl","m-0"],[1,"fieldset","w-lg","bg-base-200","border","border-base-300","p-4","rounded-box"],[1,"fieldset-legend","text-sm"],[1,"fieldset-label"],[1,"input","w-full",3,"ngClass"],[1,"material-symbols-rounded","opacity-50"],["type","text","placeholder","Connector Name","name","connectorName","formControlName","connectorName"],[1,"fieldset-label","text-error"],["type","text","placeholder","Management API","name","managementUrl","formControlName","managementUrl"],["type","text","placeholder","Default API","name","defaultUrl","formControlName","defaultUrl"],["type","text","placeholder","Protocol API","name","protocolUrl","formControlName","protocolUrl"],["type","password","placeholder","API Token","name","apiToken","formControlName","apiToken"],[1,"badge","badge-info"],["type","checkbox","name","federatedCatalogEnabled","formControlName","federatedCatalogEnabled",1,"toggle","toggle-primary",3,"change"],["type","checkbox","name","identityHubEnabled","formControlName","identityHubEnabled",1,"toggle","toggle-primary",3,"change"],[1,"divider"],["title","Error","type","error",1,"w-lg","mb-4",3,"msg"],["type","submit",1,"btn","btn-primary","btn-lg","w-lg",3,"disabled"],[1,"loading","loading-bars","loading-xl","text-primary"],["type","text","placeholder","Federated Catalog API","name","federatedCatalogUrl","formControlName","federatedCatalogUrl"],["type","text","placeholder","DID","name","did","formControlName","did"],["title","Error","type","error",1,"w-lg","mb-4",3,"closeEvent","msg"],[1,"material-symbols-rounded"]],template:function(r,i){if(r&1&&(v(0,"form",0),j("submit",function(){return i.addConnector()}),v(1,"h1",1),w(2,"New EDC Connector"),C(),v(3,"fieldset",2)(4,"legend",3),w(5,"Configuration"),C(),v(6,"legend",4),w(7,"Connector Name"),C(),v(8,"label",5)(9,"span",6),w(10,"link"),C(),he(11,"input",7),C(),$(12,EV,2,0,"p",8),v(13,"legend",4),w(14,"Management API"),C(),v(15,"label",5)(16,"span",6),w(17,"link"),C(),he(18,"input",9),C(),$(19,IV,2,0,"p",8),v(20,"legend",4),w(21,"Default API"),C(),v(22,"label",5)(23,"span",6),w(24,"link"),C(),he(25,"input",10),C(),$(26,TV,2,0,"p",8),v(27,"legend",4),w(28,"Protocol API"),C(),v(29,"label",5)(30,"span",6),w(31,"link"),C(),he(32,"input",11),C(),$(33,xV,2,0,"p",8),v(34,"legend",4),w(35,"API Authentication Token"),C(),v(36,"label",5)(37,"span",6),w(38,"lock"),C(),he(39,"input",12),v(40,"span",13),w(41,"Optional"),C()(),v(42,"legend",4),w(43,"Federated Catalog"),C(),v(44,"input",14),j("change",function(){return i.onFederatedCatalogToggle()}),C(),$(45,MV,7,2),v(46,"legend",4),w(47,"Identity Hub"),C(),v(48,"input",15),j("change",function(){return i.onIdentityHubToggle()}),C(),$(49,OV,7,2),C(),he(50,"div",16),$(51,NV,1,1,"lib-alert",17),v(52,"button",18),$(53,RV,1,0,"span",19)(54,PV,3,0),C()()),r&2){let o,s,a,l,c,d,f,h,u;V("formGroup",i.connectorForm),E(8),V("ngClass",(o=i.connectorForm.get("connectorName"))!=null&&o.invalid?"input-error":""),E(4),W((s=i.connectorForm.get("connectorName"))!=null&&s.invalid?12:-1),E(3),V("ngClass",(a=i.connectorForm.get("managementUrl"))!=null&&a.invalid?"input-error":""),E(4),W((l=i.connectorForm.get("managementUrl"))!=null&&l.invalid?19:-1),E(3),V("ngClass",(c=i.connectorForm.get("defaultUrl"))!=null&&c.invalid?"input-error":""),E(4),W((d=i.connectorForm.get("defaultUrl"))!=null&&d.invalid?26:-1),E(3),V("ngClass",(f=i.connectorForm.get("protocolUrl"))!=null&&f.invalid?"input-error":""),E(4),W((h=i.connectorForm.get("protocolUrl"))!=null&&h.invalid?33:-1),E(3),V("ngClass",(u=i.connectorForm.get("apiToken"))!=null&&u.invalid?"input-error":""),E(9),W(i.fcEnabled?45:-1),E(4),W(i.ihEnabled?49:-1),E(2),W(i.errorMsg?51:-1),E(),V("disabled",i.connectorForm.invalid||i.loading),E(),W(i.loading?53:54)}},dependencies:[Ls,GD,Jn,Wm,Zn,Fs,ho,El,Ba,vx],encapsulation:2})}return e})(),Cx=(()=>{class e{stateService;edcClientService;modalAndAlertService;appConfig;edcConfigs;themes=[];modal;alert;constructor(n,r,i){this.stateService=n,this.edcClientService=r,this.modalAndAlertService=i}ngAfterViewInit(){return b(this,null,function*(){let n=document.querySelector("#dashboard-dialog");this.modalAndAlertService.setDialogToInject(n,this.modal),this.modalAndAlertService.setAlertToInject(this.alert);let r=this.appConfig?yield this.appConfig:void 0;if(r?.menuItems)this.stateService.setAppConfig(r);else{this.modalAndAlertService.showAlert("Missing app configuration! Menu items must be set!","Configuration error","error");return}let i=this.edcConfigs?yield this.edcConfigs:void 0;if(!i||i.length===0)return;let o=i[0];try{this.stateService.setFederatedCatalogEnabled(o.federatedCatalogEnabled),this.stateService.setEdcConfigs(i)}catch(s){console.error(s),this.modalAndAlertService.showAlert(s.message,"Configuration error","error")}})}selectConnector(n){this.stateService.setCurrentEdcConfig(n),document.activeElement?.blur()}addConnector(){this.modalAndAlertService.openModal(e2,void 0,{created:()=>{this.modalAndAlertService.closeModal(),this.modalAndAlertService.showAlert("EDC connector added successfully","Connector Added","success",5)}})}deleteConnector(n){this.modalAndAlertService.openModal(YV,{customText:`Are you sure you want to delete the configuration for connector "${n.connectorName}"?`},{confirm:()=>{this.stateService.deleteLocalStorageEdcConfig(n),this.modalAndAlertService.closeModal()},canceled:()=>this.modalAndAlertService.closeModal()})}static \u0275fac=function(r){return new(r||e)(R(Zf),R(Kl),R(Fv))};static \u0275cmp=$e({type:e,selectors:[["lib-dashboard-app"]],viewQuery:function(r,i){if(r&1&&(Wu(kV,7,Yt),Wu(FV,7,Yt)),r&2){let o;fs(o=ps())&&(i.modal=o.first),fs(o=ps())&&(i.alert=o.first)}},inputs:{appConfig:"appConfig",edcConfigs:"edcConfigs",themes:"themes"},decls:40,vars:23,consts:[["dashboardAlert",""],["dashboardModal",""],[1,"fixed","z-9999","top-20","left-[50%]","-translate-x-1/2","flex","flex-col","justify-start","items-center","[&_.alert]:mb-6","[&_.alert]:shadow-2xl"],["id","dashboard-dialog",1,"modal","z-10"],[1,"modal-box","w-auto","max-w-[90vw]","max-h-[95vh]","p-12","overflow-hidden","flex"],["method","dialog"],[1,"btn","btn-circle","absolute","right-3","top-3"],[1,"box-border","flex","h-screen","w-screen","max-h-screen","max-w-screen","flex-col","bg-base-100","pt-4"],[1,"navbar","min-h-fit","px-4","mx-4","max-w-[calc(100%-2rem)]","rounded-2xl","bg-neutral","text-neutral-content","shadow-xl"],[1,"navbar-start"],["role","button",1,"btn","btn-lg","btn-circle","btn-ghost","hover:text-primary-content","hover:bg-primary","border-none",3,"click","disabled"],[1,"material-symbols-rounded","h7","w-7","!text-[1.75rem]"],[1,"navbar-center"],[1,"text-lg"],[1,"dropdown","dropdown-center","dropdown-hover","ml-5"],["data-tip","Add your first connector configuration",1,"tooltip","tooltip-right","tooltip-open","tooltip-primary"],[1,"navbar-end"],[1,"dropdown","dropdown-end"],["tabindex","0","role","button",1,"btn","btn-lg","btn-circle","btn-ghost","m-1","hover:text-primary-content","hover:bg-primary","border-none"],["viewBox","0 -960 960 960","fill","currentColor",1,"h-7","w-7"],["d","M440-80q-33 0-56.5-23.5T360-160v-160H240q-33 0-56.5-23.5T160-400v-280q0-66 47-113t113-47h480v440q0 33-23.5 56.5T720-320H600v160q0 33-23.5 56.5T520-80h-80ZM240-560h480v-200h-40v160h-80v-160h-40v80h-80v-80H320q-33 0-56.5 23.5T240-680v120Zm0 160h480v-80H240v80Zm0 0v-80 80Z"],["tabindex","0",1,"dropdown-content","bg-base-100","text-base-content","z-1","max-h-96","overflow-y-auto","rounded-box","p-2","shadow-2xl"],[4,"ngFor","ngForOf"],[1,"box-border","py-4","pl-4","flex","flex-auto","overflow-auto"],[1,"menu","flex-nowrap","shrink-0","h-full","rounded-2xl","bg-neutral","text-neutral-content","shadow-xl","[&_li>a]:px-4","overflow-auto"],["id","router-content",1,"px-4","box-border","w-full",3,"ngClass"],[1,"tooltip","tooltip-right",3,"ngClass"],["tabindex","0","role","button",1,"btn","btn-ghost","border-none","shadow-none",3,"ngClass"],[1,"inline-grid","[&_>*]:[grid-area:1/1]","mr-6"],[1,"status","status-lg",3,"ngClass"],[1,"text-lg","font-medium"],["tabindex","0",1,"dropdown-content","menu","bg-base-100","text-base-content","rounded-box","z-1","p-2","shadow-xl","text-nowrap","[&_>li]:my-1"],["type","radio","name","edc-config-dropdown",1,"btn","btn-ghost","justify-start","checked:text-primary-content","checked:bg-primary",3,"click","value","checked"],[1,"group","flex","flex-row","flex-nowrap","relative"],[1,"divider","mb-2","mt-0"],[1,"btn","btn-soft","btn-primary",3,"click"],[1,"material-symbols-rounded"],["type","radio","name","edc-config-dropdown",1,"btn","btn-ghost","justify-start","checked:text-primary-content","w-full",3,"click","value","checked"],[1,"btn","btn-error","btn-soft","absolute","left-[100%]","hidden","group-hover:inline-flex",3,"click"],[1,"ml-5","btn","btn-soft","btn-primary",3,"click"],["type","radio","name","theme-dropdown",1,"theme-controller","btn","btn-ghost","btn-sm","btn-block","justify-start","checked:text-primary-content",3,"click","value"],["routerLinkActive","text-primary",1,"btn","btn-lg","btn-ghost","justify-start","shadow-none","hover:text-primary-content","hover:bg-primary","border-none","transition-none",3,"routerLink"],[1,"material-symbols-rounded","h-7","w-7","!text-[1.75rem]"],[1,"text-sm"],[1,"divider","after:bg-neutral-content","before:bg-neutral-content","after:opacity-15","before:opacity-15","my-0","px-2"]],template:function(r,i){if(r&1){let o=oe();v(0,"div",2),$(1,jV,0,0,"ng-template",null,0,Ju),C(),v(3,"dialog",3)(4,"div",4)(5,"form",5)(6,"button",6),w(7,"\u2715"),C()(),$(8,VV,0,0,"ng-template",null,1,Ju),C()(),v(10,"div",7)(11,"div",8)(12,"div",9)(13,"button",10),Ie(14,"async"),j("click",function(){return G(o),z(i.stateService.toggleMenuOpen())}),$(15,UV,2,0,"span",11),Ie(16,"async"),$(17,BV,2,0,"span",11),C()(),v(18,"div",12)(19,"div",13),w(20),Ie(21,"async"),C(),$(22,GV,21,28,"div",14),Ie(23,"async"),Ie(24,"async"),Ie(25,"async"),$(26,zV,5,0,"div",15),C(),v(27,"div",16)(28,"div",17)(29,"div",18),eb(),v(30,"svg",19),he(31,"path",20),C()(),tb(),v(32,"ul",21),$(33,WV,2,2,"li",22),C()()()(),v(34,"div",23),$(35,XV,3,3,"ul",24),Ie(36,"async"),v(37,"div",25),Ie(38,"async"),he(39,"router-outlet"),C()()()}if(r&2){let o,s,a,l,c;E(13),V("disabled",((o=Te(14,7,i.appConfig))==null?null:o.menuItems.length)<2),E(2),W(Te(16,9,i.stateService.isMenuOpen$)?15:17),E(5),ge((s=(s=Te(21,11,i.appConfig))==null?null:s.appTitle)!==null&&s!==void 0?s:"EDC Dashboard"),E(2),W(Te(23,13,i.stateService.edcConfigs$)&&Te(24,15,i.stateService.currentEdcConfig$)?22:(a=Te(25,17,i.stateService.appConfig$))!=null&&a.enableUserConfig?26:-1),E(11),V("ngForOf",i.themes),E(2),W(((l=Te(36,19,i.appConfig))==null?null:l.menuItems.length)>1?35:-1),E(2),V("ngClass",((c=Te(38,21,i.appConfig))==null?null:c.menuItems.length)>1?"":"pl-0")}},dependencies:[hl,ms,Os,Vm,$a,Ba],encapsulation:2})}return e})();function t2(e,t){if(e&1){let n=oe();v(0,"li",13),j("click",function(){let i=G(n).$implicit,o=I();return z(o.addConstraint(i.clone()))}),v(1,"a",14),w(2),C()()}if(e&2){let n=t.$implicit,r=I();E(2),ge(r.camelCaseToWords(n.leftOperand))}}function n2(e,t){if(e&1){let n=oe();v(0,"button",22),j("click",function(){G(n);let i=I().$implicit,o=I();return z(o.editConstraint(i))}),v(1,"span",20),w(2,"edit"),C()()}}function r2(e,t){if(e&1){let n=oe();v(0,"li",13),j("click",function(){let i=G(n).$implicit,o=I(2).$implicit,s=I();return z(s.addConstraint(i.clone(),o))}),v(1,"a",14),w(2),C()()}if(e&2){let n=t.$implicit;E(2),ge(n.leftOperand)}}function i2(e,t){if(e&1&&(v(0,"div",5)(1,"button",23)(2,"span",7),w(3,"add"),C()(),v(4,"ul",24),Ae(5,r2,3,1,"li",null,_n),C()()),e&2){let n=I(2);E(5),Oe(n.constraints)}}function o2(e,t){if(e&1){let n=oe();v(0,"div",25)(1,"div",15)(2,"div",16),w(3),C(),v(4,"div",17),w(5),C()(),v(6,"button",22),j("click",function(){let i=G(n).$implicit,o=I(2).$implicit,s=I();return z(s.editConstraint(i,!1,o))}),v(7,"span",20),w(8,"edit"),C()(),v(9,"button",19),j("click",function(){let i=G(n).$implicit,o=I(2).$implicit,s=I();return z(s.deleteConstraint(i,o))}),v(10,"span",20),w(11,"delete"),C()()()}if(e&2){let n=t.$implicit;E(3),bn(" ",n.constructor.name.slice(1).replace("Con"," Con")," "),E(2),ge(n.toString().replace("Constraint ",""))}}function s2(e,t){if(e&1&&(v(0,"div",21),Ae(1,o2,12,2,"div",25,_n),C()),e&2){let n=I().$implicit,r=I();E(),Oe(r.getSubConstraints(n))}}function a2(e,t){if(e&1){let n=oe();v(0,"div",12)(1,"div",15)(2,"div",16),w(3,"Atomic Constraint"),C(),v(4,"div",17),w(5),C()(),$(6,n2,3,0,"button",18)(7,i2,7,0,"div",5),v(8,"button",19),j("click",function(){let i=G(n).$implicit,o=I();return z(o.deleteConstraint(i))}),v(9,"span",20),w(10,"delete"),C()(),$(11,s2,3,0,"div",21),C()}if(e&2){let n=t.$implicit,r=I();E(5),ge(n.toString().replace("Constraint ","")),E(),W(r.getConstraintType(n)==="atomic"?6:7),E(5),W(r.getConstraintType(n)==="logical"?11:-1)}}var Qf=class e{constructor(t,n){this.modalService=n;this.actions=t.actions()}permission;actions;permissionChange=new ae;constraints=[];getConstraintType(t){return t instanceof le?"atomic":"logical"}getSubConstraints(t){return t.constraints}addConstraint(t,n=void 0){this.editConstraint(t,!0,n)}deleteConstraint(t,n=void 0){n?n.constraints=n.constraints.filter(r=>r!==t):this.permission.constraints=this.permission.constraints.filter(r=>r!==t),this.permissionChange.emit()}editConstraint(t,n=!1,r=void 0){let i=o=>{let s=r?r.constraints:this.permission.constraints;if(o!=null){let a=s.indexOf(t);a!=-1?s[a]=o:n&&s.push(o),this.permissionChange.emit()}this.modalService.closeModal()};t instanceof le?this.modalService.openModal(Xd,{constraint:t.clone()},{save:i},void 0,()=>this.modalService.closeModal()):t instanceof co&&i(t)}camelCaseToWords=qe;static \u0275fac=function(n){return new(n||e)(R(li),R(Fv))};static \u0275cmp=$e({type:e,selectors:[["app-permission"]],inputs:{permission:"permission",constraints:"constraints"},outputs:{permissionChange:"permissionChange"},decls:20,vars:1,consts:[[1,"flex","flex-col","bg-base-100","rounded-2xl","p-4","h-full"],[1,"w-full","flex"],[1,"input","flex-1"],[1,"label"],["type","text","placeholder","Permission name",3,"ngModelChange","ngModel"],[1,"dropdown","dropdown-end","ml-4"],["tabindex","0","title","Add constraint",1,"btn","btn-soft","btn-primary"],[1,"material-symbols-rounded"],["tabindex","0",1,"dropdown-content","menu","shadow-2xl","bg-base-300","rounded-2xl","flex-nowrap","overflow-y-auto","max-h-[50vh]"],[1,"divider","m-0","my-4"],[1,"opacity-80"],[1,"flex","flex-col","gap-3","mx-4","[&>div]:last:border-none"],[1,"w-full","flex","flex-wrap","items-center","gap-4","border-b-2","border-b-base-content/10","pb-3"],[3,"click"],[1,"truncate"],[1,"flex","flex-col","flex-1"],[1,"text-xs","font-normal","opacity-60"],[1,"text-md","font-normal"],[1,"btn","btn-sm","btn-square","btn-soft","btn-secondary"],[1,"btn","btn-sm","btn-square","btn-soft","btn-error",3,"click"],[1,"material-symbols-rounded","!text-[1.2rem]"],[1,"w-full","border-l-base-content/10","border-l-1","ml-2","-mt-3"],[1,"btn","btn-sm","btn-square","btn-soft","btn-secondary",3,"click"],["tabindex","0","title","Add constraint",1,"btn","btn-soft","btn-square","btn-sm","btn-primary"],["tabindex","0",1,"dropdown-content","menu","shadow-2xl","bg-base-300","rounded-2xl","flex-nowrap","overflow-y-auto"],[1,"w-full","px-4","flex","gap-4","items-center","my-2"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"div",1)(2,"label",2)(3,"span",3),w(4,"Name"),C(),v(5,"input",4),ze("ngModelChange",function(o){return tt(r.permission.name,o)||(r.permission.name=o),o}),C()(),v(6,"div",5)(7,"button",6)(8,"span",7),w(9,"add"),C(),w(10," Add Constraint "),C(),v(11,"ul",8),Ae(12,t2,3,1,"li",null,_n),C()()(),v(14,"div",9)(15,"span",10),w(16,"Constraints"),C()(),v(17,"div",11),Ae(18,a2,12,3,"div",12,_n),C()()),n&2&&(E(5),Ge("ngModel",r.permission.name),E(7),Oe(r.constraints),E(6),Oe(r.permission.constraints))},dependencies:[In,Jn,Zn,Qn],encapsulation:2})};var O=class{static DataProvisioningEndDurationDays(){return{name:"DataProvisioningEndDurationDays",operandType:"integer",legalText:{obligation:"The Data Provider shall make the Data available for the period specified herein in days, commencing from the second the Agreement is concluded via the Registered Connector (RC)."},value:"30"}}static DataProvisioningEndDate(){return{name:"DataProvisioningEndDate",operandType:"string",pattern:/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(Z|[+-]\d{2}:\d{2})$/,legalText:{obligation:"The Data Provider shall make the Data available for a limited period until the end date specified herein, commencing from the second the Agreement is concluded via the Registered Connector (RC)."},value:"2024-12-31T23:59:59Z"}}static DataExchangeGovernance(){return{name:"DataExchangeGovernance",const:"DataExchangeGovernance:1.0",operandType:"string",legalText:{permission:'Data Provider and Data Consumer agree to the Data Exchange Governance published by the Catena-X Automotive Network e.V. (Association) as basis for this Agreement concluded via the Registered Connector (RC). The Data Exchange Governance Version 1.0 can be found here: <a href="https://catenax-ev.github.io/docs/regulatory-framework/20000ft/data-exchange-governance">https://catenax-ev.github.io/docs/regulatory-framework/20000ft/data-exchange-governance</a> after CX-Saturn has been released. The subject matter of the Agreement concluded via the RC is the provision of the Data for a limited period of one (1) year (unless otherwise agreed in <a href="https://w3id.org/catenax/2025/9/policy/data-provisioning-end-date-constraint-schema.json">dataProvisioningEndDate</a> or <a href="https://w3id.org/catenax/2025/9/policy/data-provisioning-end-duration-days-constraint-schema.json">dataProvisioningEndDurationDays</a>) and granting a right to use the Data for a period of one (1) year (unless agreed otherwise in <a href="https://w3id.org/catenax/2025/9/policy/data-usage-end-date-constraint-schema.json">dataUsageEndDate</a> or <a href="https://w3id.org/catenax/2025/9/policy/data-usage-end-duration-days-constraint-schema.json">dataUsageEndDurationDays</a> or open-ended <a href="https://w3id.org/catenax/2025/9/policy/data-usage-end-definition-constraint-schema.json">DataUsageEndUnlimited</a>). The provision of the Data shall be effected via the API specified by the dataset attribute dct:type. The Agreement concluded via the RC covers only the exchange of Data effected on the basis of the API version (as specified in the dataset attribute base-URL), the Asset-Version (dataset attribute cx-common:version), and the Aspect Model Version as applicable at the time of concluding the Agreement. Unless agreed otherwise in <a href="https://w3id.org/catenax/2025/9/policy/version-changes-constraint-schema.json">VersionChanges</a>, the Agreement concluded via the RC must be renegotiated in the event of any change to at least one of these versions. Unless otherwise agreed between the Parties within the Agreement concluded via the RC (in accordance with <a href="https://w3id.org/catenax/2025/9/policy/usage-purpose-constraint-schema.json">UsagePurpose</a>), the Data Provider grants the Data Consumer a non-exclusive right, limited in time to the duration of this contract (in accordance with <a href="https://w3id.org/catenax/2025/9/policy/data-usage-end-date-constraint-schema.json">dataUsageEndDate</a> or <a href="https://w3id.org/catenax/2025/9/policy/data-usage-end-duration-days-constraint-schema.json">dataUsageEndDurationDays</a> or open-ended <a href="https://w3id.org/catenax/2025/9/policy/data-usage-end-definition-constraint-schema.json">DataUsageEndUnlimited</a>), to use the Data in accordance with the Contractual Usage Purposes (in accordance with <a href="https://w3id.org/catenax/2025/9/policy/usage-purpose-constraint-schema.json">Usage Purpose</a>).'},value:"DataExchangeGovernance:1.0"}}static MembershipActive(){return{name:"MembershipActive",operandType:"string",const:"active"}}static BusinessPartnerNumber(){return{name:"BusinessPartnerNumber",operandType:"string",pattern:/^BPNL[0-9A-Z]{12}$/,value:"BPNL0000000001"}}static BusinessPartnerGroup(){return{name:"BusinessPartnerGroup",operandType:"string",value:"GROUP_A"}}static CoreLegalRequirementForThirdParty(){return{name:"CoreLegalRequirementForThirdParty",const:"cx.core.legalRequirementForThirdparty:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: facilitating compliance with mandatory regulatory requirements for tracking and reporting battery cells, modules & high-voltage batteries.",additionalInformation:"Typically used for: Traction Battery Code"},value:"cx.core.legalRequirementForThirdparty:1"}}static CoreIndustrycore(){return{name:"CoreIndustrycore",const:"cx.core.industrycore:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: Establishing a digital representation of the automotive supply chain to enable a component specific data exchange.",additionalInformation:"Typically used for: SerialPart, Batch, JustInSequencePart,SingleLevelBomAsBuilt, PartAsPlanned, SingleLevelBomAsPlanned, PartSiteInformationAsPlanned, UniqueIDPushAPI"},value:"cx.core.industrycore:1"}}static CoreQualityNotifications(){return{name:"CoreQualityNotifications",const:"cx.core.qualityNotifications:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: quality analyses to identify and select affected components and to send quality notifications to affected customers or suppliers.",additionalInformation:"Typically used for: Notification API"},value:"cx.core.qualityNotifications:1"}}static CoreDigitalTwinRegistry(){return{name:"CoreDigitalTwinRegistry",const:"cx.core.digitalTwinRegistry:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: Identifying data offers of submodels within the Catena-X ecosystem.",additionalInformation:"Typically used for: Digital Twin Registry Asset"}}}static PfcBase(){return{name:"PfcBase",const:"cx.pcf.base:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: (i) sending and receiving product-specific CO2 data and related functionalities such as (but not limited to) certificate exchange and notifications, (ii) conducting plausibility checks and validation measures, (iii) calculating aggregated PCFs of Data Consumer (including calculations operated by a technical service provider that (a) is certified for Catena-X, (b) is not authorized to evaluate data beyond such calculation and (c) provides calculations exclusively for Data Consumer's own purposes.",additionalInformation:"Typically used for: PCF Model, PCF Exchange API"},value:"cx.pcf.base:1"}}static QualityBase(){return{name:"QualityBase",const:"cx.quality.base:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data  in line with the following purposes: (i) early identification of anomalies in the use of the product, (ii) collaborative root-cause analysis of a problem / error and determining corrective action, (iii) component tracing to optimize technical actions (in combination with use case Traceability), (iv) confirming corrective action, (v) preventive field observation to detect anomalies, (vi) processing notifications of quality alerts (supply chain bottom-up) and quality investigations (supply chain top-down) (possibly in combination with the use case Traceability).",additionalInformation:"Typically used for: Fleet Vehicles, Quality Task, QualityTaskAttachment, PartsAnalysis, ManufacturedPartsQInformation, FleetDiagnosticData, FleetClaim"},value:"cx.quality.base:1"}}static DcmBase(){return{name:"DcmBase",const:"cx.dcm.base:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: (i) sending and receiving product-specific demand and capacity data, as well as the associated product functionalities, (ii) early identification of imbalances resulting from demand and capacity comparison, (iii) sending and receiving messages and notifications related to imbalances and to exchanged demand and capacity data, (iv) initiate a collaborative approach to solve imbalances.",additionalInformation:"Typically used for: Material Demand, WeekBasedCapacityGroup, IdBasedRequestForUpdate, IdBasedComment"},value:"cx.dcm.base:1"}}static PurisBase(){return{name:"PurisBase",const:"cx.puris.base:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: optimizing processes, which includes, without limitation, regular exchange of data to prevent and/or solve shortages in the supply chain, conducting plausibility checks against other sources and/or collecting information to facilitate sound decision making, all of the above in the context of predictive unit real-time information relating to production and/or logistics.",additionalInformation:"Typically used for: Item Stock, Short-Term Material Demand, Planned Production Output, Delivery Information"},value:"cx.puris.base:1"}}static CircularDpp(){return{name:"CircularDpp",const:"cx.circular.dpp:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in accordance to those applicable public legal regulation directly requiring digital product passports or affecting the contents or handling of digital product passports.",additionalInformation:"Typically used for: Digital Product Pass, Battery Pass"},value:"cx.circular.dpp:1"}}static CircularSmc(){return{name:"CircularSmc",const:"cx.circular.smc:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data about secondary material content (SMC) in line with the following purpose: optimize the SMC-usage.",additionalInformation:"Typically used for: SMC-Calculated, SMC-Verifiable"},value:"cx.circular.smc:1"}}static CircularMarketplace(){return{name:"CircularMarketplace",const:"cx.circular.marketplace:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: buy, sell and/or procure parts and materials.",additionalInformation:"Typically used for: Market Place Offer"},value:"cx.circular.marketplace:1"}}static CircularMaterialaccounting(){return{name:"CircularMaterialaccounting",const:"cx.circular.materialaccounting:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: (i) display, process, analysis, correlate, modify and amend data, (ii) for (e.g. enablement of) chain of custody processes and commercial transaction related thereto and allocation of material to parts to the supply chain."},value:"cx.circular.materialaccounting:1"}}static BpdmGateUpload(){return{name:"BpdmGateUpload",const:"cx.bpdm.gate.upload:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: verifying, curating and enriching the Data to create a record of basic information about all entities with a BPN in the Catena-X data space accessible to all participants (Golden Record) and for early warning services (Value Added Services, VASs).",additionalInformation:"Typically used for: Gate Data Model"},value:"cx.bpdm.gate.upload:1"}}static BpdmGateDownload(){return{name:"BpdmGateDownload",const:"cx.bpdm.gate.download:1",operandType:"string",legalText:{permission:"The Data Consumer may use the basic information about entities with a BPN in the Catena-X data space provided by the Core Service B Provider in line with the following purposes: (i) identifying counterparty, (ii) usage in Value Added Services (VASs).",additionalInformation:"Typically used for: Gate Data Model"},value:"cx.bpdm.gate.download:1"}}static BpdmPool(){return{name:"BpdmPool",const:"cx.bpdm.pool:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: (i) identifying participants within the Catena-X data space, (ii) identifying counterparty (iii), usage in  information processes, (iv) invitation of additional participants into the Catena-X data space, (v) usage in Value Added Services (VASs), ",additionalInformation:"Typically used for: Pool Data Models"},value:"cx.bpdm.pool:1"}}static BpdmVasCountryrisk(){return{name:"BpdmVasCountryrisk",const:"cx.bpdm.vas.countryrisk:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: screening participant's business data to identify risks when collaborating with a new/existing business partner according to official or company-specific country risk assessments.",additionalInformation:"Typically used for: Country Risk Data Model, Gate Data Model, Pool Data Models"}}}static BpdmVasDataqualityUpload(){return{name:"BpdmVasDataqualityUpload",const:"cx.bpdm.vas.dataquality.upload:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: (i) assessing Data Provider's data quality, (ii) creating benchmarks for future screenings of other participants' data to fulfill the goals of the Data Quality Dashboard application.",additionalInformation:"Typically used for: Business Partner Data Model"},value:"cx.bpdm.vas.dataquality.upload:1"}}static BpdmVasDataqualityDownload(){return{name:"BpdmVasDataqualityDownload",const:"cx.bpdm.vas.dataquality.download:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: Assessing quality of own data.",additionalInformation:"Typically used for: Data Quality Dashboard Data Model"},value:"cx.bpdm.vas.dataquality.download:1"}}static BpdmVasBdvUpload(){return{name:"BpdmVasBdvUpload",const:"cx.bpdm.vas.bdv.upload:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: screening relevant Data Provider's submitted bank data to verify Data Provider's bank data.",additionalInformation:"Typically used for: Gate Data Model, Bank Data Verification Data Model"},value:"cx.bpdm.vas.bdv.upload:1"}}static BpdmVasFpdUpload(){return{name:"BpdmVasFpdUpload",const:"cx.bpdm.vas.fpd.upload:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: screening Data Provider's submitted business partner data to assess occurrence of fraud.",additionalInformation:"Typically used for: Fraud Prevention Data Model"},value:"cx.bpdm.vas.fpd.upload:1"}}static BpdmVasFpdDownload(){return{name:"BpdmVasFpdDownload",const:"cx.bpdm.vas.fpd.download:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: Assessing fraud risks in transactions with another participant.",additionalInformation:"Typically used for: Fraud Prevention Data Model"},value:"cx.bpdm.vas.fpd.download:1"}}static BpdmVasSwdUpload(){return{name:"BpdmVasSwdUpload",const:"cx.bpdm.vas.swd.upload:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: screening Data Provider's submitted beneficial ownership data to assess trade compliance.",additionalInformation:"Typically used for: Gate Data Model"},value:"cx.bpdm.vas.swd.upload:1"}}static BpdmVasSwdDownload(){return{name:"BpdmVasSwdDownload",const:"cx.bpdm.vas.swd.download:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: assessing trade sanction risks in transactions with another participant.",additionalInformation:"Typically used for: Sanction Party Watch List Dashboard Data Model"},value:"cx.bpdm.vas.swd.download:1"}}static BpdmVasNpsUpload(){return{name:"BpdmVasNpsUpload",const:"cx.bpdm.vas.nps.upload:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: verifying Data Provider's submitted Business Partner Data against Natural Person data entries.",additionalInformation:"Typically used for: Gate Data Model"},value:"cx.bpdm.vas.nps.upload:1"}}static BpdmVasNpsDownload(){return{name:"BpdmVasNpsDownload",const:"cx.bpdm.vas.nps.download:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: verifying its submitted Business Partner Data.",additionalInformation:"Typically used for: Natural Person Screening Data Model"},value:"cx.bpdm.vas.nps.download:1"}}static CcmBase(){return{name:"CcmBase",const:"cx.ccm.base:1",operandType:"string",legalText:{permission:"The Data Consumer may use the exchanged business partner certificates in line with the following purpose: Verification and validation of the existence of a certification.",additionalInformation:"Typically used for: Business Partner Certificate"},value:"cx.ccm.base:1"}}static BpdmPoolAll(){return{name:"BpdmPoolAll",const:"cx.bpdm.poolAll:1",operandType:"string",legalText:{permission:"The Data Consumer may use the basic information about all entities with a BPN in the Catena-X data space provided by the Core Service B Provider in line with the following purposes: (i) identifying internal counterparties, (ii) usage in internal information processes, (iii) usage in Value Added Services (VAS).",additionalInformation:"Typically used for: Pool Data Model"},value:"cx.bpdm.poolAll:1"}}static LogisticsBase(){return{name:"LogisticsBase",const:"cx.logistics.base:1",operandType:"string",legalText:{permission:"The Data Consumer may use the logistic Data in line with the following purposes: (i) tracking of load carriers, reusable boxes and any packaging, (ii) early identification of delay or damages on transport, and (iii) identification of affected part instances or batch instances on respective transport units.",additionalInformation:"Typically used for: asset_tracker_links, batch, global_transport_label, sensor_data, packing_list, serial_part"},value:"cx.logistics.base:1"}}static UsagePurposeIndividual(){return{name:"UsagePurposeIndividual",operandType:"string",legalText:{permission:"Data Provider and Data Consumer are free to individually agree this certain purpose of use. The legal meaning of this certain purpose need to be agreed individually between Data Provider and Data Consumer."},value:"INDIVIDUAL"}}static ContractReference(){return{name:"ContractReference",operandType:"string",legalText:{permission:"Data Provider and Data Consumer are free to reference an existing, individual contract as a basis of the Agreement concluded via the Registered Connector (RC). This can be a framework agreement or a very specific contract. The rightOperand value for this constraint can be a free to choose reference under which both parties are able to identify their contract. The reference does not have to have a version number."},value:"CONTRACT-REF-123"}}static RegionAll(){return{name:"RegionAll",const:"cx.region.all:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC).",prohibition:"The Data Consumer is not entitled to make the Data available for use to its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies'), unless the Parties have otherwise agreed on a right of sublicensing in the referenced contract (cx-policy:ContractReference)."},value:"cx.region.all:1"}}static RegionEurope(){return{name:"RegionEurope",const:"cx.region.europe:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC). The registered offices of the relevant Affiliated Companies must be located in Europe.",prohibition:"The Data Consumer is not entitled to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') that are domiciled in Europe, unless the Parties have otherwise agreed on a right of sublicensing (either in full or with respect to individual Affiliated Companies) in the referenced bilateral contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"cx.region.europe:1"}}static RegionNorthAmerica(){return{name:"RegionNorthAmerica",const:"cx.region.northAmerica:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC). The registered offices of the relevant Affiliated Companies must be located in North America.",prohibition:"The Data Consumer is not entitled to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') that are domiciled in North America, unless the Parties have otherwise agreed on a right of sublicensing (either in full or with respect to individual Affiliated Companies) in the referenced bilateral contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"cx.region.northAmerica:1"}}static RegionSouthAmerica(){return{name:"RegionSouthAmerica",const:"cx.region.southAmerica:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC). The registered offices of the relevant Affiliated Companies must be located in South America.",prohibition:"The Data Consumer is not entitled to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') that are domiciled in South America, unless the Parties have otherwise agreed on a right of sublicensing (either in full or with respect to individual Affiliated Companies) in the referenced bilateral contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"cx.region.southAmerica:1"}}static RegionAfrica(){return{name:"RegionAfrica",const:"cx.region.africa:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC). The registered offices of the relevant Affiliated Companies must be located in Africa.",prohibition:"The Data Consumer is not entitled to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') that are domiciled in Africa, unless the Parties have otherwise agreed on a right of sublicensing (either in full or with respect to individual Affiliated Companies) in the referenced bilateral contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"cx.region.africa:1"}}static RegionAsia(){return{name:"RegionAsia",const:"cx.region.asia:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC). The registered offices of the relevant Affiliated Companies must be located in Asia.",prohibition:"The Data Consumer is not entitled to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') that are domiciled in Asia, unless the Parties have otherwise agreed on a right of sublicensing (either in full or with respect to individual Affiliated Companies) in the referenced bilateral contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"cx.region.asia:1"}}static RegionOceania(){return{name:"RegionOceania",const:"cx.region.oceania:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC). The registered offices of the relevant Affiliated Companies must be located in Oceania.",prohibition:"The Data Consumer is not entitled to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') that are domiciled in Oceania, unless the Parties have otherwise agreed on a right of sublicensing (either in full or with respect to individual Affiliated Companies) in the referenced bilateral contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"cx.region.oceania:1"}}static RegionAntarctica(){return{name:"RegionAntarctica",const:"cx.region.antarctica:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC). The registered offices of the relevant Affiliated Companies must be located in Antarctica.",prohibition:"The Data Consumer is not entitled to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') that are domiciled in Antarctica, unless the Parties have otherwise agreed on a right of sublicensing (either in full or with respect to individual Affiliated Companies) in the referenced bilateral contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"cx.region.antarctica:1"}}static AffiliatesBpnl(){return{name:"AffiliatesBpnl",operandType:"string",pattern:/^BPNL[0-9A-Z]{12}$/,legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by the Affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing') specified herein, provided that the Data Consumer ensures that such companies and/or its its Affiliated Companies comply with the terms of the Agreement concluded via the Registered Connector (RC).",prohibition:"The Data Consumer is not entitled to make the Data available for use by the companies specified herein ('Sublicensing'), unless the Parties have otherwise agreed on a right to sublicense the Data (either in full or with respect to individual affiliated companies) in the referenced  contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"BPNL0000000003"}}static DataFrequencyOnce(){return{name:"DataFrequencyOnce",const:"cx.dataFrequency.once:1",operandType:"string",legalText:{permission:"This Agreement concluded via the Registered Connector (RC). applies both to a one-time, time-limited data exchange as well as to sequential data exchanges under similar conditions, potentially also in varying quantities (Data as a Service)."},value:"cx.dataFrequency.once:1"}}static DataFrequencyUnlimited(){return{name:"DataFrequencyUnlimited",const:"cx.dataFrequency.unlimited:1",operandType:"string",legalText:{permission:"This Agreement concluded via the Registered Connector (RC). applies to the multiple or repeated exchange of similar Data at different times and in different quantities within the scope of the selected Use Case."},value:"cx.dataFrequency.unlimited:1"}}static VersionChangesMinor(){return{name:"VersionChangesMinor",const:"cx.versionChanges.minor:1",operandType:"string",legalText:{permission:"The Agreement concluded via the Registered Connector (RC) covers only the exchange of Data effected on the basis of the major API version (as specified in the dataset attribute base-URL), the major Asset-Version (dataset attribute cx-common:version), and/or the major Aspect Model Version as applicable at the time of concluding the Agreement. The Agreement concluded via the RC must be renegotiated in the event of any change to at least one of these major versions. The Agreement does not need to be renegotiated in the event of any change to one of these minor versions. The definitions of major and minor version is based on Semantic Versioning (https://semver.org/)."},value:"cx.versionChanges.minor:1"}}static VersionChangesMajor(){return{name:"VersionChangesMajor",const:"cx.versionChanges.major:1",operandType:"string",legalText:{permission:"The Agreement concluded via the Registered Connector (RC) covers any data exchange, which shall be effected via the API specified by the dataset attribute dct:type, irrespective of whether the API version applicable at the time of contract conclusion (as part of the dataset attribute base-URL), the Asset Version (dataset attribute cx-common:version), or the Aspect Model version changes."},value:"cx.versionChanges.major:1"}}static DataDeletion(){return{name:"DataDeletion",const:"cx.data.deletion:1",operandType:"string",legalText:{permission:"Upon expiry of the period of use (in accordance with cx-policy:DataUsageEnd) as well as in the event of termination, the Data Consumer shall be obliged to delete the Data (including all copies in backup systems that can be deleted with reasonable effort) from all systems and storage media and, upon request, confirm this to the Data Provider in text form. The foregoing obligation shall apply accordingly to the extent that the Data Consumer is permitted to provide the data to Affiliated Companies (in accordance with cx-policy:affiliates.*) or to companies for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard CX-0076) (in accordance with cx-policy:contractingCompany.*). The Data Consumer is entitled to make and retain a copy of the Data for as long as necessary to safeguard legitimate interests vis-\xE0-vis the Data Provider - particularly for the purpose of demonstrating breaches of contractual obligations arising from the provision of the Data."},value:"cx.data.deletion:1"}}static DataKeeping(){return{name:"DataKeeping",const:"cx.data.keeping:1",operandType:"string",legalText:{permission:"Upon expiry of the period of use (in accordance with cx-policy:dataUsageEnd) as well as in the event of termination, the Data Consumer shall not be obliged to delete the Data (including all copies in backup systems that can be deleted with reasonable effort) from all systems and storage media. The foregoing shall apply accordingly to the extent that the Data Consumer is permitted to provide the Data to Affiliated Companies (in accordance with leftOperand cx-policy:affiliates.*) or to companies for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard CX-0076) (in accordance with cx-policy:contractingCompany.*). In such case, the Data Consumer shall be entitled to continue using the Data exclusively within the scope of the purpose limitation and other conditions of the contract. The Data Consumer shall take all necessary measures to protect the Data against unauthorised access by third parties."},value:"cx.data.keeping:1"}}static ConfidentialityMeasures(){return{name:"ConfidentialityMeasures",const:"cx.confidentiality.measures:1",operandType:"string",legalText:{permission:"The Data Consumer is obliged to take all appropriate technical and organisational measures to protect the Confidential Information of the Data Provider, in order to prevent unauthorised disclosure to third parties. The Data Consumer is also obliged to inform the Data Provider without undue delay about any unauthorised disclosure of Confidential Information."},value:"cx.confidentiality.measures:1"}}static SharingAffiliates(){return{name:"SharingAffiliates",const:"cx.sharing.affiliates:1",operandType:"string",legalText:{permission:"The Data Consumer may only disclose Confidential Information to Affiliated Companies if and to the extent that the Data Provider has expressly permitted such disclosure in accordance with the Data Exchange Governance or the cx-policy:affiliates.*. The Data Consumer may only disclose Confidential Information to Affiliated Companies to the extent that the Affiliated Companies and their employees are bound to Confidentiality Obligations at least equivalent to those set forth in this Agreement. Furthermore, access to and use of the relevant Data must be restricted to those employees of the Affiliated Company who require the Data in order to exercise the agreed usage rights ('need to know')."},value:"cx.sharing.affiliates:1"}}static SharingManagedLegalEntity(){return{name:"SharingManagedLegalEntity",const:"cx.sharing.managedLegalEntity:1",operandType:"string",legalText:{permission:"The Data Consumer may only disclose Confidential Information to those companies for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard 'CX-0074') if and to the extent those companies are expressly listed in cx-policy:managedLegalEntity.*. The Data Consumer may only disclose Confidential Information to those Companies to the extent that those Companies and their employees are bound to Confidentiality Obligations at least equivalent to those set forth in this Agreement. Furthermore, access to and use of the relevant Data must be restricted to those employees of the Company who require the Data in order to exercise the agreed usage rights ('need to know')."},value:"cx.sharing.managedLegalEntity:1"}}static ExclusiveUsageDataConsumer(){return{name:"ExclusiveUsageDataConsumer",const:"cx.exclusiveUsage.dataConsumer:1",operandType:"string",legalText:{permission:"The Data Consumer has the exclusive right to use the Data within the scope of the agreed purposes (cx-policy:UsagePurpose). The Data Provider\u2019s right to use the Data it has provided for its own internal purposes remains unaffected."},value:"cx.exclusiveUsage.dataConsumer:1"}}static WarrantyNone(){return{name:"WarrantyNone",const:"cx.warranty.none:1",operandType:"string",legalText:{permission:"The provision of the Data is made with the exclusion of any warranty for material defects and defects in title, unless the Data Provider fraudulently conceals such a defect."},value:"cx.warranty.none:1"}}static WarrantyContractReference(){return{name:"WarrantyContractReference",const:"cx.warranty.contractReference:1",operandType:"string",legalText:{permission:"The provision of the Data is subject to the warranty for material defects and defects in title as agreed in the description of the subject matter of performance according to the referenced contract (leftOperand: ContractReference)."},value:"cx.warranty.contractReference:1"}}static WarrantyDataQualityIssues(){return{name:"WarrantyDataQualityIssues",const:"cx.warranty.dataQualityIssues:1",operandType:"string",legalText:{permission:"In the event of a material deviation from the contractually agreed data quality, the Data Provider shall be entitled to (i) demand the rectification of defects by provision of Data in the quality owed, (ii) terminate the contract in the event of failure to remedy the defect, and (iii) claim damages in accordance with the liability provisions set out below."},value:"cx.warranty.dataQualityIssues:1"}}static WarrantyDurationMonths(){return{name:"WarrantyDurationMonths",operandType:"integer",legalText:{permission:"The provision of the Data is subject to a warranty for material and legal defects for a period specified herein in months."},value:"12"}}static WarrantyContractEndDate(){return{name:"WarrantyContractEndDate",const:"cx.warranty.contractEndDate:1",operandType:"string",legalText:{permission:"The provision of the Data is subject to a warranty for material defects and defects in title until the end of the Agreement concluded via the Registered Connector (RC)."},value:"cx.warranty.contractEndDate:1"}}static GrossNegligence(){return{name:"GrossNegligence",const:"cx.grossNegligence:1",operandType:"string",legalText:{permission:"The Data Provider's liability is limited to intent and gross negligence. The same applies in regard to the Data Provider's liability for its legal representatives, employees and authorised representatives."},value:"cx.grossNegligence:1"}}static SlightNegligence(){return{name:"SlightNegligence",const:"cx.slightNegligence:1",operandType:"string",legalText:{permission:"The liability of the Data Provider in cases of ordinary negligence shall be limited to x, as individually agreed by the Parties in the referenced bilateral agreement (cx-policy:ContractReference). The foregoing limitation of liability shall not apply in the event of mandatory statutory liability (in particular under the German Product Liability Act), nor in the event of the assumption of a guarantee or for any culpably caused bodily injury."},value:"cx.slightNegligence:1"}}static LocationString(){return{name:"LocationString",operandType:"string",legalText:{permission:"The exclusive venue for all disputes arising from the Agreement concluded via the Registered Connector (RC) shall be at the competent court at the location specified herein."},value:"Stuttgart"}}static LocationDataConsumer(){return{name:"LocationDataConsumer",const:"cx.location.dataConsumer:1",operandType:"string",legalText:{permission:"The exclusive venue for all disputes arising from the contract concluded via the Registered Connector (RC) shall be at the competent court at the registered office of the Data Consumer."},value:"cx.location.dataConsumer:1"}}static LocationContractReference(){return{name:"LocationContractReference",const:"cx.location.contractReference:1",operandType:"string",legalText:{permission:"The exclusive venue for all disputes arising from the Agreement concluded via the Registered Connector (RC) shall correspond to the venue specified in the referenced contract (as referenced in cx-policy:ContractReference)."},value:"cx.location.contractReference:1"}}static PrecedenceContractReference(){return{name:"PrecedenceContractReference",const:"cx.precedence.contractReference:1",operandType:"string",legalText:{permission:"The Parties are free to agree on additional provisions in a separately referenced contract, in addition to the arrangements made via the Registered Connector (RC) Process (referenced in leftOperand: contractReference). In the event of any conflict between the provisions agreed via the RC Process and those of the referenced contract, the provisions of the contract shall take precedence."},value:"cx.precedence.contractReference:1"}}static PrecedenceRcAgreement(){return{name:"PrecedenceRcAgreement",const:"cx.precedence.rcAgreement:1",operandType:"string",legalText:{permission:"The Parties are free to agree on additional provisions in a referenced contract (as referenced in leftOperand: contractReference) in addition to the arrangements agreed via the Registered Connector (RC) Process. In such case, the provisions agreed via the RC Process shall take precedence over the provisions of the referenced contract."},value:"cx.precedence.rcAgreement:1"}}static DataUsageEndDurationDays(){return{name:"DataUsageEndDurationDays",operandType:"integer",legalText:{permission:"The Data Provider shall make the Data available for the usage period specified herein, measured in days, in accordance with the usage conditions set out in cx-policy:UsagePurpose, commencing from the moment of concluding the Agreement via the Registered Connector (RC). Upon expiry of the permitted usage period, the Data Consumer shall no longer be entitled to use the Data, and shall delete the Data from all systems and storage media in order to prevent any further use, unless the Data Consumer has received the same Data under another valid contract. The Agreement shall terminate automatically upon expiry of the usage period for the Data, without the need for a separate notice of termination."},value:"60"}}static DataUsageEndDate(){return{name:"DataUsageEndDate",operandType:"string",pattern:/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(Z|[+-]\d{2}:\d{2})$/,legalText:{permission:"The Data Provider shall make the Data available with a usage period permitted until the end date specified herein, in accordance with the usage conditions specified in cx-policy:UsagePurpose, commencing from the second the Agreement is concluded via the Registered Connector (RC). Upon expiry of the usage period, the Data Consumer shall no longer be entitled to use the Data and shall delete the Data in order to prevent any further Use, unless the Data Consumer has received the same Data under another still valid contract. The Agreement shall terminate upon expiry of the usage period of the Data without the need for a separate notice of termination."},value:"2025-12-31T23:59:59Z"}}static DataUsageEndDefinition(){return{name:"DataUsageEndDefinition",const:"cx.dataUsageEnd.unlimited:1",operandType:"string",legalText:{permission:"The Data Provider shall make the Data available for an unlimited period of use in accordance with the usage conditions specified in cx-policy:UsagePurpose, commencing from the second the Agreement is concluded via the Registered Connector (RC)."},value:"cx.dataUsageEnd.unlimited:1"}}static ThirdPartyForbidden(){return{name:"ThirdPartyForbidden",const:"cx.thirdParty.forbidden:1",operandType:"string",legalText:{prohibition:"The Data Consumer is prohibited from making the Data available to third parties, either temporarily or permanently, from reproducing, distributing, or publicly displaying the Data; this also applies insofar as the data constitutes essential or non-essential parts of a database (Section 87a German Act on Copyright and Related Rights (UrhG)), unless otherwise individually agreed between the Parties in the usage purposes for a specific use case (cx-policy:UsagePurpose) or in the referenced bilateral contract (cx-policy:ContractReference). The Data Provider\u2019s right to reproduce the Data provided by it for internal purposes remains unaffected."},value:"cx.thirdParty.forbidden:1"}}static ManipulationForbidden(){return{name:"ManipulationForbidden",const:"cx.manipulation.forbidden:1",operandType:"string",legalText:{prohibition:"The Data Consumer is prohibited from modifying the Data, separating the associated metadata from the Data, or otherwise altering it, or from attempting any of the aforementioned actions or permitting a third party to perform such actions, unless otherwise individually agreed between the parties in the usage purposes for a specific use case (cx-policy:UsagePurpose) or in the referenced bilateral contract (cx-policy:ContractReference). The Data Provider\u2019s right to reproduce the Data provided by it for internal purposes remains unaffected."},value:"cx.manipulation.forbidden:1"}}static DerivationsForbidden(){return{name:"DerivationsForbidden",const:"cx.derivations.forbidden:1",operandType:"string",legalText:{prohibition:"The Data Consumer is prohibited from creating derivative works from the Data (including making substantial changes to any databases provided within the meaning of Section 87a para. 1 sentence 2 German Act on Copyright and Related Rights (UrhG), unless otherwise individually agreed between the Parties in the usage purposes for a specific Use Case (cx-policy:UsagePurpose) or in the referenced bilateral contract (cx-policy:ContractReference)."},value:"cx.derivations.forbidden:1"}}static ExtraordinaryAnalyticsForbidden(){return{name:"ExtraordinaryAnalyticsForbidden",const:"cx.extraordinaryAnalytics.forbidden:1",operandType:"string",legalText:{prohibition:"The Data Consumer is prohibited, insofar as the Data constitutes insignificant parts of a database within the meaning of Section 87b para. 1 sentence 1 German Act on Copyright and Related Rights (UrhG), from repeatedly and systematically carrying out actions that conflict with the normal evaluation of a database or unreasonably impair the legitimate interests of the Data Provider (Section 87b para. 1 sentence 2 UrhG), unless otherwise individually agreed between the Parties in the usage purposes for a specific Use Case (cx-policy:UsagePurpose) or in the referenced bilateral contract (cx-policy:ContractReference)."},value:"cx.extraordinaryAnalytics.forbidden:1"}}static DataProviderRemovalForbidden(){return{name:"DataProviderRemovalForbidden",const:"cx.dataProviderRemoval.forbidden:1",operandType:"string",legalText:{prohibition:"The Data Consumer is prohibited from removing the company identifiers and/or other references to the Data Provider contained in the Data and/or the associated metadata or databases, unless otherwise individually agreed between the Parties in the usage purposes for a specific Use Case (cx-policy:UsagePurpose) or in the referenced bilateral contract (cx-policy:ContractReference)."},value:"cx.dataProviderRemoval.forbidden:1"}}},ue=class{static DataProvisioningEndDurationDaysConstraint(){return new le("DataProvisioningEndDurationDays",["eq"],O.DataProvisioningEndDurationDays())}static DataProvisioningEndDateConstraint(){return new le("DataProvisioningEndDate",["eq"],O.DataProvisioningEndDate())}static FrameworkAgreementConstraint(){return new le("FrameworkAgreement",["eq"],O.DataExchangeGovernance())}static MembershipConstraint(){return new le("Membership",["eq"],O.MembershipActive())}static BusinessPartnerNumberConstraint(){return new le("BusinessPartnerNumber",["isAnyOf","isNoneOf"],[O.BusinessPartnerNumber()])}static BusinessPartnerGroupConstraint(){return new le("BusinessPartnerGroup",["isAnyOf","isNoneOf"],[O.BusinessPartnerGroup()])}static UsagePurposeConstraint(){return new le("UsagePurpose",["isAnyOf"],[O.CoreLegalRequirementForThirdParty(),O.CoreIndustrycore(),O.CoreQualityNotifications(),O.CoreDigitalTwinRegistry(),O.PfcBase(),O.QualityBase(),O.DcmBase(),O.PurisBase(),O.CircularDpp(),O.CircularSmc(),O.CircularMarketplace(),O.CircularMaterialaccounting(),O.BpdmGateUpload(),O.BpdmGateDownload(),O.BpdmPool(),O.BpdmVasCountryrisk(),O.BpdmVasDataqualityUpload(),O.BpdmVasDataqualityDownload(),O.BpdmVasBdvUpload(),O.BpdmVasFpdUpload(),O.BpdmVasFpdDownload(),O.BpdmVasSwdUpload(),O.BpdmVasSwdDownload(),O.BpdmVasNpsUpload(),O.BpdmVasNpsDownload(),O.CcmBase(),O.BpdmPoolAll(),O.LogisticsBase(),O.UsagePurposeIndividual()])}static ContractReferenceConstraint(){return new le("ContractReference",["isAllOf"],[O.ContractReference()])}static AffiliatesRegionConstraint(){return new le("AffiliatesRegion",["isAnyOf"],[O.RegionAll(),O.RegionEurope(),O.RegionNorthAmerica(),O.RegionSouthAmerica(),O.RegionAfrica(),O.RegionAsia(),O.RegionOceania(),O.RegionAntarctica()])}static AffiliatesBpnlConstraint1(){return new le("AffiliatesBpnl",["isAnyOf"],[O.AffiliatesBpnl()])}static DataFrequencyConstraint(){return new le("DataFrequency",["eq"],[O.DataFrequencyOnce(),O.DataFrequencyUnlimited()])}static VersionChangesConstraint(){return new le("VersionChanges",["eq"],[O.VersionChangesMinor(),O.VersionChangesMajor()])}static ContractTerminationConstraint(){return new le("ContractTermination",["eq"],[O.DataDeletion(),O.DataKeeping()])}static ConfidentialInformationMeasuresConstraint(){return new le("ConfidentialInformationMeasures",["eq"],O.ConfidentialityMeasures())}static ConfidentialInformationSharingConstraint(){return new le("ConfidentialInformationSharing",["isAnyOf"],[O.SharingAffiliates(),O.SharingManagedLegalEntity()])}static ExclusiveUsageConstraint(){return new le("ExclusiveUsage",["eq"],O.ExclusiveUsageDataConsumer())}static WarrantyConstraint(){return new le("Warranty",["eq"],[O.WarrantyNone(),O.WarrantyContractReference(),O.WarrantyDataQualityIssues()])}static WarrantyDurationConstraint(){return new le("WarrantyDurationMonths",["eq"],O.WarrantyDurationMonths())}static WarrantyConstraint1(){return new le("WarrantyDefinition",["eq"],O.WarrantyContractEndDate())}static LiabilityConstraint(){return new le("Liability",["eq"],[O.GrossNegligence(),O.SlightNegligence()])}static JurisdictionLocationConstraint(){return new le("JurisdictionLocation",["eq"],O.LocationString())}static JurisdictionLocationReferenceConstraint(){return new le("JurisdictionLocationReference",["eq"],[O.LocationDataConsumer(),O.LocationContractReference()])}static PrecedenceConstraint(){return new le("Precedence",["eq"],[O.PrecedenceContractReference(),O.PrecedenceRcAgreement()])}static DataUsageEndDurationDaysConstraint(){return new le("DataUsageEndDurationDays",["eq"],O.DataUsageEndDurationDays())}static DataUsageEndDateConstraint(){return new le("DataUsageEndDate",["eq"],O.DataUsageEndDate())}static DataUsageEndDefinitionConstraint(){return new le("DataUsageEndDefinition",["eq"],O.DataUsageEndDefinition())}static UsageRestrictionConstraint(){return new le("UsageRestriction",["isAllOf"],[O.ThirdPartyForbidden(),O.ManipulationForbidden(),O.DerivationsForbidden(),O.ExtraordinaryAnalyticsForbidden(),O.DataProviderRemovalForbidden()])}},Nn=class{static AccessPermissions(){return[ue.FrameworkAgreementConstraint(),ue.MembershipConstraint(),ue.BusinessPartnerNumberConstraint(),ue.BusinessPartnerGroupConstraint()]}static UsagePermissions(){return[ue.MembershipConstraint(),ue.ContractReferenceConstraint(),ue.AffiliatesRegionConstraint(),ue.AffiliatesBpnlConstraint1(),ue.DataFrequencyConstraint(),ue.VersionChangesConstraint(),ue.ContractTerminationConstraint(),ue.ConfidentialInformationMeasuresConstraint(),ue.ConfidentialInformationSharingConstraint(),ue.ExclusiveUsageConstraint(),ue.WarrantyConstraint(),ue.WarrantyDurationConstraint(),ue.WarrantyConstraint1(),ue.LiabilityConstraint(),ue.JurisdictionLocationConstraint(),ue.JurisdictionLocationReferenceConstraint(),ue.PrecedenceConstraint(),ue.DataUsageEndDurationDaysConstraint(),ue.DataUsageEndDateConstraint(),ue.DataUsageEndDefinitionConstraint()]}static UsageObligations(){return[ue.DataProvisioningEndDurationDaysConstraint(),ue.DataProvisioningEndDateConstraint()]}static UsageProhibitions(){return[ue.AffiliatesRegionConstraint(),ue.AffiliatesBpnlConstraint1(),ue.UsageRestrictionConstraint()]}},aa=class{static AccessTemplates(){return Nn.AccessPermissions().map(t=>{let n=t,r=`Permission - ${qe(n.leftOperand)}`,i=new uo(r),o=new Wn;return o.name=qe(n.leftOperand),o.action="access",o.constraints.push(t),i.policy.permissions.push(o),i.policy.type="access",i})}static UsageTemplates(){let t=Nn.UsagePermissions().map(o=>{let s=o,a=`Permission - ${qe(s.leftOperand)}`,l=new uo(a),c=new Wn;return c.name=qe(s.leftOperand),c.constraints.push(o),l.policy.permissions.push(c),l}),n=Nn.UsageObligations().map(o=>{let s=o,a=`Obligation - ${qe(s.leftOperand)}`,l=new uo(a),c=new Wn;return c.name=qe(s.leftOperand),c.constraints.push(o),l.policy.obligations.push(c),l}),r=Nn.UsageProhibitions().map(o=>{let s=o,a=`Prohibition - ${qe(s.leftOperand)}`,l=new uo(a),c=new Wn;return c.name=qe(s.leftOperand),c.constraints.push(o),l.policy.prohibitions.push(c),l}),i=[...t,...n,...r];return this._addAgreementAndPurpose(i),i}static _addAgreementAndPurpose(t){let n=new Wn;n.name="Usage Base",n.constraints.push(ue.UsagePurposeConstraint(),ue.FrameworkAgreementConstraint()),t.forEach(r=>r.policy.permissions.push(n))}};var Lv=(e,t)=>t.name;function l2(e,t){if(e&1){let n=oe();v(0,"div",5)(1,"li",7),j("click",function(){let i=G(n).$implicit,o=I();return z(o.onRuleSelectionChange(i,"Permission"))}),v(2,"a"),w(3),C()(),v(4,"button",8),j("click",function(){let i=G(n).$implicit,o=I();return z(o.removeRule(i,"Permission"))}),v(5,"span",4),w(6,"delete"),C()()()}if(e&2){let n=t.$implicit,r=I();E(2),Yr("text-primary",n===r.currentPermission),E(),ge(n.name)}}function c2(e,t){if(e&1){let n=oe();v(0,"div",5)(1,"li",7),j("click",function(){let i=G(n).$implicit,o=I(2);return z(o.onRuleSelectionChange(i,"Obligation"))}),v(2,"a"),w(3),C()(),v(4,"button",8),j("click",function(){let i=G(n).$implicit,o=I(2);return z(o.removeRule(i,"Obligation"))}),v(5,"span",4),w(6,"delete"),C()()()}if(e&2){let n=t.$implicit,r=I(2);E(2),Yr("text-primary",n===r.currentPermission),E(),ge(n.name)}}function u2(e,t){if(e&1){let n=oe();v(0,"div",5)(1,"li",7),j("click",function(){let i=G(n).$implicit,o=I(2);return z(o.onRuleSelectionChange(i,"Prohibition"))}),v(2,"a"),w(3),C()(),v(4,"button",8),j("click",function(){let i=G(n).$implicit,o=I(2);return z(o.removeRule(i,"Prohibition"))}),v(5,"span",4),w(6,"delete"),C()()()}if(e&2){let n=t.$implicit,r=I(2);E(2),Yr("text-primary",n===r.currentPermission),E(),ge(n.name)}}function d2(e,t){if(e&1){let n=oe();v(0,"li")(1,"h2",2)(2,"span"),w(3,"Obligation(s)"),C(),v(4,"button",3),j("click",function(){G(n);let i=I();return z(i.addRule("Obligation"))}),v(5,"span",4),w(6,"add"),C()()(),v(7,"ul"),Ae(8,c2,7,3,"div",5,Lv),C()(),v(10,"li")(11,"h2",2)(12,"span"),w(13,"Prohibition(s)"),C(),v(14,"button",3),j("click",function(){G(n);let i=I();return z(i.addRule("Prohibition"))}),v(15,"span",4),w(16,"add"),C()()(),v(17,"ul"),Ae(18,u2,7,3,"div",5,Lv),C()()}if(e&2){let n=I();E(8),Oe(n.policyConfig.policy.obligations),E(10),Oe(n.policyConfig.policy.prohibitions)}}function f2(e,t){if(e&1){let n=oe();v(0,"app-permission",9),j("permissionChange",function(){G(n);let i=I();return z(i.onRuleChange())}),C()}if(e&2){let n=I();V("permission",n.currentPermission)("constraints",n.constraintTemplates)}}var Xf=class e{_policyConfig;currentPermission;constraintTemplates;get policyConfig(){return this._policyConfig}set policyConfig(t){this._policyConfig=t,this.currentPermission=this._selectFirstRule()}policyChange=new ae;_selectFirstRule(){if(this.policyConfig.policy.permissions.length>0)return this.changeConstraintTemplates("Permission"),this.policyConfig.policy.permissions[0];if(this.policyConfig.policy.obligations.length>0)return this.changeConstraintTemplates("Obligation"),this.policyConfig.policy.obligations[0];if(this.policyConfig.policy.prohibitions.length>0)return this.changeConstraintTemplates("Prohibition"),this.policyConfig.policy.prohibitions[0]}changeConstraintTemplates(t){switch(this.policyConfig.policy.type){case"access":{this.constraintTemplates=Nn.AccessPermissions();break}case"use":switch(t){case"Permission":{this.constraintTemplates=Nn.UsagePermissions();break}case"Obligation":{this.constraintTemplates=Nn.UsageObligations();break}case"Prohibition":{this.constraintTemplates=Nn.UsageProhibitions();break}}}}addRule(t){let n=new Wn(`New ${t}`);switch(n.action=this.policyConfig.policy.type,t){case"Permission":this.policyConfig.policy.permissions.push(n);break;case"Obligation":this.policyConfig.policy.obligations.push(n);break;case"Prohibition":this.policyConfig.policy.prohibitions.push(n);break}this.onRuleSelectionChange(n,t),this.onRuleChange()}onRuleChange(){this.policyChange.emit(this.policyConfig)}onRuleSelectionChange(t,n){this.currentPermission=t,this.changeConstraintTemplates(n)}removeRule(t,n){switch(n){case"Permission":this.policyConfig.policy.permissions=this.policyConfig.policy.permissions.filter(r=>r!=t);break;case"Obligation":this.policyConfig.policy.obligations=this.policyConfig.policy.obligations.filter(r=>r!=t);break;case"Prohibition":this.policyConfig.policy.prohibitions=this.policyConfig.policy.prohibitions.filter(r=>r!=t);break}if(t==this.currentPermission)switch(n){case"Permission":this.currentPermission=this.policyConfig.policy.permissions[0]??this._selectFirstRule();break;case"Obligation":this.currentPermission=this.policyConfig.policy.obligations[0]??this._selectFirstRule();break;case"Prohibition":this.currentPermission=this.policyConfig.policy.prohibitions[0]??this._selectFirstRule();break}this.policyChange.emit(this.policyConfig)}Action=Er;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=$e({type:e,selectors:[["app-policy-builder"]],inputs:{policyConfig:"policyConfig"},outputs:{policyChange:"policyChange"},decls:14,vars:2,consts:[[1,"w-full","h-full","grid","grid-cols-[auto_1fr]","gap-4","pb-4"],[1,"menu","bg-base-100","rounded-2xl","pr-3"],[1,"menu-title","flex","justify-between","pr-0"],["title","Add permission",1,"btn","btn-primary","btn-outline","btn-xs","btn-soft","ml-2",3,"click"],[1,"material-symbols-rounded","!text-[1.2rem]"],[1,"group","flex","flex-row","justify-between","flex-nowrap","items-center"],["class","max-w-full",3,"permission","constraints","permissionChange",4,"ngIf"],[1,"w-40","mr-2",3,"click"],["title","Delete permission",1,"btn","btn-error","btn-outline","btn-xs","btn-soft","invisible","group-hover:visible",3,"click"],[1,"max-w-full",3,"permissionChange","permission","constraints"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"ul",1)(2,"li")(3,"h2",2)(4,"span"),w(5,"Permission(s)"),C(),v(6,"button",3),j("click",function(){return r.addRule("Permission")}),v(7,"span",4),w(8,"add"),C()()(),v(9,"ul"),Ae(10,l2,7,3,"div",5,Lv),C()(),$(12,d2,20,0),C(),$(13,f2,1,2,"app-permission",6),C()),n&2&&(E(10),Oe(r.policyConfig.policy.permissions),E(2),W(r.policyConfig.policy.type===r.Action.Use?12:-1),E(),V("ngIf",r.currentPermission&&r.constraintTemplates))},dependencies:[Ku,Qf,In],encapsulation:2})};var p2=["https://w3id.org/catenax/2025/9/policy/odrl.jsonld","https://w3id.org/catenax/2025/9/policy/context.jsonld"],h2={"@vocab":"https://w3id.org/edc/v0.0.1/ns/"},g2={"@context":{},"@type":"PolicyDefinition","@id":"CHANGE-ME",policy:{}},bx={"@type":"Set","@context":{}},m2=Object.assign(g2,{policy:B(T({},bx),{permission:[]})}),Kf=class{policyService;constructor(t){this.policyService=t}toJsonLd(t){let n=t.policy.permissions.map(this.mapPermission.bind(this)),r=t.policy.type==="use"?t.policy.obligations.map(this.mapPermission.bind(this)):void 0,i=t.policy.type==="use"?t.policy.prohibitions.map(this.mapPermission.bind(this)):void 0,o=this.policyService.namespacesFor(t),s=this.policyService.contextsFor(t),a=[...p2,...s];return Object.assign(m2,{"@context":Object.assign(h2,o),policy:B(T({},bx),{"@context":a,permission:n,obligation:r,prohibition:i})})}mapPermission(t){let n;if(t.constraints.length>1){let r=new co;t.constraints.forEach(i=>r.constraints.push(i)),n=[r]}else n=t.constraints;return{action:t.action.toString(),constraint:n.map(r=>this.mapConstraint(r))}}mapConstraint(t){if(t instanceof le)return{leftOperand:t.leftOperand.toString(),operator:t.selectedOperator.toString(),rightOperand:t.mapRightOperand()};if(t instanceof co){let n={};return n[t.operator.toString().toLowerCase()]=t.constraints.map(this.mapConstraint.bind(this)),n}return{}}};var Yf=class e{constructor(t){this.policyService=t;this.formatters.set("Plain",new Kf(t))}formatters=new Map;toJsonLd(t,n="Prefixed"){let r=this.formatters.get(n);if(r!=null)return r.toJsonLd(t);throw new Error("Formatter not found")}formatPolicy(t){return JSON.stringify(t,null,2)}static \u0275fac=function(n){return new(n||e)(U(li))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var v2=(e,t)=>t.policy,wx=(e,t)=>t.name,C2=(e,t)=>t.leftOperand;function _2(e,t){if(e&1&&(v(0,"option",8),w(1),C()),e&2){let n=t.$implicit;V("ngValue",n),E(),ge(n.name)}}function b2(e,t){e&1&&(v(0,"button",23),he(1,"span",26),C())}function w2(e,t){e&1&&(v(0,"div",24)(1,"button",27)(2,"span",19),w(3,"check"),C()()())}function D2(e,t){e&1&&(v(0,"div",25)(1,"button",28)(2,"span",19),w(3,"error"),C()()())}function E2(e,t){if(e&1&&$(0,b2,2,0,"button",23)(1,w2,4,0,"div",24)(2,D2,4,0,"div",25),e&2){let n=I();W(n.validationLoading?0:n.isValid?1:n.isValid?-1:2)}}function I2(e,t){e&1&&(v(0,"div",12)(1,"button",29)(2,"span",19),w(3,"question_mark"),C()()())}function T2(e,t){if(e&1&&(v(0,"div",20)(1,"div",30)(2,"p",31),w(3,"Invalid Policy"),C(),v(4,"p",32),w(5),C()()()),e&2){let n=I();E(5),ge(n.validationErrorText)}}function x2(e,t){if(e&1&&he(0,"p",38),e&2){let n=I(2).$implicit;V("innerHTML",n.legalText.permission,ku)}}function S2(e,t){if(e&1&&$(0,x2,1,1,"p",38),e&2){let n=I().$implicit;W(n.legalText!=null&&n.legalText.permission?0:-1)}}function M2(e,t){if(e&1&&he(0,"p",38),e&2){let n=I(2).$implicit;V("innerHTML",n.legalText.obligation,ku)}}function A2(e,t){if(e&1&&$(0,M2,1,1,"p",38),e&2){let n=I().$implicit;W(n.legalText!=null&&n.legalText.obligation?0:-1)}}function O2(e,t){if(e&1&&he(0,"p",38),e&2){let n=I(2).$implicit;V("innerHTML",n.legalText.prohibition,ku)}}function N2(e,t){if(e&1&&$(0,O2,1,1,"p",38),e&2){let n=I().$implicit;W(n.legalText!=null&&n.legalText.prohibition?0:-1)}}function R2(e,t){if(e&1&&(v(0,"div")(1,"span"),w(2,"Additional Information: "),C(),v(3,"span",39),w(4),C()()),e&2){let n=I().$implicit;E(4),ge(n.legalText.additionalInformation)}}function P2(e,t){if(e&1&&(v(0,"div")(1,"span"),w(2,"Right Operand: "),C(),v(3,"span",37),w(4),C(),v(5,"div"),$(6,S2,1,1)(7,A2,1,1)(8,N2,1,1)(9,R2,5,1,"div"),C()()),e&2){let n,r=t.$implicit,i=I(3).$implicit,o=I(2);E(4),ge(o.camelCaseToWords(r.name)),E(2),W((n=i)==="permissions"?6:n==="obligations"?7:n==="prohibitions"?8:-1),E(3),W(r.legalText!=null&&r.legalText.additionalInformation?9:-1)}}function k2(e,t){if(e&1&&(v(0,"div")(1,"p"),w(2),C(),Ae(3,P2,10,3,"div",null,wx),C()),e&2){let n=t.$implicit,r=I(4);E(2),bn("Constraint: ",r.camelCaseToWords(n.leftOperand),""),E(),Oe(r.getRightOperandArray(n.rightOperandValue))}}function F2(e,t){if(e&1&&(v(0,"div",36)(1,"p"),w(2),C(),Ae(3,k2,5,1,"div",null,C2),C()),e&2){let n=t.$implicit,r=I(3);E(2),bn("Name: ",n.name,""),E(),Oe(r.getAtomicConstraints(n.constraints))}}function L2(e,t){if(e&1&&(v(0,"p",35),w(1),C(),Ae(2,F2,5,1,"div",36,wx)),e&2){let n=t.$implicit,r=I(2);E(),ge(n),E(),Oe(r.getPolicyPermission(n))}}function j2(e,t){if(e&1&&(v(0,"div",21)(1,"p",33),w(2,"Legal Information"),C(),v(3,"div",34),Ae(4,L2,4,1,null,null,_n),C()()),e&2){let n=I();E(4),Oe(n.legalTextKinds)}}function V2(e,t){if(e&1&&(Cr(0),v(1,"pre")(2,"code"),w(3),C()(),_r()),e&2){let n=t.$implicit,r=t.index;E(),Ft("data-prefix",r+1),E(2),ge(n)}}function U2(e,t){if(e&1&&(v(0,"div",22),$(1,V2,4,2,"ng-container",40),C()),e&2){let n=I();E(),V("ngForOf",n.text.split(`
`))}}var ep=class e{constructor(t,n,r,i,o){this.formatService=t;this.policyService=n;this.edcClientService=r;this.stateService=i;this.http=o;this.currentFormat="Plain",this.templates=aa.UsageTemplates(),this.updateLegalTextKinds("use"),this.currentTemplate=this.templates[0],this.outputFormats=n.supportedOutput(),i.currentEdcConfig$.pipe(Ui(this.destroy$),Le(s=>s!==void 0)).subscribe(s=>{this.validationEndpointUrl=s.managementUrl.concat("/v3/validation/policydefinition")}),r.isHealthy$.pipe(Le(s=>s),Qt(1)).subscribe(()=>b(this,null,function*(){return yield this._validatePolicy()}))}destroy$=new Se;text;outputFormats;policyType="use";templates;currentFormat;currentTemplate;showLegalText=!0;legalTextKinds=[];isValid=!0;validationLoading=!1;validationEndpointUrl="";validationErrorText;ngOnInit(){return b(this,null,function*(){yield this.updateJsonText(this.currentTemplate,this.currentFormat)})}updateLegalTextKinds(t){t==="use"?this.legalTextKinds=["permissions","obligations","prohibitions"]:this.legalTextKinds=["permissions"]}onTypeChange(t){return b(this,null,function*(){this.policyType=t,t==="use"?this.templates=aa.UsageTemplates():this.templates=aa.AccessTemplates(),this.currentTemplate=this.templates[0],this.updateLegalTextKinds(t),yield this.updateJsonText(this.currentTemplate,this.currentFormat)})}onConfigSelectionChange(t){return b(this,null,function*(){yield this.updateJsonText(t,this.currentFormat)})}onConfigChange(t){return b(this,null,function*(){yield this.updateJsonText(t,this.currentFormat)})}_validatePolicy(){return b(this,null,function*(){(yield Rn(this.edcClientService.isHealthy$))&&this.validationEndpointUrl&&(this.validationLoading=!0,this.http.post(this.validationEndpointUrl,JSON.parse(this.text)).pipe(Pn(()=>this.validationLoading=!1)).subscribe({next:t=>{this.isValid=t.isValid,t.errors?this.validationErrorText=JSON.stringify(t.errors):this.validationErrorText=void 0},error:t=>{this.isValid=!1,this.validationErrorText=t.error[0].message}}))})}updateJsonText(t,n){return b(this,null,function*(){let r=this.formatService.toJsonLd(t,n);this.text=this.formatService.formatPolicy(r),yield this._validatePolicy()})}copyPolicyToClipboard(){return b(this,null,function*(){yield navigator.clipboard.writeText(this.text)})}getPolicyPermission(t){return this.currentTemplate.policy[t]}getAtomicConstraints(t){return t}getRightOperandArray(t){let n=Array.isArray(t)?t:[t],r=new Set;return n.filter(i=>r.has(i.name)?!1:(r.add(i.name),!0))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}Action=Er;camelCaseToWords=qe;static \u0275fac=function(n){return new(n||e)(R(Yf),R(li),R(Kl),R(Zf),R(ri))};static \u0275cmp=$e({type:e,selectors:[["app-policy-editor"]],decls:36,vars:12,consts:[[1,"grid","gap-4","grid-cols-1","xl:grid-cols-3","xl:grid-rows-[auto_1fr]","h-full"],[1,"flex","justify-center","items-center","xl:col-span-2","xl:row-span-1","bg-base-300","rounded-2xl","shadow-xl","p-4"],[1,"select","w-full"],[1,"label"],[1,"select","w-full",3,"ngModelChange","ngModel"],[3,"value"],[1,"xl:col-span-2","xl:row-span-1","bg-base-300","rounded-2xl","shadow-xl","overflow-y-auto"],[1,"w-full","h-full","grid","grid-cols-1","grid-rows-[auto_1fr]","gap-4","p-4","pb-0"],[3,"ngValue"],[1,"h-full",3,"policyChange","policyConfig"],[1,"xl:row-span-2","xl:col-start-3","xl:row-start-1","relative","overflow-auto","rounded-2xl","shadow-xl","bg-base-300"],[1,"relative","2xl:absolute","2xl:top-4","2xl:right-4","z-10","flex","justify-between","items-center","w-full","2xl:w-fit","p-4","pb-0","2xl:p-0"],["data-tip","For policy validation you need a connection to a connector.",1,"tooltip","2xl:tooltip-bottom","tooltip-right"],[1,"tabs","tabs-box","shadow-md","bg-base-100","[&_input]:checked:!bg-primary/8","[&_input]:checked:!text-primary","[&_input]:hover:text-primary"],["data-tip","Show legal information text of constraints.",1,"tooltip-left","tooltip-primary","tooltip"],["type","radio","name","contract-types","aria-label","Legal Text",1,"tab",3,"change","checked"],["data-tip","Show JSON-LD policy definition.",1,"tooltip-left","tooltip-primary","tooltip"],["type","radio","name","contract-types","aria-label","JSON-LD",1,"tab",3,"change","checked"],["tabindex","0","title","Copy to clipboard",1,"btn","btn-soft","btn-primary","fixed","right-8","bottom-8","z-10","shadow-md",3,"click"],[1,"material-symbols-rounded"],[1,"w-full","p-3","pb-0","box-border"],[1,"w-full","h-full","p-6"],[1,"mockup-code","min-h-full"],[1,"btn","btn-sm","btn-circle","btn-disabled","2xl:mx-4","p-1","!shadow-md","!bg-primary","!text-primary-content"],["data-tip","Policy is valid",1,"tooltip","tooltip-secondary","2xl:tooltip-bottom","tooltip-right"],["data-tip","Policy is invalid",1,"tooltip","2xl:tooltip-bottom","tooltip-right"],[1,"loading","loading-spinner"],[1,"btn","btn-sm","btn-circle","btn-disabled","2xl:mx-4","p-1","!shadow-md","!bg-secondary","!text-secondary-content"],[1,"btn","btn-sm","btn-circle","btn-disabled","2xl:mx-4","p-1","!shadow-md","!bg-error","!text-error-content"],[1,"btn","btn-sm","btn-circle","btn-disabled","2xl:mx-4","p-1","!shadow-md","!bg-neutral","!text-neutral-content","opacity-60"],[1,"w-full","p-3","2xl:pt-5","mb-0","rounded-xl","bg-error/80","text-error-content"],[1,"text-lg","font-bold"],[1,"2xl:pt-2"],[1,"text-2xl"],[1,"pl-2","pb-16","[&_div]:border-base-content/15","text-base-content/50","[&_div]:border-l-1","[&_div]:ml-1","[&_div]:pl-3"],[1,"text-xl","capitalize","text-base-content","mt-2"],[1,"[&_a]:link","[&_a]:link-secondary"],[1,"font-thin","text-primary"],[1,"text-base-content",3,"innerHTML"],[1,"text-base-content"],[4,"ngFor","ngForOf"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"div",1)(2,"label",2)(3,"span",3),w(4,"Select Policy Type"),C(),v(5,"select",4),ze("ngModelChange",function(o){return tt(r.policyType,o)||(r.policyType=o),o}),j("ngModelChange",function(o){return r.onTypeChange(o)}),v(6,"option",5),w(7,"Access Policy"),C(),v(8,"option",5),w(9,"Usage Policy"),C()()()(),v(10,"div",6)(11,"div",7)(12,"label",2)(13,"span",3),w(14,"Select Policy Template"),C(),v(15,"select",4),ze("ngModelChange",function(o){return tt(r.currentTemplate,o)||(r.currentTemplate=o),o}),j("ngModelChange",function(o){return r.onConfigSelectionChange(o)}),Ae(16,_2,2,2,"option",8,v2),C()(),v(18,"app-policy-builder",9),j("policyChange",function(o){return r.onConfigChange(o)}),C()()(),v(19,"div",10)(20,"div",11),$(21,E2,3,1),Ie(22,"async"),$(23,I2,4,0,"div",12),v(24,"div",13)(25,"div",14)(26,"input",15),j("change",function(){return r.showLegalText=!0}),C()(),v(27,"div",16)(28,"input",17),j("change",function(){return r.showLegalText=!1}),C()()()(),v(29,"button",18),j("click",function(){return r.copyPolicyToClipboard()}),v(30,"span",19),w(31,"content_copy"),C(),w(32," Copy JSON-LD "),C(),$(33,T2,6,1,"div",20)(34,j2,6,0,"div",21)(35,U2,2,1,"div",22),C()()),n&2&&(E(5),Ge("ngModel",r.policyType),E(),V("value",r.Action.Access),E(2),V("value",r.Action.Use),E(7),Ge("ngModel",r.currentTemplate),E(),Oe(r.templates),E(2),V("policyConfig",r.currentTemplate),E(3),W(Te(22,10,r.edcClientService.isHealthy$)?21:23),E(5),V("checked",r.showLegalText),E(2),V("checked",!r.showLegalText),E(5),W(r.isValid?-1:33),E(),W(r.showLegalText?34:35))},dependencies:[Xf,In,go,mo,Ir,Zn,Qn,ms,$a],encapsulation:2})};var Dx=[{path:"",component:ep}];var tp=class e{constructor(t){this.http=t}baseHref="/";load(){return b(this,null,function*(){try{this.baseHref=(yield Rn(this.http.get("config/APP_BASE_HREF.txt",{responseType:"text"}))).replace(/\n/g,"")}catch{console.debug('No base href config found. Default is "/"')}})}get(){return this.baseHref}static \u0275fac=function(n){return new(n||e)(U(ri))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})},Ex={providers:[z0({eventCoalescing:!0}),Um(Dx),hm(),zg(()=>A(tp).load()),{provide:Zu,useFactory:e=>e.get(),deps:[tp]}]};var np=class e{constructor(t){this.http=t}themes=["Dark","Light"];edcConfigs;appConfig;ngOnInit(){this.edcConfigs=Rn(this.http.get("config/edc-connector-config.json")),this.appConfig=Rn(this.http.get("config/app-config.json"))}static \u0275fac=function(n){return new(n||e)(R(ri))};static \u0275cmp=$e({type:e,selectors:[["app-root"]],decls:1,vars:3,consts:[[3,"appConfig","edcConfigs","themes"]],template:function(n,r){n&1&&he(0,"lib-dashboard-app",0),n&2&&V("appConfig",r.appConfig)("edcConfigs",r.edcConfigs)("themes",r.themes)},dependencies:[Cx],encapsulation:2})};dm(np,Ex).catch(e=>console.error(e));
